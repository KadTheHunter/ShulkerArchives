(function(factory){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],function($){return factory($,window,document)})}else if(typeof exports==="object"){var jq=require("jquery");if(typeof window!=="undefined"){module.exports=function(root,$){if(!root){root=window}if(!$){$=jq(root)}return factory($,root,root.document)}}else{return factory(jq,window,window.document)}}else{window.DataTable=factory(jQuery,window,document)}})(function($,window,document,undefined){"use strict";var DataTable=function(selector,options){if(DataTable.factory(selector,options)){return DataTable}if(this instanceof DataTable){return $(selector).DataTable(options)}else{options=selector}this.$=function(sSelector,oOpts){return this.api(true).$(sSelector,oOpts)};this._=function(sSelector,oOpts){return this.api(true).rows(sSelector,oOpts).data()};this.api=function(traditional){return traditional?new _Api(_fnSettingsFromNode(this[_ext.iApiIndex])):new _Api(this)};this.fnAddData=function(data,redraw){var api=this.api(true);var rows=Array.isArray(data)&&(Array.isArray(data[0])||$.isPlainObject(data[0]))?api.rows.add(data):api.row.add(data);if(redraw===undefined||redraw){api.draw()}return rows.flatten().toArray()};this.fnAdjustColumnSizing=function(bRedraw){var api=this.api(true).columns.adjust();var settings=api.settings()[0];var scroll=settings.oScroll;if(bRedraw===undefined||bRedraw){api.draw(false)}else if(scroll.sX!==""||scroll.sY!==""){_fnScrollDraw(settings)}};this.fnClearTable=function(bRedraw){var api=this.api(true).clear();if(bRedraw===undefined||bRedraw){api.draw()}};this.fnClose=function(nTr){this.api(true).row(nTr).child.hide()};this.fnDeleteRow=function(target,callback,redraw){var api=this.api(true);var rows=api.rows(target);var settings=rows.settings()[0];var data=settings.aoData[rows[0][0]];rows.remove();if(callback){callback.call(this,settings,data)}if(redraw===undefined||redraw){api.draw()}return data};this.fnDestroy=function(remove){this.api(true).destroy(remove)};this.fnDraw=function(complete){this.api(true).draw(complete)};this.fnFilter=function(sInput,iColumn,bRegex,bSmart,bShowGlobal,bCaseInsensitive){var api=this.api(true);if(iColumn===null||iColumn===undefined){api.search(sInput,bRegex,bSmart,bCaseInsensitive)}else{api.column(iColumn).search(sInput,bRegex,bSmart,bCaseInsensitive)}api.draw()};this.fnGetData=function(src,col){var api=this.api(true);if(src!==undefined){var type=src.nodeName?src.nodeName.toLowerCase():"";return col!==undefined||type=="td"||type=="th"?api.cell(src,col).data():api.row(src).data()||null}return api.data().toArray()};this.fnGetNodes=function(iRow){var api=this.api(true);return iRow!==undefined?api.row(iRow).node():api.rows().nodes().flatten().toArray()};this.fnGetPosition=function(node){var api=this.api(true);var nodeName=node.nodeName.toUpperCase();if(nodeName=="TR"){return api.row(node).index()}else if(nodeName=="TD"||nodeName=="TH"){var cell=api.cell(node).index();return[cell.row,cell.columnVisible,cell.column]}return null};this.fnIsOpen=function(nTr){return this.api(true).row(nTr).child.isShown()};this.fnOpen=function(nTr,mHtml,sClass){return this.api(true).row(nTr).child(mHtml,sClass).show().child()[0]};this.fnPageChange=function(mAction,bRedraw){var api=this.api(true).page(mAction);if(bRedraw===undefined||bRedraw){api.draw(false)}};this.fnSetColumnVis=function(iCol,bShow,bRedraw){var api=this.api(true).column(iCol).visible(bShow);if(bRedraw===undefined||bRedraw){api.columns.adjust().draw()}};this.fnSettings=function(){return _fnSettingsFromNode(this[_ext.iApiIndex])};this.fnSort=function(aaSort){this.api(true).order(aaSort).draw()};this.fnSortListener=function(nNode,iColumn,fnCallback){this.api(true).order.listener(nNode,iColumn,fnCallback)};this.fnUpdate=function(mData,mRow,iColumn,bRedraw,bAction){var api=this.api(true);if(iColumn===undefined||iColumn===null){api.row(mRow).data(mData)}else{api.cell(mRow,iColumn).data(mData)}if(bAction===undefined||bAction){api.columns.adjust()}if(bRedraw===undefined||bRedraw){api.draw()}return 0};this.fnVersionCheck=_ext.fnVersionCheck;var _that=this;var emptyInit=options===undefined;var len=this.length;if(emptyInit){options={}}this.oApi=this.internal=_ext.internal;for(var fn in DataTable.ext.internal){if(fn){this[fn]=_fnExternApiFunc(fn)}}this.each(function(){var o={};var oInit=len>1?_fnExtend(o,options,true):options;var i=0,iLen,j,jLen,k,kLen;var sId=this.getAttribute("id");var bInitHandedOff=false;var defaults=DataTable.defaults;var $this=$(this);if(this.nodeName.toLowerCase()!="table"){_fnLog(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}_fnCompatOpts(defaults);_fnCompatCols(defaults.column);_fnCamelToHungarian(defaults,defaults,true);_fnCamelToHungarian(defaults.column,defaults.column,true);_fnCamelToHungarian(defaults,$.extend(oInit,$this.data()),true);var allSettings=DataTable.settings;for(i=0,iLen=allSettings.length;i<iLen;i++){var s=allSettings[i];if(s.nTable==this||s.nTHead&&s.nTHead.parentNode==this||s.nTFoot&&s.nTFoot.parentNode==this){var bRetrieve=oInit.bRetrieve!==undefined?oInit.bRetrieve:defaults.bRetrieve;var bDestroy=oInit.bDestroy!==undefined?oInit.bDestroy:defaults.bDestroy;if(emptyInit||bRetrieve){return s.oInstance}else if(bDestroy){s.oInstance.fnDestroy();break}else{_fnLog(s,0,"Cannot reinitialise DataTable",3);return}}if(s.sTableId==this.id){allSettings.splice(i,1);break}}if(sId===null||sId===""){sId="DataTables_Table_"+DataTable.ext._unique++;this.id=sId}var oSettings=$.extend(true,{},DataTable.models.oSettings,{sDestroyWidth:$this[0].style.width,sInstance:sId,sTableId:sId});oSettings.nTable=this;oSettings.oApi=_that.internal;oSettings.oInit=oInit;allSettings.push(oSettings);oSettings.oInstance=_that.length===1?_that:$this.dataTable();_fnCompatOpts(oInit);_fnLanguageCompat(oInit.oLanguage);if(oInit.aLengthMenu&&!oInit.iDisplayLength){oInit.iDisplayLength=Array.isArray(oInit.aLengthMenu[0])?oInit.aLengthMenu[0][0]:oInit.aLengthMenu[0]}oInit=_fnExtend($.extend(true,{},defaults),oInit);_fnMap(oSettings.oFeatures,oInit,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]);_fnMap(oSettings,oInit,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]);_fnMap(oSettings.oScroll,oInit,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);_fnMap(oSettings.oLanguage,oInit,"fnInfoCallback");_fnCallbackReg(oSettings,"aoDrawCallback",oInit.fnDrawCallback,"user");_fnCallbackReg(oSettings,"aoServerParams",oInit.fnServerParams,"user");_fnCallbackReg(oSettings,"aoStateSaveParams",oInit.fnStateSaveParams,"user");_fnCallbackReg(oSettings,"aoStateLoadParams",oInit.fnStateLoadParams,"user");_fnCallbackReg(oSettings,"aoStateLoaded",oInit.fnStateLoaded,"user");_fnCallbackReg(oSettings,"aoRowCallback",oInit.fnRowCallback,"user");_fnCallbackReg(oSettings,"aoRowCreatedCallback",oInit.fnCreatedRow,"user");_fnCallbackReg(oSettings,"aoHeaderCallback",oInit.fnHeaderCallback,"user");_fnCallbackReg(oSettings,"aoFooterCallback",oInit.fnFooterCallback,"user");_fnCallbackReg(oSettings,"aoInitComplete",oInit.fnInitComplete,"user");_fnCallbackReg(oSettings,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user");oSettings.rowIdFn=_fnGetObjectDataFn(oInit.rowId);_fnBrowserDetect(oSettings);var oClasses=oSettings.oClasses;$.extend(oClasses,DataTable.ext.classes,oInit.oClasses);$this.addClass(oClasses.sTable);if(oSettings.iInitDisplayStart===undefined){oSettings.iInitDisplayStart=oInit.iDisplayStart;oSettings._iDisplayStart=oInit.iDisplayStart}if(oInit.iDeferLoading!==null){oSettings.bDeferLoading=true;var tmp=Array.isArray(oInit.iDeferLoading);oSettings._iRecordsDisplay=tmp?oInit.iDeferLoading[0]:oInit.iDeferLoading;oSettings._iRecordsTotal=tmp?oInit.iDeferLoading[1]:oInit.iDeferLoading}var oLanguage=oSettings.oLanguage;$.extend(true,oLanguage,oInit.oLanguage);if(oLanguage.sUrl){$.ajax({dataType:"json",url:oLanguage.sUrl,success:function(json){_fnCamelToHungarian(defaults.oLanguage,json);_fnLanguageCompat(json);$.extend(true,oLanguage,json,oSettings.oInit.oLanguage);_fnCallbackFire(oSettings,null,"i18n",[oSettings]);_fnInitialise(oSettings)},error:function(){_fnInitialise(oSettings)}});bInitHandedOff=true}else{_fnCallbackFire(oSettings,null,"i18n",[oSettings])}if(oInit.asStripeClasses===null){oSettings.asStripeClasses=[oClasses.sStripeOdd,oClasses.sStripeEven]}var stripeClasses=oSettings.asStripeClasses;var rowOne=$this.children("tbody").find("tr").eq(0);if($.inArray(true,$.map(stripeClasses,function(el,i){return rowOne.hasClass(el)}))!==-1){$("tbody tr",this).removeClass(stripeClasses.join(" "));oSettings.asDestroyStripes=stripeClasses.slice()}var anThs=[];var aoColumnsInit;var nThead=this.getElementsByTagName("thead");if(nThead.length!==0){_fnDetectHeader(oSettings.aoHeader,nThead[0]);anThs=_fnGetUniqueThs(oSettings)}if(oInit.aoColumns===null){aoColumnsInit=[];for(i=0,iLen=anThs.length;i<iLen;i++){aoColumnsInit.push(null)}}else{aoColumnsInit=oInit.aoColumns}for(i=0,iLen=aoColumnsInit.length;i<iLen;i++){_fnAddColumn(oSettings,anThs?anThs[i]:null)}_fnApplyColumnDefs(oSettings,oInit.aoColumnDefs,aoColumnsInit,function(iCol,oDef){_fnColumnOptions(oSettings,iCol,oDef)});if(rowOne.length){var a=function(cell,name){return cell.getAttribute("data-"+name)!==null?name:null};$(rowOne[0]).children("th, td").each(function(i,cell){var col=oSettings.aoColumns[i];if(!col){_fnLog(oSettings,0,"Incorrect column count",18)}if(col.mData===i){var sort=a(cell,"sort")||a(cell,"order");var filter=a(cell,"filter")||a(cell,"search");if(sort!==null||filter!==null){col.mData={_:i+".display",sort:sort!==null?i+".@data-"+sort:undefined,type:sort!==null?i+".@data-"+sort:undefined,filter:filter!==null?i+".@data-"+filter:undefined};col._isArrayHost=true;_fnColumnOptions(oSettings,i)}}})}var features=oSettings.oFeatures;var loadedInit=function(){if(oInit.aaSorting===undefined){var sorting=oSettings.aaSorting;for(i=0,iLen=sorting.length;i<iLen;i++){sorting[i][1]=oSettings.aoColumns[i].asSorting[0]}}_fnSortingClasses(oSettings);if(features.bSort){_fnCallbackReg(oSettings,"aoDrawCallback",function(){if(oSettings.bSorted){var aSort=_fnSortFlatten(oSettings);var sortedColumns={};$.each(aSort,function(i,val){sortedColumns[val.src]=val.dir});_fnCallbackFire(oSettings,null,"order",[oSettings,aSort,sortedColumns]);_fnSortAria(oSettings)}})}_fnCallbackReg(oSettings,"aoDrawCallback",function(){if(oSettings.bSorted||_fnDataSource(oSettings)==="ssp"||features.bDeferRender){_fnSortingClasses(oSettings)}},"sc");var captions=$this.children("caption").each(function(){this._captionSide=$(this).css("caption-side")});var thead=$this.children("thead");if(thead.length===0){thead=$("<thead/>").appendTo($this)}oSettings.nTHead=thead[0];var tbody=$this.children("tbody");if(tbody.length===0){tbody=$("<tbody/>").insertAfter(thead)}oSettings.nTBody=tbody[0];var tfoot=$this.children("tfoot");if(tfoot.length===0&&captions.length>0&&(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!=="")){tfoot=$("<tfoot/>").appendTo($this)}if(tfoot.length===0||tfoot.children().length===0){$this.addClass(oClasses.sNoFooter)}else if(tfoot.length>0){oSettings.nTFoot=tfoot[0];_fnDetectHeader(oSettings.aoFooter,oSettings.nTFoot)}if(oInit.aaData){for(i=0;i<oInit.aaData.length;i++){_fnAddData(oSettings,oInit.aaData[i])}}else if(oSettings.bDeferLoading||_fnDataSource(oSettings)=="dom"){_fnAddTr(oSettings,$(oSettings.nTBody).children("tr"))}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bInitialised=true;if(bInitHandedOff===false){_fnInitialise(oSettings)}};_fnCallbackReg(oSettings,"aoDrawCallback",_fnSaveState,"state_save");if(oInit.bStateSave){features.bStateSave=true;_fnLoadState(oSettings,oInit,loadedInit)}else{loadedInit()}});_that=null;return this};var _ext;var _Api;var _api_register;var _api_registerPlural;var _re_dic={};var _re_new_lines=/[\r\n\u2028]/g;var _re_html=/<.*?>/g;var _re_date=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/;var _re_escape_regex=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g");var _re_formatted_numeric=/['\u00A0,$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi;var _empty=function(d){return!d||d===true||d==="-"?true:false};var _intVal=function(s){var integer=parseInt(s,10);return!isNaN(integer)&&isFinite(s)?integer:null};var _numToDecimal=function(num,decimalPoint){if(!_re_dic[decimalPoint]){_re_dic[decimalPoint]=new RegExp(_fnEscapeRegex(decimalPoint),"g")}return typeof num==="string"&&decimalPoint!=="."?num.replace(/\./g,"").replace(_re_dic[decimalPoint],"."):num};var _isNumber=function(d,decimalPoint,formatted){let type=typeof d;var strType=type==="string";if(type==="number"||type==="bigint"){return true}if(_empty(d)){return true}if(decimalPoint&&strType){d=_numToDecimal(d,decimalPoint)}if(formatted&&strType){d=d.replace(_re_formatted_numeric,"")}return!isNaN(parseFloat(d))&&isFinite(d)};var _isHtml=function(d){return _empty(d)||typeof d==="string"};var _htmlNumeric=function(d,decimalPoint,formatted){if(_empty(d)){return true}var html=_isHtml(d);return!html?null:_isNumber(_stripHtml(d),decimalPoint,formatted)?true:null};var _pluck=function(a,prop,prop2){var out=[];var i=0,ien=a.length;if(prop2!==undefined){for(;i<ien;i++){if(a[i]&&a[i][prop]){out.push(a[i][prop][prop2])}}}else{for(;i<ien;i++){if(a[i]){out.push(a[i][prop])}}}return out};var _pluck_order=function(a,order,prop,prop2){var out=[];var i=0,ien=order.length;if(prop2!==undefined){for(;i<ien;i++){if(a[order[i]][prop]){out.push(a[order[i]][prop][prop2])}}}else{for(;i<ien;i++){out.push(a[order[i]][prop])}}return out};var _range=function(len,start){var out=[];var end;if(start===undefined){start=0;end=len}else{end=start;start=len}for(var i=start;i<end;i++){out.push(i)}return out};var _removeEmpty=function(a){var out=[];for(var i=0,ien=a.length;i<ien;i++){if(a[i]){out.push(a[i])}}return out};var _stripHtml=function(d){return d.replace(_re_html,"")};var _areAllUnique=function(src){if(src.length<2){return true}var sorted=src.slice().sort();var last=sorted[0];for(var i=1,ien=sorted.length;i<ien;i++){if(sorted[i]===last){return false}last=sorted[i]}return true};var _unique=function(src){if(_areAllUnique(src)){return src.slice()}var out=[],val,i,ien=src.length,j,k=0;again:for(i=0;i<ien;i++){val=src[i];for(j=0;j<k;j++){if(out[j]===val){continue again}}out.push(val);k++}return out};var _flatten=function(out,val){if(Array.isArray(val)){for(var i=0;i<val.length;i++){_flatten(out,val[i])}}else{out.push(val)}return out};var _includes=function(search,start){if(start===undefined){start=0}return this.indexOf(search,start)!==-1};if(!Array.isArray){Array.isArray=function(arg){return Object.prototype.toString.call(arg)==="[object Array]"}}if(!Array.prototype.includes){Array.prototype.includes=_includes}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}if(!String.prototype.includes){String.prototype.includes=_includes}DataTable.util={throttle:function(fn,freq){var frequency=freq!==undefined?freq:200,last,timer;return function(){var that=this,now=+new Date,args=arguments;if(last&&now<last+frequency){clearTimeout(timer);timer=setTimeout(function(){last=undefined;fn.apply(that,args)},frequency)}else{last=now;fn.apply(that,args)}}},escapeRegex:function(val){return val.replace(_re_escape_regex,"\\$1")},set:function(source){if($.isPlainObject(source)){return DataTable.util.set(source._)}else if(source===null){return function(){}}else if(typeof source==="function"){return function(data,val,meta){source(data,"set",val,meta)}}else if(typeof source==="string"&&(source.indexOf(".")!==-1||source.indexOf("[")!==-1||source.indexOf("(")!==-1)){var setData=function(data,val,src){var a=_fnSplitObjNotation(src),b;var aLast=a[a.length-1];var arrayNotation,funcNotation,o,innerSrc;for(var i=0,iLen=a.length-1;i<iLen;i++){if(a[i]==="__proto__"||a[i]==="constructor"){throw new Error("Cannot set prototype values")}arrayNotation=a[i].match(__reArray);funcNotation=a[i].match(__reFn);if(arrayNotation){a[i]=a[i].replace(__reArray,"");data[a[i]]=[];b=a.slice();b.splice(0,i+1);innerSrc=b.join(".");if(Array.isArray(val)){for(var j=0,jLen=val.length;j<jLen;j++){o={};setData(o,val[j],innerSrc);data[a[i]].push(o)}}else{data[a[i]]=val}return}else if(funcNotation){a[i]=a[i].replace(__reFn,"");data=data[a[i]](val)}if(data[a[i]]===null||data[a[i]]===undefined){data[a[i]]={}}data=data[a[i]]}if(aLast.match(__reFn)){data=data[aLast.replace(__reFn,"")](val)}else{data[aLast.replace(__reArray,"")]=val}};return function(data,val){return setData(data,val,source)}}else{return function(data,val){data[source]=val}}},get:function(source){if($.isPlainObject(source)){var o={};$.each(source,function(key,val){if(val){o[key]=DataTable.util.get(val)}});return function(data,type,row,meta){var t=o[type]||o._;return t!==undefined?t(data,type,row,meta):data}}else if(source===null){return function(data){return data}}else if(typeof source==="function"){return function(data,type,row,meta){return source(data,type,row,meta)}}else if(typeof source==="string"&&(source.indexOf(".")!==-1||source.indexOf("[")!==-1||source.indexOf("(")!==-1)){var fetchData=function(data,type,src){var arrayNotation,funcNotation,out,innerSrc;if(src!==""){var a=_fnSplitObjNotation(src);for(var i=0,iLen=a.length;i<iLen;i++){arrayNotation=a[i].match(__reArray);funcNotation=a[i].match(__reFn);if(arrayNotation){a[i]=a[i].replace(__reArray,"");if(a[i]!==""){data=data[a[i]]}out=[];a.splice(0,i+1);innerSrc=a.join(".");if(Array.isArray(data)){for(var j=0,jLen=data.length;j<jLen;j++){out.push(fetchData(data[j],type,innerSrc))}}var join=arrayNotation[0].substring(1,arrayNotation[0].length-1);data=join===""?out:out.join(join);break}else if(funcNotation){a[i]=a[i].replace(__reFn,"");data=data[a[i]]();continue}if(data===null||data[a[i]]===undefined){return undefined}data=data[a[i]]}}return data};return function(data,type){return fetchData(data,type,source)}}else{return function(data,type){return data[source]}}}};function _fnHungarianMap(o){var hungarian="a aa ai ao as b fn i m o s ",match,newKey,map={};$.each(o,function(key,val){match=key.match(/^([^A-Z]+?)([A-Z])/);if(match&&hungarian.indexOf(match[1]+" ")!==-1){newKey=key.replace(match[0],match[2].toLowerCase());map[newKey]=key;if(match[1]==="o"){_fnHungarianMap(o[key])}}});o._hungarianMap=map}function _fnCamelToHungarian(src,user,force){if(!src._hungarianMap){_fnHungarianMap(src)}var hungarianKey;$.each(user,function(key,val){hungarianKey=src._hungarianMap[key];if(hungarianKey!==undefined&&(force||user[hungarianKey]===undefined)){if(hungarianKey.charAt(0)==="o"){if(!user[hungarianKey]){user[hungarianKey]={}}$.extend(true,user[hungarianKey],user[key]);_fnCamelToHungarian(src[hungarianKey],user[hungarianKey],force)}else{user[hungarianKey]=user[key]}}})}function _fnLanguageCompat(lang){var defaults=DataTable.defaults.oLanguage;var defaultDecimal=defaults.sDecimal;if(defaultDecimal){_addNumericSort(defaultDecimal)}if(lang){var zeroRecords=lang.sZeroRecords;if(!lang.sEmptyTable&&zeroRecords&&defaults.sEmptyTable==="No data available in table"){_fnMap(lang,lang,"sZeroRecords","sEmptyTable")}if(!lang.sLoadingRecords&&zeroRecords&&defaults.sLoadingRecords==="Loading..."){_fnMap(lang,lang,"sZeroRecords","sLoadingRecords")}if(lang.sInfoThousands){lang.sThousands=lang.sInfoThousands}var decimal=lang.sDecimal;if(decimal&&defaultDecimal!==decimal){_addNumericSort(decimal)}}}var _fnCompatMap=function(o,knew,old){if(o[knew]!==undefined){o[old]=o[knew]}};function _fnCompatOpts(init){_fnCompatMap(init,"ordering","bSort");_fnCompatMap(init,"orderMulti","bSortMulti");_fnCompatMap(init,"orderClasses","bSortClasses");_fnCompatMap(init,"orderCellsTop","bSortCellsTop");_fnCompatMap(init,"order","aaSorting");_fnCompatMap(init,"orderFixed","aaSortingFixed");_fnCompatMap(init,"paging","bPaginate");_fnCompatMap(init,"pagingType","sPaginationType");_fnCompatMap(init,"pageLength","iDisplayLength");_fnCompatMap(init,"searching","bFilter");if(typeof init.sScrollX==="boolean"){init.sScrollX=init.sScrollX?"100%":""}if(typeof init.scrollX==="boolean"){init.scrollX=init.scrollX?"100%":""}var searchCols=init.aoSearchCols;if(searchCols){for(var i=0,ien=searchCols.length;i<ien;i++){if(searchCols[i]){_fnCamelToHungarian(DataTable.models.oSearch,searchCols[i])}}}}function _fnCompatCols(init){_fnCompatMap(init,"orderable","bSortable");_fnCompatMap(init,"orderData","aDataSort");_fnCompatMap(init,"orderSequence","asSorting");_fnCompatMap(init,"orderDataType","sortDataType");var dataSort=init.aDataSort;if(typeof dataSort==="number"&&!Array.isArray(dataSort)){init.aDataSort=[dataSort]}}function _fnBrowserDetect(settings){if(!DataTable.__browser){var browser={};DataTable.__browser=browser;var n=$("<div/>").css({position:"fixed",top:0,left:$(window).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append($("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append($("<div/>").css({width:"100%",height:10}))).appendTo("body");var outer=n.children();var inner=outer.children();browser.barWidth=outer[0].offsetWidth-outer[0].clientWidth;browser.bScrollOversize=inner[0].offsetWidth===100&&outer[0].clientWidth!==100;browser.bScrollbarLeft=Math.round(inner.offset().left)!==1;browser.bBounding=n[0].getBoundingClientRect().width?true:false;n.remove()}$.extend(settings.oBrowser,DataTable.__browser);settings.oScroll.iBarWidth=DataTable.__browser.barWidth}function _fnReduce(that,fn,init,start,end,inc){var i=start,value,isSet=false;if(init!==undefined){value=init;isSet=true}while(i!==end){if(!that.hasOwnProperty(i)){continue}value=isSet?fn(value,that[i],i,that):that[i];isSet=true;i+=inc}return value}function _fnAddColumn(oSettings,nTh){var oDefaults=DataTable.defaults.column;var iCol=oSettings.aoColumns.length;var oCol=$.extend({},DataTable.models.oColumn,oDefaults,{nTh:nTh?nTh:document.createElement("th"),sTitle:oDefaults.sTitle?oDefaults.sTitle:nTh?nTh.innerHTML:"",aDataSort:oDefaults.aDataSort?oDefaults.aDataSort:[iCol],mData:oDefaults.mData?oDefaults.mData:iCol,idx:iCol});oSettings.aoColumns.push(oCol);var searchCols=oSettings.aoPreSearchCols;searchCols[iCol]=$.extend({},DataTable.models.oSearch,searchCols[iCol]);_fnColumnOptions(oSettings,iCol,$(nTh).data())}function _fnColumnOptions(oSettings,iCol,oOptions){var oCol=oSettings.aoColumns[iCol];var oClasses=oSettings.oClasses;var th=$(oCol.nTh);if(!oCol.sWidthOrig){oCol.sWidthOrig=th.attr("width")||null;var t=(th.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);if(t){oCol.sWidthOrig=t[1]}}if(oOptions!==undefined&&oOptions!==null){_fnCompatCols(oOptions);_fnCamelToHungarian(DataTable.defaults.column,oOptions,true);if(oOptions.mDataProp!==undefined&&!oOptions.mData){oOptions.mData=oOptions.mDataProp}if(oOptions.sType){oCol._sManualType=oOptions.sType}if(oOptions.className&&!oOptions.sClass){oOptions.sClass=oOptions.className}if(oOptions.sClass){th.addClass(oOptions.sClass)}var origClass=oCol.sClass;$.extend(oCol,oOptions);_fnMap(oCol,oOptions,"sWidth","sWidthOrig");if(origClass!==oCol.sClass){oCol.sClass=origClass+" "+oCol.sClass}if(oOptions.iDataSort!==undefined){oCol.aDataSort=[oOptions.iDataSort]}_fnMap(oCol,oOptions,"aDataSort")}var mDataSrc=oCol.mData;var mData=_fnGetObjectDataFn(mDataSrc);var mRender=oCol.mRender?_fnGetObjectDataFn(oCol.mRender):null;var attrTest=function(src){return typeof src==="string"&&src.indexOf("@")!==-1};oCol._bAttrSrc=$.isPlainObject(mDataSrc)&&(attrTest(mDataSrc.sort)||attrTest(mDataSrc.type)||attrTest(mDataSrc.filter));oCol._setter=null;oCol.fnGetData=function(rowData,type,meta){var innerData=mData(rowData,type,undefined,meta);return mRender&&type?mRender(innerData,type,rowData,meta):innerData};oCol.fnSetData=function(rowData,val,meta){return _fnSetObjectDataFn(mDataSrc)(rowData,val,meta)};if(typeof mDataSrc!=="number"&&!oCol._isArrayHost){oSettings._rowReadObject=true}if(!oSettings.oFeatures.bSort){oCol.bSortable=false;th.addClass(oClasses.sSortableNone)}var bAsc=$.inArray("asc",oCol.asSorting)!==-1;var bDesc=$.inArray("desc",oCol.asSorting)!==-1;if(!oCol.bSortable||!bAsc&&!bDesc){oCol.sSortingClass=oClasses.sSortableNone;oCol.sSortingClassJUI=""}else if(bAsc&&!bDesc){oCol.sSortingClass=oClasses.sSortableAsc;oCol.sSortingClassJUI=oClasses.sSortJUIAscAllowed}else if(!bAsc&&bDesc){oCol.sSortingClass=oClasses.sSortableDesc;oCol.sSortingClassJUI=oClasses.sSortJUIDescAllowed}else{oCol.sSortingClass=oClasses.sSortable;oCol.sSortingClassJUI=oClasses.sSortJUI}}function _fnAdjustColumnSizing(settings){if(settings.oFeatures.bAutoWidth!==false){var columns=settings.aoColumns;_fnCalculateColumnWidths(settings);for(var i=0,iLen=columns.length;i<iLen;i++){columns[i].nTh.style.width=columns[i].sWidth}}var scroll=settings.oScroll;if(scroll.sY!==""||scroll.sX!==""){_fnScrollDraw(settings)}_fnCallbackFire(settings,null,"column-sizing",[settings])}function _fnVisibleToColumnIndex(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible");return typeof aiVis[iMatch]==="number"?aiVis[iMatch]:null}function _fnColumnIndexToVisible(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible");var iPos=$.inArray(iMatch,aiVis);return iPos!==-1?iPos:null}function _fnVisbleColumns(oSettings){var vis=0;$.each(oSettings.aoColumns,function(i,col){if(col.bVisible&&$(col.nTh).css("display")!=="none"){vis++}});return vis}function _fnGetColumns(oSettings,sParam){var a=[];$.map(oSettings.aoColumns,function(val,i){if(val[sParam]){a.push(i)}});return a}function _fnColumnTypes(settings){var columns=settings.aoColumns;var data=settings.aoData;var types=DataTable.ext.type.detect;var i,ien,j,jen,k,ken;var col,cell,detectedType,cache;for(i=0,ien=columns.length;i<ien;i++){col=columns[i];cache=[];if(!col.sType&&col._sManualType){col.sType=col._sManualType}else if(!col.sType){for(j=0,jen=types.length;j<jen;j++){for(k=0,ken=data.length;k<ken;k++){if(cache[k]===undefined){cache[k]=_fnGetCellData(settings,k,i,"type")}detectedType=types[j](cache[k],settings);if(!detectedType&&j!==types.length-1){break}if(detectedType==="html"&&!_empty(cache[k])){break}}if(detectedType){col.sType=detectedType;break}}if(!col.sType){col.sType="string"}}}}function _fnApplyColumnDefs(oSettings,aoColDefs,aoCols,fn){var i,iLen,j,jLen,k,kLen,def;var columns=oSettings.aoColumns;if(aoColDefs){for(i=aoColDefs.length-1;i>=0;i--){def=aoColDefs[i];var aTargets=def.target!==undefined?def.target:def.targets!==undefined?def.targets:def.aTargets;if(!Array.isArray(aTargets)){aTargets=[aTargets]}for(j=0,jLen=aTargets.length;j<jLen;j++){if(typeof aTargets[j]==="number"&&aTargets[j]>=0){while(columns.length<=aTargets[j]){_fnAddColumn(oSettings)}fn(aTargets[j],def)}else if(typeof aTargets[j]==="number"&&aTargets[j]<0){fn(columns.length+aTargets[j],def)}else if(typeof aTargets[j]==="string"){for(k=0,kLen=columns.length;k<kLen;k++){if(aTargets[j]=="_all"||$(columns[k].nTh).hasClass(aTargets[j])){fn(k,def)}}}}}}if(aoCols){for(i=0,iLen=aoCols.length;i<iLen;i++){fn(i,aoCols[i])}}}function _fnAddData(oSettings,aDataIn,nTr,anTds){var iRow=oSettings.aoData.length;var oData=$.extend(true,{},DataTable.models.oRow,{src:nTr?"dom":"data",idx:iRow});oData._aData=aDataIn;oSettings.aoData.push(oData);var nTd,sThisType;var columns=oSettings.aoColumns;for(var i=0,iLen=columns.length;i<iLen;i++){columns[i].sType=null}oSettings.aiDisplayMaster.push(iRow);var id=oSettings.rowIdFn(aDataIn);if(id!==undefined){oSettings.aIds[id]=oData}if(nTr||!oSettings.oFeatures.bDeferRender){_fnCreateTr(oSettings,iRow,nTr,anTds)}return iRow}function _fnAddTr(settings,trs){var row;if(!(trs instanceof $)){trs=$(trs)}return trs.map(function(i,el){row=_fnGetRowElements(settings,el);return _fnAddData(settings,row.data,el,row.cells)})}function _fnNodeToDataIndex(oSettings,n){return n._DT_RowIndex!==undefined?n._DT_RowIndex:null}function _fnNodeToColumnIndex(oSettings,iRow,n){return $.inArray(n,oSettings.aoData[iRow].anCells)}function _fnGetCellData(settings,rowIdx,colIdx,type){if(type==="search"){type="filter"}else if(type==="order"){type="sort"}var draw=settings.iDraw;var col=settings.aoColumns[colIdx];var rowData=settings.aoData[rowIdx]._aData;var defaultContent=col.sDefaultContent;var cellData=col.fnGetData(rowData,type,{settings:settings,row:rowIdx,col:colIdx});if(cellData===undefined){if(settings.iDrawError!=draw&&defaultContent===null){_fnLog(settings,0,"Requested unknown parameter "+(typeof col.mData=="function"?"{function}":"'"+col.mData+"'")+" for row "+rowIdx+", column "+colIdx,4);settings.iDrawError=draw}return defaultContent}if((cellData===rowData||cellData===null)&&defaultContent!==null&&type!==undefined){cellData=defaultContent}else if(typeof cellData==="function"){return cellData.call(rowData)}if(cellData===null&&type==="display"){return""}if(type==="filter"){var fomatters=DataTable.ext.type.search;if(fomatters[col.sType]){cellData=fomatters[col.sType](cellData)}}return cellData}function _fnSetCellData(settings,rowIdx,colIdx,val){var col=settings.aoColumns[colIdx];var rowData=settings.aoData[rowIdx]._aData;col.fnSetData(rowData,val,{settings:settings,row:rowIdx,col:colIdx})}var __reArray=/\[.*?\]$/;var __reFn=/\(\)$/;function _fnSplitObjNotation(str){return $.map(str.match(/(\\.|[^\.])+/g)||[""],function(s){return s.replace(/\\\./g,".")})}var _fnGetObjectDataFn=DataTable.util.get;var _fnSetObjectDataFn=DataTable.util.set;function _fnGetDataMaster(settings){return _pluck(settings.aoData,"_aData")}function _fnClearTable(settings){settings.aoData.length=0;settings.aiDisplayMaster.length=0;settings.aiDisplay.length=0;settings.aIds={}}function _fnDeleteIndex(a,iTarget,splice){var iTargetIndex=-1;for(var i=0,iLen=a.length;i<iLen;i++){if(a[i]==iTarget){iTargetIndex=i}else if(a[i]>iTarget){a[i]--}}if(iTargetIndex!=-1&&splice===undefined){a.splice(iTargetIndex,1)}}function _fnInvalidate(settings,rowIdx,src,colIdx){var row=settings.aoData[rowIdx];var i,ien;var cellWrite=function(cell,col){while(cell.childNodes.length){cell.removeChild(cell.firstChild)}cell.innerHTML=_fnGetCellData(settings,rowIdx,col,"display")};if(src==="dom"||(!src||src==="auto")&&row.src==="dom"){row._aData=_fnGetRowElements(settings,row,colIdx,colIdx===undefined?undefined:row._aData).data}else{var cells=row.anCells;if(cells){if(colIdx!==undefined){cellWrite(cells[colIdx],colIdx)}else{for(i=0,ien=cells.length;i<ien;i++){cellWrite(cells[i],i)}}}}row._aSortData=null;row._aFilterData=null;var cols=settings.aoColumns;if(colIdx!==undefined){cols[colIdx].sType=null}else{for(i=0,ien=cols.length;i<ien;i++){cols[i].sType=null}_fnRowAttributes(settings,row)}}function _fnGetRowElements(settings,row,colIdx,d){var tds=[],td=row.firstChild,name,col,o,i=0,contents,columns=settings.aoColumns,objectRead=settings._rowReadObject;d=d!==undefined?d:objectRead?{}:[];var attr=function(str,td){if(typeof str==="string"){var idx=str.indexOf("@");if(idx!==-1){var attr=str.substring(idx+1);var setter=_fnSetObjectDataFn(str);setter(d,td.getAttribute(attr))}}};var cellProcess=function(cell){if(colIdx===undefined||colIdx===i){col=columns[i];contents=cell.innerHTML.trim();if(col&&col._bAttrSrc){var setter=_fnSetObjectDataFn(col.mData._);setter(d,contents);attr(col.mData.sort,cell);attr(col.mData.type,cell);attr(col.mData.filter,cell)}else{if(objectRead){if(!col._setter){col._setter=_fnSetObjectDataFn(col.mData)}col._setter(d,contents)}else{d[i]=contents}}}i++};if(td){while(td){name=td.nodeName.toUpperCase();if(name=="TD"||name=="TH"){cellProcess(td);tds.push(td)}td=td.nextSibling}}else{tds=row.anCells;for(var j=0,jen=tds.length;j<jen;j++){cellProcess(tds[j])}}var rowNode=row.firstChild?row:row.nTr;if(rowNode){var id=rowNode.getAttribute("id");if(id){_fnSetObjectDataFn(settings.rowId)(d,id)}}return{data:d,cells:tds}}function _fnCreateTr(oSettings,iRow,nTrIn,anTds){var row=oSettings.aoData[iRow],rowData=row._aData,cells=[],nTr,nTd,oCol,i,iLen,create;if(row.nTr===null){nTr=nTrIn||document.createElement("tr");row.nTr=nTr;row.anCells=cells;nTr._DT_RowIndex=iRow;_fnRowAttributes(oSettings,row);for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){oCol=oSettings.aoColumns[i];create=nTrIn?false:true;nTd=create?document.createElement(oCol.sCellType):anTds[i];if(!nTd){_fnLog(oSettings,0,"Incorrect column count",18)}nTd._DT_CellIndex={row:iRow,column:i};cells.push(nTd);if(create||(oCol.mRender||oCol.mData!==i)&&(!$.isPlainObject(oCol.mData)||oCol.mData._!==i+".display")){nTd.innerHTML=_fnGetCellData(oSettings,iRow,i,"display")}if(oCol.sClass){nTd.className+=" "+oCol.sClass}if(oCol.bVisible&&!nTrIn){nTr.appendChild(nTd)}else if(!oCol.bVisible&&nTrIn){nTd.parentNode.removeChild(nTd)}if(oCol.fnCreatedCell){oCol.fnCreatedCell.call(oSettings.oInstance,nTd,_fnGetCellData(oSettings,iRow,i),rowData,iRow,i)}}_fnCallbackFire(oSettings,"aoRowCreatedCallback",null,[nTr,rowData,iRow,cells])}}function _fnRowAttributes(settings,row){var tr=row.nTr;var data=row._aData;if(tr){var id=settings.rowIdFn(data);if(id){tr.id=id}if(data.DT_RowClass){var a=data.DT_RowClass.split(" ");row.__rowc=row.__rowc?_unique(row.__rowc.concat(a)):a;$(tr).removeClass(row.__rowc.join(" ")).addClass(data.DT_RowClass)}if(data.DT_RowAttr){$(tr).attr(data.DT_RowAttr)}if(data.DT_RowData){$(tr).data(data.DT_RowData)}}}function _fnBuildHead(oSettings){var i,ien,cell,row,column;var thead=oSettings.nTHead;var tfoot=oSettings.nTFoot;var createHeader=$("th, td",thead).length===0;var classes=oSettings.oClasses;var columns=oSettings.aoColumns;if(createHeader){row=$("<tr/>").appendTo(thead)}for(i=0,ien=columns.length;i<ien;i++){column=columns[i];cell=$(column.nTh).addClass(column.sClass);if(createHeader){cell.appendTo(row)}if(oSettings.oFeatures.bSort){cell.addClass(column.sSortingClass);if(column.bSortable!==false){cell.attr("tabindex",oSettings.iTabIndex).attr("aria-controls",oSettings.sTableId);_fnSortAttachListener(oSettings,column.nTh,i)}}if(column.sTitle!=cell[0].innerHTML){cell.html(column.sTitle)}_fnRenderer(oSettings,"header")(oSettings,cell,column,classes)}if(createHeader){_fnDetectHeader(oSettings.aoHeader,thead)}$(thead).children("tr").children("th, td").addClass(classes.sHeaderTH);$(tfoot).children("tr").children("th, td").addClass(classes.sFooterTH);if(tfoot!==null){var cells=oSettings.aoFooter[0];for(i=0,ien=cells.length;i<ien;i++){column=columns[i];if(column){column.nTf=cells[i].cell;if(column.sClass){$(column.nTf).addClass(column.sClass)}}else{_fnLog(oSettings,0,"Incorrect column count",18)}}}}function _fnDrawHead(oSettings,aoSource,bIncludeHidden){var i,iLen,j,jLen,k,kLen,n,nLocalTr;var aoLocal=[];var aApplied=[];var iColumns=oSettings.aoColumns.length;var iRowspan,iColspan;if(!aoSource){return}if(bIncludeHidden===undefined){bIncludeHidden=false}for(i=0,iLen=aoSource.length;i<iLen;i++){aoLocal[i]=aoSource[i].slice();aoLocal[i].nTr=aoSource[i].nTr;for(j=iColumns-1;j>=0;j--){if(!oSettings.aoColumns[j].bVisible&&!bIncludeHidden){aoLocal[i].splice(j,1)}}aApplied.push([])}for(i=0,iLen=aoLocal.length;i<iLen;i++){nLocalTr=aoLocal[i].nTr;if(nLocalTr){while(n=nLocalTr.firstChild){nLocalTr.removeChild(n)}}for(j=0,jLen=aoLocal[i].length;j<jLen;j++){iRowspan=1;iColspan=1;if(aApplied[i][j]===undefined){nLocalTr.appendChild(aoLocal[i][j].cell);aApplied[i][j]=1;while(aoLocal[i+iRowspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i+iRowspan][j].cell){aApplied[i+iRowspan][j]=1;iRowspan++}while(aoLocal[i][j+iColspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i][j+iColspan].cell){for(k=0;k<iRowspan;k++){aApplied[i+k][j+iColspan]=1}iColspan++}$(aoLocal[i][j].cell).attr("rowspan",iRowspan).attr("colspan",iColspan)}}}}function _fnDraw(oSettings,ajaxComplete){_fnStart(oSettings);var aPreDraw=_fnCallbackFire(oSettings,"aoPreDrawCallback","preDraw",[oSettings]);if($.inArray(false,aPreDraw)!==-1){_fnProcessingDisplay(oSettings,false);return}var anRows=[];var iRowCount=0;var asStripeClasses=oSettings.asStripeClasses;var iStripes=asStripeClasses.length;var oLang=oSettings.oLanguage;var bServerSide=_fnDataSource(oSettings)=="ssp";var aiDisplay=oSettings.aiDisplay;var iDisplayStart=oSettings._iDisplayStart;var iDisplayEnd=oSettings.fnDisplayEnd();oSettings.bDrawing=true;if(oSettings.bDeferLoading){oSettings.bDeferLoading=false;oSettings.iDraw++;_fnProcessingDisplay(oSettings,false)}else if(!bServerSide){oSettings.iDraw++}else if(!oSettings.bDestroying&&!ajaxComplete){_fnAjaxUpdate(oSettings);return}if(aiDisplay.length!==0){var iStart=bServerSide?0:iDisplayStart;var iEnd=bServerSide?oSettings.aoData.length:iDisplayEnd;for(var j=iStart;j<iEnd;j++){var iDataIndex=aiDisplay[j];var aoData=oSettings.aoData[iDataIndex];if(aoData.nTr===null){_fnCreateTr(oSettings,iDataIndex)}var nRow=aoData.nTr;if(iStripes!==0){var sStripe=asStripeClasses[iRowCount%iStripes];if(aoData._sRowStripe!=sStripe){$(nRow).removeClass(aoData._sRowStripe).addClass(sStripe);aoData._sRowStripe=sStripe}}_fnCallbackFire(oSettings,"aoRowCallback",null,[nRow,aoData._aData,iRowCount,j,iDataIndex]);anRows.push(nRow);iRowCount++}}else{var sZero=oLang.sZeroRecords;if(oSettings.iDraw==1&&_fnDataSource(oSettings)=="ajax"){sZero=oLang.sLoadingRecords}else if(oLang.sEmptyTable&&oSettings.fnRecordsTotal()===0){sZero=oLang.sEmptyTable}anRows[0]=$("<tr/>",{class:iStripes?asStripeClasses[0]:""}).append($("<td />",{valign:"top",colSpan:_fnVisbleColumns(oSettings),class:oSettings.oClasses.sRowEmpty}).html(sZero))[0]}_fnCallbackFire(oSettings,"aoHeaderCallback","header",[$(oSettings.nTHead).children("tr")[0],_fnGetDataMaster(oSettings),iDisplayStart,iDisplayEnd,aiDisplay]);_fnCallbackFire(oSettings,"aoFooterCallback","footer",[$(oSettings.nTFoot).children("tr")[0],_fnGetDataMaster(oSettings),iDisplayStart,iDisplayEnd,aiDisplay]);var body=$(oSettings.nTBody);body.children().detach();body.append($(anRows));_fnCallbackFire(oSettings,"aoDrawCallback","draw",[oSettings]);oSettings.bSorted=false;oSettings.bFiltered=false;oSettings.bDrawing=false}function _fnReDraw(settings,holdPosition){var features=settings.oFeatures,sort=features.bSort,filter=features.bFilter;if(sort){_fnSort(settings)}if(filter){_fnFilterComplete(settings,settings.oPreviousSearch)}else{settings.aiDisplay=settings.aiDisplayMaster.slice()}if(holdPosition!==true){settings._iDisplayStart=0}settings._drawHold=holdPosition;_fnDraw(settings);settings._drawHold=false}function _fnAddOptionsHtml(oSettings){var classes=oSettings.oClasses;var table=$(oSettings.nTable);var holding=$("<div/>").insertBefore(table);var features=oSettings.oFeatures;var insert=$("<div/>",{id:oSettings.sTableId+"_wrapper",class:classes.sWrapper+(oSettings.nTFoot?"":" "+classes.sNoFooter)});oSettings.nHolding=holding[0];oSettings.nTableWrapper=insert[0];oSettings.nTableReinsertBefore=oSettings.nTable.nextSibling;var aDom=oSettings.sDom.split("");var featureNode,cOption,nNewNode,cNext,sAttr,j;for(var i=0;i<aDom.length;i++){featureNode=null;cOption=aDom[i];if(cOption=="<"){nNewNode=$("<div/>")[0];cNext=aDom[i+1];if(cNext=="'"||cNext=='"'){sAttr="";j=2;while(aDom[i+j]!=cNext){sAttr+=aDom[i+j];j++}if(sAttr=="H"){sAttr=classes.sJUIHeader}else if(sAttr=="F"){sAttr=classes.sJUIFooter}if(sAttr.indexOf(".")!=-1){var aSplit=sAttr.split(".");nNewNode.id=aSplit[0].substr(1,aSplit[0].length-1);nNewNode.className=aSplit[1]}else if(sAttr.charAt(0)=="#"){nNewNode.id=sAttr.substr(1,sAttr.length-1)}else{nNewNode.className=sAttr}i+=j}insert.append(nNewNode);insert=$(nNewNode)}else if(cOption==">"){insert=insert.parent()}else if(cOption=="l"&&features.bPaginate&&features.bLengthChange){featureNode=_fnFeatureHtmlLength(oSettings)}else if(cOption=="f"&&features.bFilter){featureNode=_fnFeatureHtmlFilter(oSettings)}else if(cOption=="r"&&features.bProcessing){featureNode=_fnFeatureHtmlProcessing(oSettings)}else if(cOption=="t"){featureNode=_fnFeatureHtmlTable(oSettings)}else if(cOption=="i"&&features.bInfo){featureNode=_fnFeatureHtmlInfo(oSettings)}else if(cOption=="p"&&features.bPaginate){featureNode=_fnFeatureHtmlPaginate(oSettings)}else if(DataTable.ext.feature.length!==0){var aoFeatures=DataTable.ext.feature;for(var k=0,kLen=aoFeatures.length;k<kLen;k++){if(cOption==aoFeatures[k].cFeature){featureNode=aoFeatures[k].fnInit(oSettings);break}}}if(featureNode){var aanFeatures=oSettings.aanFeatures;if(!aanFeatures[cOption]){aanFeatures[cOption]=[]}aanFeatures[cOption].push(featureNode);insert.append(featureNode)}}holding.replaceWith(insert);oSettings.nHolding=null}function _fnDetectHeader(aLayout,nThead){var nTrs=$(nThead).children("tr");var nTr,nCell;var i,k,l,iLen,jLen,iColShifted,iColumn,iColspan,iRowspan;var bUnique;var fnShiftCol=function(a,i,j){var k=a[i];while(k[j]){j++}return j};aLayout.splice(0,aLayout.length);for(i=0,iLen=nTrs.length;i<iLen;i++){aLayout.push([])}for(i=0,iLen=nTrs.length;i<iLen;i++){nTr=nTrs[i];iColumn=0;nCell=nTr.firstChild;while(nCell){if(nCell.nodeName.toUpperCase()=="TD"||nCell.nodeName.toUpperCase()=="TH"){iColspan=nCell.getAttribute("colspan")*1;iRowspan=nCell.getAttribute("rowspan")*1;iColspan=!iColspan||iColspan===0||iColspan===1?1:iColspan;iRowspan=!iRowspan||iRowspan===0||iRowspan===1?1:iRowspan;iColShifted=fnShiftCol(aLayout,i,iColumn);bUnique=iColspan===1?true:false;for(l=0;l<iColspan;l++){for(k=0;k<iRowspan;k++){aLayout[i+k][iColShifted+l]={cell:nCell,unique:bUnique};aLayout[i+k].nTr=nTr}}}nCell=nCell.nextSibling}}}function _fnGetUniqueThs(oSettings,nHeader,aLayout){var aReturn=[];if(!aLayout){aLayout=oSettings.aoHeader;if(nHeader){aLayout=[];_fnDetectHeader(aLayout,nHeader)}}for(var i=0,iLen=aLayout.length;i<iLen;i++){for(var j=0,jLen=aLayout[i].length;j<jLen;j++){if(aLayout[i][j].unique&&(!aReturn[j]||!oSettings.bSortCellsTop)){aReturn[j]=aLayout[i][j].cell}}}return aReturn}function _fnStart(oSettings){var bServerSide=_fnDataSource(oSettings)=="ssp";var iInitDisplayStart=oSettings.iInitDisplayStart;if(iInitDisplayStart!==undefined&&iInitDisplayStart!==-1){oSettings._iDisplayStart=bServerSide?iInitDisplayStart:iInitDisplayStart>=oSettings.fnRecordsDisplay()?0:iInitDisplayStart;oSettings.iInitDisplayStart=-1}}function _fnBuildAjax(oSettings,data,fn){_fnCallbackFire(oSettings,"aoServerParams","serverParams",[data]);if(data&&Array.isArray(data)){var tmp={};var rbracket=/(.*?)\[\]$/;$.each(data,function(key,val){var match=val.name.match(rbracket);if(match){var name=match[0];if(!tmp[name]){tmp[name]=[]}tmp[name].push(val.value)}else{tmp[val.name]=val.value}});data=tmp}var ajaxData;var ajax=oSettings.ajax;var instance=oSettings.oInstance;var callback=function(json){var status=oSettings.jqXHR?oSettings.jqXHR.status:null;if(json===null||typeof status==="number"&&status==204){json={};_fnAjaxDataSrc(oSettings,json,[])}var error=json.error||json.sError;if(error){_fnLog(oSettings,0,error)}oSettings.json=json;_fnCallbackFire(oSettings,null,"xhr",[oSettings,json,oSettings.jqXHR]);fn(json)};if($.isPlainObject(ajax)&&ajax.data){ajaxData=ajax.data;var newData=typeof ajaxData==="function"?ajaxData(data,oSettings):ajaxData;data=typeof ajaxData==="function"&&newData?newData:$.extend(true,data,newData);delete ajax.data}var baseAjax={data:data,success:callback,dataType:"json",cache:false,type:oSettings.sServerMethod,error:function(xhr,error,thrown){var ret=_fnCallbackFire(oSettings,null,"xhr",[oSettings,null,oSettings.jqXHR]);if($.inArray(true,ret)===-1){if(error=="parsererror"){_fnLog(oSettings,0,"Invalid JSON response",1)}else if(xhr.readyState===4){_fnLog(oSettings,0,"Ajax error",7)}}_fnProcessingDisplay(oSettings,false)}};oSettings.oAjaxData=data;_fnCallbackFire(oSettings,null,"preXhr",[oSettings,data]);if(oSettings.fnServerData){oSettings.fnServerData.call(instance,oSettings.sAjaxSource,$.map(data,function(val,key){return{name:key,value:val}}),callback,oSettings)}else if(oSettings.sAjaxSource||typeof ajax==="string"){oSettings.jqXHR=$.ajax($.extend(baseAjax,{url:ajax||oSettings.sAjaxSource}))}else if(typeof ajax==="function"){oSettings.jqXHR=ajax.call(instance,data,callback,oSettings)}else{oSettings.jqXHR=$.ajax($.extend(baseAjax,ajax));ajax.data=ajaxData}}function _fnAjaxUpdate(settings){settings.iDraw++;_fnProcessingDisplay(settings,true);_fnBuildAjax(settings,_fnAjaxParameters(settings),function(json){_fnAjaxUpdateDraw(settings,json)})}function _fnAjaxParameters(settings){var columns=settings.aoColumns,columnCount=columns.length,features=settings.oFeatures,preSearch=settings.oPreviousSearch,preColSearch=settings.aoPreSearchCols,i,data=[],dataProp,column,columnSearch,sort=_fnSortFlatten(settings),displayStart=settings._iDisplayStart,displayLength=features.bPaginate!==false?settings._iDisplayLength:-1;var param=function(name,value){data.push({name:name,value:value})};param("sEcho",settings.iDraw);param("iColumns",columnCount);param("sColumns",_pluck(columns,"sName").join(","));param("iDisplayStart",displayStart);param("iDisplayLength",displayLength);var d={draw:settings.iDraw,columns:[],order:[],start:displayStart,length:displayLength,search:{value:preSearch.sSearch,regex:preSearch.bRegex}};for(i=0;i<columnCount;i++){column=columns[i];columnSearch=preColSearch[i];dataProp=typeof column.mData=="function"?"function":column.mData;d.columns.push({data:dataProp,name:column.sName,searchable:column.bSearchable,orderable:column.bSortable,search:{value:columnSearch.sSearch,regex:columnSearch.bRegex}});param("mDataProp_"+i,dataProp);if(features.bFilter){param("sSearch_"+i,columnSearch.sSearch);param("bRegex_"+i,columnSearch.bRegex);param("bSearchable_"+i,column.bSearchable)}if(features.bSort){param("bSortable_"+i,column.bSortable)}}if(features.bFilter){param("sSearch",preSearch.sSearch);param("bRegex",preSearch.bRegex)}if(features.bSort){$.each(sort,function(i,val){d.order.push({column:val.col,dir:val.dir});param("iSortCol_"+i,val.col);param("sSortDir_"+i,val.dir)});param("iSortingCols",sort.length)}var legacy=DataTable.ext.legacy.ajax;if(legacy===null){return settings.sAjaxSource?data:d}return legacy?data:d}function _fnAjaxUpdateDraw(settings,json){var compat=function(old,modern){return json[old]!==undefined?json[old]:json[modern]};var data=_fnAjaxDataSrc(settings,json);var draw=compat("sEcho","draw");var recordsTotal=compat("iTotalRecords","recordsTotal");var recordsFiltered=compat("iTotalDisplayRecords","recordsFiltered");if(draw!==undefined){if(draw*1<settings.iDraw){return}settings.iDraw=draw*1}if(!data){data=[]}_fnClearTable(settings);settings._iRecordsTotal=parseInt(recordsTotal,10);settings._iRecordsDisplay=parseInt(recordsFiltered,10);for(var i=0,ien=data.length;i<ien;i++){_fnAddData(settings,data[i])}settings.aiDisplay=settings.aiDisplayMaster.slice();_fnDraw(settings,true);if(!settings._bInitComplete){_fnInitComplete(settings,json)}_fnProcessingDisplay(settings,false)}function _fnAjaxDataSrc(oSettings,json,write){var dataSrc=$.isPlainObject(oSettings.ajax)&&oSettings.ajax.dataSrc!==undefined?oSettings.ajax.dataSrc:oSettings.sAjaxDataProp;if(!write){if(dataSrc==="data"){return json.aaData||json[dataSrc]}return dataSrc!==""?_fnGetObjectDataFn(dataSrc)(json):json}_fnSetObjectDataFn(dataSrc)(json,write)}function _fnFeatureHtmlFilter(settings){var classes=settings.oClasses;var tableId=settings.sTableId;var language=settings.oLanguage;var previousSearch=settings.oPreviousSearch;var features=settings.aanFeatures;var input='<input type="search" class="'+classes.sFilterInput+'"/>';var str=language.sSearch;str=str.match(/_INPUT_/)?str.replace("_INPUT_",input):str+input;var filter=$("<div/>",{id:!features.f?tableId+"_filter":null,class:classes.sFilter}).append($("<label/>").append(str));var searchFn=function(event){var n=features.f;var val=!this.value?"":this.value;if(previousSearch.return&&event.key!=="Enter"){return}if(val!=previousSearch.sSearch){_fnFilterComplete(settings,{sSearch:val,bRegex:previousSearch.bRegex,bSmart:previousSearch.bSmart,bCaseInsensitive:previousSearch.bCaseInsensitive,return:previousSearch.return});settings._iDisplayStart=0;_fnDraw(settings)}};var searchDelay=settings.searchDelay!==null?settings.searchDelay:_fnDataSource(settings)==="ssp"?400:0;var jqFilter=$("input",filter).val(previousSearch.sSearch).attr("placeholder",language.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",searchDelay?_fnThrottle(searchFn,searchDelay):searchFn).on("mouseup",function(e){setTimeout(function(){searchFn.call(jqFilter[0],e)},10)}).on("keypress.DT",function(e){if(e.keyCode==13){return false}}).attr("aria-controls",tableId);$(settings.nTable).on("search.dt.DT",function(ev,s){if(settings===s){try{if(jqFilter[0]!==document.activeElement){jqFilter.val(previousSearch.sSearch)}}catch(e){}}});return filter[0]}function _fnFilterComplete(oSettings,oInput,iForce){var oPrevSearch=oSettings.oPreviousSearch;var aoPrevSearch=oSettings.aoPreSearchCols;var fnSaveFilter=function(oFilter){oPrevSearch.sSearch=oFilter.sSearch;oPrevSearch.bRegex=oFilter.bRegex;oPrevSearch.bSmart=oFilter.bSmart;oPrevSearch.bCaseInsensitive=oFilter.bCaseInsensitive;oPrevSearch.return=oFilter.return};var fnRegex=function(o){return o.bEscapeRegex!==undefined?!o.bEscapeRegex:o.bRegex};_fnColumnTypes(oSettings);if(_fnDataSource(oSettings)!="ssp"){_fnFilter(oSettings,oInput.sSearch,iForce,fnRegex(oInput),oInput.bSmart,oInput.bCaseInsensitive,oInput.return);fnSaveFilter(oInput);for(var i=0;i<aoPrevSearch.length;i++){_fnFilterColumn(oSettings,aoPrevSearch[i].sSearch,i,fnRegex(aoPrevSearch[i]),aoPrevSearch[i].bSmart,aoPrevSearch[i].bCaseInsensitive)}_fnFilterCustom(oSettings)}else{fnSaveFilter(oInput)}oSettings.bFiltered=true;_fnCallbackFire(oSettings,null,"search",[oSettings])}function _fnFilterCustom(settings){var filters=DataTable.ext.search;var displayRows=settings.aiDisplay;var row,rowIdx;for(var i=0,ien=filters.length;i<ien;i++){var rows=[];for(var j=0,jen=displayRows.length;j<jen;j++){rowIdx=displayRows[j];row=settings.aoData[rowIdx];if(filters[i](settings,row._aFilterData,rowIdx,row._aData,j)){rows.push(rowIdx)}}displayRows.length=0;$.merge(displayRows,rows)}}function _fnFilterColumn(settings,searchStr,colIdx,regex,smart,caseInsensitive){if(searchStr===""){return}var data;var out=[];var display=settings.aiDisplay;var rpSearch=_fnFilterCreateSearch(searchStr,regex,smart,caseInsensitive);for(var i=0;i<display.length;i++){data=settings.aoData[display[i]]._aFilterData[colIdx];if(rpSearch.test(data)){out.push(display[i])}}settings.aiDisplay=out}function _fnFilter(settings,input,force,regex,smart,caseInsensitive){var rpSearch=_fnFilterCreateSearch(input,regex,smart,caseInsensitive);var prevSearch=settings.oPreviousSearch.sSearch;var displayMaster=settings.aiDisplayMaster;var display,invalidated,i;var filtered=[];if(DataTable.ext.search.length!==0){force=true}invalidated=_fnFilterData(settings);if(input.length<=0){settings.aiDisplay=displayMaster.slice()}else{if(invalidated||force||regex||prevSearch.length>input.length||input.indexOf(prevSearch)!==0||settings.bSorted){settings.aiDisplay=displayMaster.slice()}display=settings.aiDisplay;for(i=0;i<display.length;i++){if(rpSearch.test(settings.aoData[display[i]]._sFilterRow)){filtered.push(display[i])}}settings.aiDisplay=filtered}}function _fnFilterCreateSearch(search,regex,smart,caseInsensitive){search=regex?search:_fnEscapeRegex(search);if(smart){var a=$.map(search.match(/"[^"]+"|[^ ]+/g)||[""],function(word){if(word.charAt(0)==='"'){var m=word.match(/^"(.*)"$/);word=m?m[1]:word}return word.replace('"',"")});search="^(?=.*?"+a.join(")(?=.*?")+").*$"}return new RegExp(search,caseInsensitive?"i":"")}var _fnEscapeRegex=DataTable.util.escapeRegex;var __filter_div=$("<div>")[0];var __filter_div_textContent=__filter_div.textContent!==undefined;function _fnFilterData(settings){var columns=settings.aoColumns;var column;var i,j,ien,jen,filterData,cellData,row;var wasInvalidated=false;for(i=0,ien=settings.aoData.length;i<ien;i++){row=settings.aoData[i];if(!row._aFilterData){filterData=[];for(j=0,jen=columns.length;j<jen;j++){column=columns[j];if(column.bSearchable){cellData=_fnGetCellData(settings,i,j,"filter");if(cellData===null){cellData=""}if(typeof cellData!=="string"&&cellData.toString){cellData=cellData.toString()}}else{cellData=""}if(cellData.indexOf&&cellData.indexOf("&")!==-1){__filter_div.innerHTML=cellData;cellData=__filter_div_textContent?__filter_div.textContent:__filter_div.innerText}if(cellData.replace){cellData=cellData.replace(/[\r\n\u2028]/g,"")}filterData.push(cellData)}row._aFilterData=filterData;row._sFilterRow=filterData.join("  ");wasInvalidated=true}}return wasInvalidated}function _fnSearchToCamel(obj){return{search:obj.sSearch,smart:obj.bSmart,regex:obj.bRegex,caseInsensitive:obj.bCaseInsensitive}}function _fnSearchToHung(obj){return{sSearch:obj.search,bSmart:obj.smart,bRegex:obj.regex,bCaseInsensitive:obj.caseInsensitive}}function _fnFeatureHtmlInfo(settings){var tid=settings.sTableId,nodes=settings.aanFeatures.i,n=$("<div/>",{class:settings.oClasses.sInfo,id:!nodes?tid+"_info":null});if(!nodes){settings.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"});n.attr("role","status").attr("aria-live","polite");$(settings.nTable).attr("aria-describedby",tid+"_info")}return n[0]}function _fnUpdateInfo(settings){var nodes=settings.aanFeatures.i;if(nodes.length===0){return}var lang=settings.oLanguage,start=settings._iDisplayStart+1,end=settings.fnDisplayEnd(),max=settings.fnRecordsTotal(),total=settings.fnRecordsDisplay(),out=total?lang.sInfo:lang.sInfoEmpty;if(total!==max){out+=" "+lang.sInfoFiltered}out+=lang.sInfoPostFix;out=_fnInfoMacros(settings,out);var callback=lang.fnInfoCallback;if(callback!==null){out=callback.call(settings.oInstance,settings,start,end,max,total,out)}$(nodes).html(out)}function _fnInfoMacros(settings,str){var formatter=settings.fnFormatNumber,start=settings._iDisplayStart+1,len=settings._iDisplayLength,vis=settings.fnRecordsDisplay(),all=len===-1;return str.replace(/_START_/g,formatter.call(settings,start)).replace(/_END_/g,formatter.call(settings,settings.fnDisplayEnd())).replace(/_MAX_/g,formatter.call(settings,settings.fnRecordsTotal())).replace(/_TOTAL_/g,formatter.call(settings,vis)).replace(/_PAGE_/g,formatter.call(settings,all?1:Math.ceil(start/len))).replace(/_PAGES_/g,formatter.call(settings,all?1:Math.ceil(vis/len)))}function _fnInitialise(settings){var i,iLen,iAjaxStart=settings.iInitDisplayStart;var columns=settings.aoColumns,column;var features=settings.oFeatures;var deferLoading=settings.bDeferLoading;if(!settings.bInitialised){setTimeout(function(){_fnInitialise(settings)},200);return}_fnAddOptionsHtml(settings);_fnBuildHead(settings);_fnDrawHead(settings,settings.aoHeader);_fnDrawHead(settings,settings.aoFooter);_fnProcessingDisplay(settings,true);if(features.bAutoWidth){_fnCalculateColumnWidths(settings)}for(i=0,iLen=columns.length;i<iLen;i++){column=columns[i];if(column.sWidth){column.nTh.style.width=_fnStringToCss(column.sWidth)}}_fnCallbackFire(settings,null,"preInit",[settings]);_fnReDraw(settings);var dataSrc=_fnDataSource(settings);if(dataSrc!="ssp"||deferLoading){if(dataSrc=="ajax"){_fnBuildAjax(settings,[],function(json){var aData=_fnAjaxDataSrc(settings,json);for(i=0;i<aData.length;i++){_fnAddData(settings,aData[i])}settings.iInitDisplayStart=iAjaxStart;_fnReDraw(settings);_fnProcessingDisplay(settings,false);_fnInitComplete(settings,json)},settings)}else{_fnProcessingDisplay(settings,false);_fnInitComplete(settings)}}}function _fnInitComplete(settings,json){settings._bInitComplete=true;if(json||settings.oInit.aaData){_fnAdjustColumnSizing(settings)}_fnCallbackFire(settings,null,"plugin-init",[settings,json]);_fnCallbackFire(settings,"aoInitComplete","init",[settings,json])}function _fnLengthChange(settings,val){var len=parseInt(val,10);settings._iDisplayLength=len;_fnLengthOverflow(settings);_fnCallbackFire(settings,null,"length",[settings,len])}function _fnFeatureHtmlLength(settings){var classes=settings.oClasses,tableId=settings.sTableId,menu=settings.aLengthMenu,d2=Array.isArray(menu[0]),lengths=d2?menu[0]:menu,language=d2?menu[1]:menu;var select=$("<select/>",{name:tableId+"_length","aria-controls":tableId,class:classes.sLengthSelect});for(var i=0,ien=lengths.length;i<ien;i++){select[0][i]=new Option(typeof language[i]==="number"?settings.fnFormatNumber(language[i]):language[i],lengths[i])}var div=$("<div><label/></div>").addClass(classes.sLength);if(!settings.aanFeatures.l){div[0].id=tableId+"_length"}div.children().append(settings.oLanguage.sLengthMenu.replace("_MENU_",select[0].outerHTML));$("select",div).val(settings._iDisplayLength).on("change.DT",function(e){_fnLengthChange(settings,$(this).val());_fnDraw(settings)});$(settings.nTable).on("length.dt.DT",function(e,s,len){if(settings===s){$("select",div).val(len)}});return div[0]}function _fnFeatureHtmlPaginate(settings){var type=settings.sPaginationType,plugin=DataTable.ext.pager[type],modern=typeof plugin==="function",redraw=function(settings){_fnDraw(settings)},node=$("<div/>").addClass(settings.oClasses.sPaging+type)[0],features=settings.aanFeatures;if(!modern){plugin.fnInit(settings,node,redraw)}if(!features.p){node.id=settings.sTableId+"_paginate";settings.aoDrawCallback.push({fn:function(settings){if(modern){var start=settings._iDisplayStart,len=settings._iDisplayLength,visRecords=settings.fnRecordsDisplay(),all=len===-1,page=all?0:Math.ceil(start/len),pages=all?1:Math.ceil(visRecords/len),buttons=plugin(page,pages),i,ien;for(i=0,ien=features.p.length;i<ien;i++){_fnRenderer(settings,"pageButton")(settings,features.p[i],i,buttons,page,pages)}}else{plugin.fnUpdate(settings,redraw)}},sName:"pagination"})}return node}function _fnPageChange(settings,action,redraw){var start=settings._iDisplayStart,len=settings._iDisplayLength,records=settings.fnRecordsDisplay();if(records===0||len===-1){start=0}else if(typeof action==="number"){start=action*len;if(start>records){start=0}}else if(action=="first"){start=0}else if(action=="previous"){start=len>=0?start-len:0;if(start<0){start=0}}else if(action=="next"){if(start+len<records){start+=len}}else if(action=="last"){start=Math.floor((records-1)/len)*len}else{_fnLog(settings,0,"Unknown paging action: "+action,5)}var changed=settings._iDisplayStart!==start;settings._iDisplayStart=start;if(changed){_fnCallbackFire(settings,null,"page",[settings]);if(redraw){_fnDraw(settings)}}else{_fnCallbackFire(settings,null,"page-nc",[settings])}return changed}function _fnFeatureHtmlProcessing(settings){return $("<div/>",{id:!settings.aanFeatures.r?settings.sTableId+"_processing":null,class:settings.oClasses.sProcessing,role:"status"}).html(settings.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(settings.nTable)[0]}function _fnProcessingDisplay(settings,show){if(settings.oFeatures.bProcessing){$(settings.aanFeatures.r).css("display",show?"block":"none")}_fnCallbackFire(settings,null,"processing",[settings,show])}function _fnFeatureHtmlTable(settings){var table=$(settings.nTable);var scroll=settings.oScroll;if(scroll.sX===""&&scroll.sY===""){return settings.nTable}var scrollX=scroll.sX;var scrollY=scroll.sY;var classes=settings.oClasses;var caption=table.children("caption");var captionSide=caption.length?caption[0]._captionSide:null;var headerClone=$(table[0].cloneNode(false));var footerClone=$(table[0].cloneNode(false));var footer=table.children("tfoot");var _div="<div/>";var size=function(s){return!s?null:_fnStringToCss(s)};if(!footer.length){footer=null}var scroller=$(_div,{class:classes.sScrollWrapper}).append($(_div,{class:classes.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:scrollX?size(scrollX):"100%"}).append($(_div,{class:classes.sScrollHeadInner}).css({"box-sizing":"content-box",width:scroll.sXInner||"100%"}).append(headerClone.removeAttr("id").css("margin-left",0).append(captionSide==="top"?caption:null).append(table.children("thead"))))).append($(_div,{class:classes.sScrollBody}).css({position:"relative",overflow:"auto",width:size(scrollX)}).append(table));if(footer){scroller.append($(_div,{class:classes.sScrollFoot}).css({overflow:"hidden",border:0,width:scrollX?size(scrollX):"100%"}).append($(_div,{class:classes.sScrollFootInner}).append(footerClone.removeAttr("id").css("margin-left",0).append(captionSide==="bottom"?caption:null).append(table.children("tfoot")))))}var children=scroller.children();var scrollHead=children[0];var scrollBody=children[1];var scrollFoot=footer?children[2]:null;if(scrollX){$(scrollBody).on("scroll.DT",function(e){var scrollLeft=this.scrollLeft;scrollHead.scrollLeft=scrollLeft;if(footer){scrollFoot.scrollLeft=scrollLeft}})}$(scrollBody).css("max-height",scrollY);if(!scroll.bCollapse){$(scrollBody).css("height",scrollY)}settings.nScrollHead=scrollHead;settings.nScrollBody=scrollBody;settings.nScrollFoot=scrollFoot;settings.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"});return scroller[0]}function _fnScrollDraw(settings){var scroll=settings.oScroll,scrollX=scroll.sX,scrollXInner=scroll.sXInner,scrollY=scroll.sY,barWidth=scroll.iBarWidth,divHeader=$(settings.nScrollHead),divHeaderStyle=divHeader[0].style,divHeaderInner=divHeader.children("div"),divHeaderInnerStyle=divHeaderInner[0].style,divHeaderTable=divHeaderInner.children("table"),divBodyEl=settings.nScrollBody,divBody=$(divBodyEl),divBodyStyle=divBodyEl.style,divFooter=$(settings.nScrollFoot),divFooterInner=divFooter.children("div"),divFooterTable=divFooterInner.children("table"),header=$(settings.nTHead),table=$(settings.nTable),tableEl=table[0],tableStyle=tableEl.style,footer=settings.nTFoot?$(settings.nTFoot):null,browser=settings.oBrowser,ie67=browser.bScrollOversize,dtHeaderCells=_pluck(settings.aoColumns,"nTh"),headerTrgEls,footerTrgEls,headerSrcEls,footerSrcEls,headerCopy,footerCopy,headerWidths=[],footerWidths=[],headerContent=[],footerContent=[],idx,correction,sanityWidth,zeroOut=function(nSizer){var style=nSizer.style;style.paddingTop="0";style.paddingBottom="0";style.borderTopWidth="0";style.borderBottomWidth="0";style.height=0};var scrollBarVis=divBodyEl.scrollHeight>divBodyEl.clientHeight;if(settings.scrollBarVis!==scrollBarVis&&settings.scrollBarVis!==undefined){settings.scrollBarVis=scrollBarVis;_fnAdjustColumnSizing(settings);return}else{settings.scrollBarVis=scrollBarVis}table.children("thead, tfoot").remove();if(footer){footerCopy=footer.clone().prependTo(table);footerTrgEls=footer.find("tr");footerSrcEls=footerCopy.find("tr");footerCopy.find("[id]").removeAttr("id")}headerCopy=header.clone().prependTo(table);headerTrgEls=header.find("tr");headerSrcEls=headerCopy.find("tr");headerCopy.find("th, td").removeAttr("tabindex");headerCopy.find("[id]").removeAttr("id");if(!scrollX){divBodyStyle.width="100%";divHeader[0].style.width="100%"}$.each(_fnGetUniqueThs(settings,headerCopy),function(i,el){idx=_fnVisibleToColumnIndex(settings,i);el.style.width=settings.aoColumns[idx].sWidth});if(footer){_fnApplyToChildren(function(n){n.style.width=""},footerSrcEls)}sanityWidth=table.outerWidth();if(scrollX===""){tableStyle.width="100%";if(ie67&&(table.find("tbody").height()>divBodyEl.offsetHeight||divBody.css("overflow-y")=="scroll")){tableStyle.width=_fnStringToCss(table.outerWidth()-barWidth)}sanityWidth=table.outerWidth()}else if(scrollXInner!==""){tableStyle.width=_fnStringToCss(scrollXInner);sanityWidth=table.outerWidth()}_fnApplyToChildren(zeroOut,headerSrcEls);_fnApplyToChildren(function(nSizer){var style=window.getComputedStyle?window.getComputedStyle(nSizer).width:_fnStringToCss($(nSizer).width());headerContent.push(nSizer.innerHTML);headerWidths.push(style)},headerSrcEls);_fnApplyToChildren(function(nToSize,i){nToSize.style.width=headerWidths[i]},headerTrgEls);$(headerSrcEls).css("height",0);if(footer){_fnApplyToChildren(zeroOut,footerSrcEls);_fnApplyToChildren(function(nSizer){footerContent.push(nSizer.innerHTML);footerWidths.push(_fnStringToCss($(nSizer).css("width")))},footerSrcEls);_fnApplyToChildren(function(nToSize,i){nToSize.style.width=footerWidths[i]},footerTrgEls);$(footerSrcEls).height(0)}_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML='<div class="dataTables_sizing">'+headerContent[i]+"</div>";nSizer.childNodes[0].style.height="0";nSizer.childNodes[0].style.overflow="hidden";nSizer.style.width=headerWidths[i]},headerSrcEls);if(footer){_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML='<div class="dataTables_sizing">'+footerContent[i]+"</div>";nSizer.childNodes[0].style.height="0";nSizer.childNodes[0].style.overflow="hidden";nSizer.style.width=footerWidths[i]},footerSrcEls)}if(Math.round(table.outerWidth())<Math.round(sanityWidth)){correction=divBodyEl.scrollHeight>divBodyEl.offsetHeight||divBody.css("overflow-y")=="scroll"?sanityWidth+barWidth:sanityWidth;if(ie67&&(divBodyEl.scrollHeight>divBodyEl.offsetHeight||divBody.css("overflow-y")=="scroll")){tableStyle.width=_fnStringToCss(correction-barWidth)}if(scrollX===""||scrollXInner!==""){_fnLog(settings,1,"Possible column misalignment",6)}}else{correction="100%"}divBodyStyle.width=_fnStringToCss(correction);divHeaderStyle.width=_fnStringToCss(correction);if(footer){settings.nScrollFoot.style.width=_fnStringToCss(correction)}if(!scrollY){if(ie67){divBodyStyle.height=_fnStringToCss(tableEl.offsetHeight+barWidth)}}var iOuterWidth=table.outerWidth();divHeaderTable[0].style.width=_fnStringToCss(iOuterWidth);divHeaderInnerStyle.width=_fnStringToCss(iOuterWidth);var bScrolling=table.height()>divBodyEl.clientHeight||divBody.css("overflow-y")=="scroll";var padding="padding"+(browser.bScrollbarLeft?"Left":"Right");divHeaderInnerStyle[padding]=bScrolling?barWidth+"px":"0px";if(footer){divFooterTable[0].style.width=_fnStringToCss(iOuterWidth);divFooterInner[0].style.width=_fnStringToCss(iOuterWidth);divFooterInner[0].style[padding]=bScrolling?barWidth+"px":"0px"}table.children("colgroup").insertBefore(table.children("thead"));divBody.trigger("scroll");if((settings.bSorted||settings.bFiltered)&&!settings._drawHold){divBodyEl.scrollTop=0}}function _fnApplyToChildren(fn,an1,an2){var index=0,i=0,iLen=an1.length;var nNode1,nNode2;while(i<iLen){nNode1=an1[i].firstChild;nNode2=an2?an2[i].firstChild:null;while(nNode1){if(nNode1.nodeType===1){if(an2){fn(nNode1,nNode2,index)}else{fn(nNode1,index)}index++}nNode1=nNode1.nextSibling;nNode2=an2?nNode2.nextSibling:null}i++}}var __re_html_remove=/<.*?>/g;function _fnCalculateColumnWidths(oSettings){var table=oSettings.nTable,columns=oSettings.aoColumns,scroll=oSettings.oScroll,scrollY=scroll.sY,scrollX=scroll.sX,scrollXInner=scroll.sXInner,columnCount=columns.length,visibleColumns=_fnGetColumns(oSettings,"bVisible"),headerCells=$("th",oSettings.nTHead),tableWidthAttr=table.getAttribute("width"),tableContainer=table.parentNode,userInputs=false,i,column,columnIdx,width,outerWidth,browser=oSettings.oBrowser,ie67=browser.bScrollOversize;var styleWidth=table.style.width;if(styleWidth&&styleWidth.indexOf("%")!==-1){tableWidthAttr=styleWidth}for(i=0;i<visibleColumns.length;i++){column=columns[visibleColumns[i]];if(column.sWidth!==null){column.sWidth=_fnConvertToWidth(column.sWidthOrig,tableContainer);userInputs=true}}if(ie67||!userInputs&&!scrollX&&!scrollY&&columnCount==_fnVisbleColumns(oSettings)&&columnCount==headerCells.length){for(i=0;i<columnCount;i++){var colIdx=_fnVisibleToColumnIndex(oSettings,i);if(colIdx!==null){columns[colIdx].sWidth=_fnStringToCss(headerCells.eq(i).width())}}}else{var tmpTable=$(table).clone().css("visibility","hidden").removeAttr("id");tmpTable.find("tbody tr").remove();var tr=$("<tr/>").appendTo(tmpTable.find("tbody"));tmpTable.find("thead, tfoot").remove();tmpTable.append($(oSettings.nTHead).clone()).append($(oSettings.nTFoot).clone());tmpTable.find("tfoot th, tfoot td").css("width","");headerCells=_fnGetUniqueThs(oSettings,tmpTable.find("thead")[0]);for(i=0;i<visibleColumns.length;i++){column=columns[visibleColumns[i]];headerCells[i].style.width=column.sWidthOrig!==null&&column.sWidthOrig!==""?_fnStringToCss(column.sWidthOrig):"";if(column.sWidthOrig&&scrollX){$(headerCells[i]).append($("<div/>").css({width:column.sWidthOrig,margin:0,padding:0,border:0,height:1}))}}if(oSettings.aoData.length){for(i=0;i<visibleColumns.length;i++){columnIdx=visibleColumns[i];column=columns[columnIdx];$(_fnGetWidestNode(oSettings,columnIdx)).clone(false).append(column.sContentPadding).appendTo(tr)}}$("[name]",tmpTable).removeAttr("name");var holder=$("<div/>").css(scrollX||scrollY?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(tmpTable).appendTo(tableContainer);if(scrollX&&scrollXInner){tmpTable.width(scrollXInner)}else if(scrollX){tmpTable.css("width","auto");tmpTable.removeAttr("width");if(tmpTable.width()<tableContainer.clientWidth&&tableWidthAttr){tmpTable.width(tableContainer.clientWidth)}}else if(scrollY){tmpTable.width(tableContainer.clientWidth)}else if(tableWidthAttr){tmpTable.width(tableWidthAttr)}var total=0;for(i=0;i<visibleColumns.length;i++){var cell=$(headerCells[i]);var border=cell.outerWidth()-cell.width();var bounding=browser.bBounding?Math.ceil(headerCells[i].getBoundingClientRect().width):cell.outerWidth();total+=bounding;columns[visibleColumns[i]].sWidth=_fnStringToCss(bounding-border)}table.style.width=_fnStringToCss(total);holder.remove()}if(tableWidthAttr){table.style.width=_fnStringToCss(tableWidthAttr)}if((tableWidthAttr||scrollX)&&!oSettings._reszEvt){var bindResize=function(){$(window).on("resize.DT-"+oSettings.sInstance,_fnThrottle(function(){_fnAdjustColumnSizing(oSettings)}))};if(ie67){setTimeout(bindResize,1e3)}else{bindResize()}oSettings._reszEvt=true}}var _fnThrottle=DataTable.util.throttle;function _fnConvertToWidth(width,parent){if(!width){return 0}var n=$("<div/>").css("width",_fnStringToCss(width)).appendTo(parent||document.body);var val=n[0].offsetWidth;n.remove();return val}function _fnGetWidestNode(settings,colIdx){var idx=_fnGetMaxLenString(settings,colIdx);if(idx<0){return null}var data=settings.aoData[idx];return!data.nTr?$("<td/>").html(_fnGetCellData(settings,idx,colIdx,"display"))[0]:data.anCells[colIdx]}function _fnGetMaxLenString(settings,colIdx){var s,max=-1,maxIdx=-1;for(var i=0,ien=settings.aoData.length;i<ien;i++){s=_fnGetCellData(settings,i,colIdx,"display")+"";s=s.replace(__re_html_remove,"");s=s.replace(/&nbsp;/g," ");if(s.length>max){max=s.length;maxIdx=i}}return maxIdx}function _fnStringToCss(s){if(s===null){return"0px"}if(typeof s=="number"){return s<0?"0px":s+"px"}return s.match(/\d$/)?s+"px":s}function _fnSortFlatten(settings){var i,iLen,k,kLen,aSort=[],aiOrig=[],aoColumns=settings.aoColumns,aDataSort,iCol,sType,srcCol,fixed=settings.aaSortingFixed,fixedObj=$.isPlainObject(fixed),nestedSort=[],add=function(a){if(a.length&&!Array.isArray(a[0])){nestedSort.push(a)}else{$.merge(nestedSort,a)}};if(Array.isArray(fixed)){add(fixed)}if(fixedObj&&fixed.pre){add(fixed.pre)}add(settings.aaSorting);if(fixedObj&&fixed.post){add(fixed.post)}for(i=0;i<nestedSort.length;i++){srcCol=nestedSort[i][0];aDataSort=aoColumns[srcCol].aDataSort;for(k=0,kLen=aDataSort.length;k<kLen;k++){iCol=aDataSort[k];sType=aoColumns[iCol].sType||"string";if(nestedSort[i]._idx===undefined){nestedSort[i]._idx=$.inArray(nestedSort[i][1],aoColumns[iCol].asSorting)}aSort.push({src:srcCol,col:iCol,dir:nestedSort[i][1],index:nestedSort[i]._idx,type:sType,formatter:DataTable.ext.type.order[sType+"-pre"]})}}return aSort}function _fnSort(oSettings){var i,ien,iLen,j,jLen,k,kLen,sDataType,nTh,aiOrig=[],oExtSort=DataTable.ext.type.order,aoData=oSettings.aoData,aoColumns=oSettings.aoColumns,aDataSort,data,iCol,sType,oSort,formatters=0,sortCol,displayMaster=oSettings.aiDisplayMaster,aSort;_fnColumnTypes(oSettings);aSort=_fnSortFlatten(oSettings);for(i=0,ien=aSort.length;i<ien;i++){sortCol=aSort[i];if(sortCol.formatter){formatters++}_fnSortData(oSettings,sortCol.col)}if(_fnDataSource(oSettings)!="ssp"&&aSort.length!==0){for(i=0,iLen=displayMaster.length;i<iLen;i++){aiOrig[displayMaster[i]]=i}if(formatters===aSort.length){displayMaster.sort(function(a,b){var x,y,k,test,sort,len=aSort.length,dataA=aoData[a]._aSortData,dataB=aoData[b]._aSortData;for(k=0;k<len;k++){sort=aSort[k];x=dataA[sort.col];y=dataB[sort.col];test=x<y?-1:x>y?1:0;if(test!==0){return sort.dir==="asc"?test:-test}}x=aiOrig[a];y=aiOrig[b];return x<y?-1:x>y?1:0})}else{displayMaster.sort(function(a,b){var x,y,k,l,test,sort,fn,len=aSort.length,dataA=aoData[a]._aSortData,dataB=aoData[b]._aSortData;for(k=0;k<len;k++){sort=aSort[k];x=dataA[sort.col];y=dataB[sort.col];fn=oExtSort[sort.type+"-"+sort.dir]||oExtSort["string-"+sort.dir];test=fn(x,y);if(test!==0){return test}}x=aiOrig[a];y=aiOrig[b];return x<y?-1:x>y?1:0})}}oSettings.bSorted=true}function _fnSortAria(settings){var label;var nextSort;var columns=settings.aoColumns;var aSort=_fnSortFlatten(settings);var oAria=settings.oLanguage.oAria;for(var i=0,iLen=columns.length;i<iLen;i++){var col=columns[i];var asSorting=col.asSorting;var sTitle=col.ariaTitle||col.sTitle.replace(/<.*?>/g,"");var th=col.nTh;th.removeAttribute("aria-sort");if(col.bSortable){if(aSort.length>0&&aSort[0].col==i){th.setAttribute("aria-sort",aSort[0].dir=="asc"?"ascending":"descending");nextSort=asSorting[aSort[0].index+1]||asSorting[0]}else{nextSort=asSorting[0]}label=sTitle+(nextSort==="asc"?oAria.sSortAscending:oAria.sSortDescending)}else{label=sTitle}th.setAttribute("aria-label",label)}}function _fnSortListener(settings,colIdx,append,callback){var col=settings.aoColumns[colIdx];var sorting=settings.aaSorting;var asSorting=col.asSorting;var nextSortIdx;var next=function(a,overflow){var idx=a._idx;if(idx===undefined){idx=$.inArray(a[1],asSorting)}return idx+1<asSorting.length?idx+1:overflow?null:0};if(typeof sorting[0]==="number"){sorting=settings.aaSorting=[sorting]}if(append&&settings.oFeatures.bSortMulti){var sortIdx=$.inArray(colIdx,_pluck(sorting,"0"));if(sortIdx!==-1){nextSortIdx=next(sorting[sortIdx],true);if(nextSortIdx===null&&sorting.length===1){nextSortIdx=0}if(nextSortIdx===null){sorting.splice(sortIdx,1)}else{sorting[sortIdx][1]=asSorting[nextSortIdx];sorting[sortIdx]._idx=nextSortIdx}}else{sorting.push([colIdx,asSorting[0],0]);sorting[sorting.length-1]._idx=0}}else if(sorting.length&&sorting[0][0]==colIdx){nextSortIdx=next(sorting[0]);sorting.length=1;sorting[0][1]=asSorting[nextSortIdx];sorting[0]._idx=nextSortIdx}else{sorting.length=0;sorting.push([colIdx,asSorting[0]]);sorting[0]._idx=0}_fnReDraw(settings);if(typeof callback=="function"){callback(settings)}}function _fnSortAttachListener(settings,attachTo,colIdx,callback){var col=settings.aoColumns[colIdx];_fnBindAction(attachTo,{},function(e){if(col.bSortable===false){return}if(settings.oFeatures.bProcessing){_fnProcessingDisplay(settings,true);setTimeout(function(){_fnSortListener(settings,colIdx,e.shiftKey,callback);if(_fnDataSource(settings)!=="ssp"){_fnProcessingDisplay(settings,false)}},0)}else{_fnSortListener(settings,colIdx,e.shiftKey,callback)}})}function _fnSortingClasses(settings){var oldSort=settings.aLastSort;var sortClass=settings.oClasses.sSortColumn;var sort=_fnSortFlatten(settings);var features=settings.oFeatures;var i,ien,colIdx;if(features.bSort&&features.bSortClasses){for(i=0,ien=oldSort.length;i<ien;i++){colIdx=oldSort[i].src;$(_pluck(settings.aoData,"anCells",colIdx)).removeClass(sortClass+(i<2?i+1:3))}for(i=0,ien=sort.length;i<ien;i++){colIdx=sort[i].src;$(_pluck(settings.aoData,"anCells",colIdx)).addClass(sortClass+(i<2?i+1:3))}}settings.aLastSort=sort}function _fnSortData(settings,idx){var column=settings.aoColumns[idx];var customSort=DataTable.ext.order[column.sSortDataType];var customData;if(customSort){customData=customSort.call(settings.oInstance,settings,idx,_fnColumnIndexToVisible(settings,idx))}var row,cellData;var formatter=DataTable.ext.type.order[column.sType+"-pre"];for(var i=0,ien=settings.aoData.length;i<ien;i++){row=settings.aoData[i];if(!row._aSortData){row._aSortData=[]}if(!row._aSortData[idx]||customSort){cellData=customSort?customData[i]:_fnGetCellData(settings,i,idx,"sort");row._aSortData[idx]=formatter?formatter(cellData):cellData}}}function _fnSaveState(settings){if(settings._bLoadingState){return}var state={time:+new Date,start:settings._iDisplayStart,length:settings._iDisplayLength,order:$.extend(true,[],settings.aaSorting),search:_fnSearchToCamel(settings.oPreviousSearch),columns:$.map(settings.aoColumns,function(col,i){return{visible:col.bVisible,search:_fnSearchToCamel(settings.aoPreSearchCols[i])}})};settings.oSavedState=state;_fnCallbackFire(settings,"aoStateSaveParams","stateSaveParams",[settings,state]);if(settings.oFeatures.bStateSave&&!settings.bDestroying){settings.fnStateSaveCallback.call(settings.oInstance,settings,state)}}function _fnLoadState(settings,oInit,callback){if(!settings.oFeatures.bStateSave){callback();return}var loaded=function(state){_fnImplementState(settings,state,callback)};var state=settings.fnStateLoadCallback.call(settings.oInstance,settings,loaded);if(state!==undefined){_fnImplementState(settings,state,callback)}return true}function _fnImplementState(settings,s,callback){var i,ien;var columns=settings.aoColumns;settings._bLoadingState=true;var api=settings._bInitComplete?new DataTable.Api(settings):null;if(!s||!s.time){settings._bLoadingState=false;callback();return}var abStateLoad=_fnCallbackFire(settings,"aoStateLoadParams","stateLoadParams",[settings,s]);if($.inArray(false,abStateLoad)!==-1){settings._bLoadingState=false;callback();return}var duration=settings.iStateDuration;if(duration>0&&s.time<+new Date-duration*1e3){settings._bLoadingState=false;callback();return}if(s.columns&&columns.length!==s.columns.length){settings._bLoadingState=false;callback();return}settings.oLoadedState=$.extend(true,{},s);if(s.length!==undefined){if(api){api.page.len(s.length)}else{settings._iDisplayLength=s.length}}if(s.start!==undefined){if(api===null){settings._iDisplayStart=s.start;settings.iInitDisplayStart=s.start}else{_fnPageChange(settings,s.start/settings._iDisplayLength)}}if(s.order!==undefined){settings.aaSorting=[];$.each(s.order,function(i,col){settings.aaSorting.push(col[0]>=columns.length?[0,col[1]]:col)})}if(s.search!==undefined){$.extend(settings.oPreviousSearch,_fnSearchToHung(s.search))}if(s.columns){for(i=0,ien=s.columns.length;i<ien;i++){var col=s.columns[i];if(col.visible!==undefined){if(api){api.column(i).visible(col.visible,false)}else{columns[i].bVisible=col.visible}}if(col.search!==undefined){$.extend(settings.aoPreSearchCols[i],_fnSearchToHung(col.search))}}if(api){api.columns.adjust()}}settings._bLoadingState=false;_fnCallbackFire(settings,"aoStateLoaded","stateLoaded",[settings,s]);callback()}function _fnSettingsFromNode(table){var settings=DataTable.settings;var idx=$.inArray(table,_pluck(settings,"nTable"));return idx!==-1?settings[idx]:null}function _fnLog(settings,level,msg,tn){msg="DataTables warning: "+(settings?"table id="+settings.sTableId+" - ":"")+msg;if(tn){msg+=". For more information about this error, please see "+"http://datatables.net/tn/"+tn}if(!level){var ext=DataTable.ext;var type=ext.sErrMode||ext.errMode;if(settings){_fnCallbackFire(settings,null,"error",[settings,tn,msg])}if(type=="alert"){alert(msg)}else if(type=="throw"){throw new Error(msg)}else if(typeof type=="function"){type(settings,tn,msg)}}else if(window.console&&console.log){console.log(msg)}}function _fnMap(ret,src,name,mappedName){if(Array.isArray(name)){$.each(name,function(i,val){if(Array.isArray(val)){_fnMap(ret,src,val[0],val[1])}else{_fnMap(ret,src,val)}});return}if(mappedName===undefined){mappedName=name}if(src[name]!==undefined){ret[mappedName]=src[name]}}function _fnExtend(out,extender,breakRefs){var val;for(var prop in extender){if(extender.hasOwnProperty(prop)){val=extender[prop];if($.isPlainObject(val)){if(!$.isPlainObject(out[prop])){out[prop]={}}$.extend(true,out[prop],val)}else if(breakRefs&&prop!=="data"&&prop!=="aaData"&&Array.isArray(val)){out[prop]=val.slice()}else{out[prop]=val}}}return out}function _fnBindAction(n,oData,fn){$(n).on("click.DT",oData,function(e){$(n).trigger("blur");fn(e)}).on("keypress.DT",oData,function(e){if(e.which===13){e.preventDefault();fn(e)}}).on("selectstart.DT",function(){return false})}function _fnCallbackReg(oSettings,sStore,fn,sName){if(fn){oSettings[sStore].push({fn:fn,sName:sName})}}function _fnCallbackFire(settings,callbackArr,eventName,args){var ret=[];if(callbackArr){ret=$.map(settings[callbackArr].slice().reverse(),function(val,i){return val.fn.apply(settings.oInstance,args)})}if(eventName!==null){var e=$.Event(eventName+".dt");var table=$(settings.nTable);table.trigger(e,args);if(table.parents("body").length===0){$("body").trigger(e,args)}ret.push(e.result)}return ret}function _fnLengthOverflow(settings){var start=settings._iDisplayStart,end=settings.fnDisplayEnd(),len=settings._iDisplayLength;if(start>=end){start=end-len}start-=start%len;if(len===-1||start<0){start=0}settings._iDisplayStart=start}function _fnRenderer(settings,type){var renderer=settings.renderer;var host=DataTable.ext.renderer[type];if($.isPlainObject(renderer)&&renderer[type]){return host[renderer[type]]||host._}else if(typeof renderer==="string"){return host[renderer]||host._}return host._}function _fnDataSource(settings){if(settings.oFeatures.bServerSide){return"ssp"}else if(settings.ajax||settings.sAjaxSource){return"ajax"}return"dom"}var __apiStruct=[];var __arrayProto=Array.prototype;var _toSettings=function(mixed){var idx,jq;var settings=DataTable.settings;var tables=$.map(settings,function(el,i){return el.nTable});if(!mixed){return[]}else if(mixed.nTable&&mixed.oApi){return[mixed]}else if(mixed.nodeName&&mixed.nodeName.toLowerCase()==="table"){idx=$.inArray(mixed,tables);return idx!==-1?[settings[idx]]:null}else if(mixed&&typeof mixed.settings==="function"){return mixed.settings().toArray()}else if(typeof mixed==="string"){jq=$(mixed)}else if(mixed instanceof $){jq=mixed}if(jq){return jq.map(function(i){idx=$.inArray(this,tables);return idx!==-1?settings[idx]:null}).toArray()}};_Api=function(context,data){if(!(this instanceof _Api)){return new _Api(context,data)}var settings=[];var ctxSettings=function(o){var a=_toSettings(o);if(a){settings.push.apply(settings,a)}};if(Array.isArray(context)){for(var i=0,ien=context.length;i<ien;i++){ctxSettings(context[i])}}else{ctxSettings(context)}this.context=_unique(settings);if(data){$.merge(this,data)}this.selector={rows:null,cols:null,opts:null};_Api.extend(this,this,__apiStruct)};DataTable.Api=_Api;$.extend(_Api.prototype,{any:function(){return this.count()!==0},concat:__arrayProto.concat,context:[],count:function(){return this.flatten().length},each:function(fn){for(var i=0,ien=this.length;i<ien;i++){fn.call(this,this[i],i,this)}return this},eq:function(idx){var ctx=this.context;return ctx.length>idx?new _Api(ctx[idx],this[idx]):null},filter:function(fn){var a=[];if(__arrayProto.filter){a=__arrayProto.filter.call(this,fn,this)}else{for(var i=0,ien=this.length;i<ien;i++){if(fn.call(this,this[i],i,this)){a.push(this[i])}}}return new _Api(this.context,a)},flatten:function(){var a=[];return new _Api(this.context,a.concat.apply(a,this.toArray()))},join:__arrayProto.join,indexOf:__arrayProto.indexOf||function(obj,start){for(var i=start||0,ien=this.length;i<ien;i++){if(this[i]===obj){return i}}return-1},iterator:function(flatten,type,fn,alwaysNew){var a=[],ret,i,ien,j,jen,context=this.context,rows,items,item,selector=this.selector;if(typeof flatten==="string"){alwaysNew=fn;fn=type;type=flatten;flatten=false}for(i=0,ien=context.length;i<ien;i++){var apiInst=new _Api(context[i]);if(type==="table"){ret=fn.call(apiInst,context[i],i);if(ret!==undefined){a.push(ret)}}else if(type==="columns"||type==="rows"){ret=fn.call(apiInst,context[i],this[i],i);if(ret!==undefined){a.push(ret)}}else if(type==="column"||type==="column-rows"||type==="row"||type==="cell"){items=this[i];if(type==="column-rows"){rows=_selector_row_indexes(context[i],selector.opts)}for(j=0,jen=items.length;j<jen;j++){item=items[j];if(type==="cell"){ret=fn.call(apiInst,context[i],item.row,item.column,i,j)}else{ret=fn.call(apiInst,context[i],item,i,j,rows)}if(ret!==undefined){a.push(ret)}}}}if(a.length||alwaysNew){var api=new _Api(context,flatten?a.concat.apply([],a):a);var apiSelector=api.selector;apiSelector.rows=selector.rows;apiSelector.cols=selector.cols;apiSelector.opts=selector.opts;return api}return this},lastIndexOf:__arrayProto.lastIndexOf||function(obj,start){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(fn){var a=[];if(__arrayProto.map){a=__arrayProto.map.call(this,fn,this)}else{for(var i=0,ien=this.length;i<ien;i++){a.push(fn.call(this,this[i],i))}}return new _Api(this.context,a)},pluck:function(prop){var fn=DataTable.util.get(prop);return this.map(function(el){return fn(el)})},pop:__arrayProto.pop,push:__arrayProto.push,reduce:__arrayProto.reduce||function(fn,init){return _fnReduce(this,fn,init,0,this.length,1)},reduceRight:__arrayProto.reduceRight||function(fn,init){return _fnReduce(this,fn,init,this.length-1,-1,-1)},reverse:__arrayProto.reverse,selector:null,shift:__arrayProto.shift,slice:function(){return new _Api(this.context,this)},sort:__arrayProto.sort,splice:__arrayProto.splice,toArray:function(){return __arrayProto.slice.call(this)},to$:function(){return $(this)},toJQuery:function(){return $(this)},unique:function(){return new _Api(this.context,_unique(this))},unshift:__arrayProto.unshift});_Api.extend=function(scope,obj,ext){if(!ext.length||!obj||!(obj instanceof _Api)&&!obj.__dt_wrapper){return}var i,ien,struct,methodScoping=function(scope,fn,struc){return function(){var ret=fn.apply(scope,arguments);_Api.extend(ret,ret,struc.methodExt);return ret}};for(i=0,ien=ext.length;i<ien;i++){struct=ext[i];obj[struct.name]=struct.type==="function"?methodScoping(scope,struct.val,struct):struct.type==="object"?{}:struct.val;obj[struct.name].__dt_wrapper=true;_Api.extend(scope,obj[struct.name],struct.propExt)}};_Api.register=_api_register=function(name,val){if(Array.isArray(name)){for(var j=0,jen=name.length;j<jen;j++){_Api.register(name[j],val)}return}var i,ien,heir=name.split("."),struct=__apiStruct,key,method;var find=function(src,name){for(var i=0,ien=src.length;i<ien;i++){if(src[i].name===name){return src[i]}}return null};for(i=0,ien=heir.length;i<ien;i++){method=heir[i].indexOf("()")!==-1;key=method?heir[i].replace("()",""):heir[i];var src=find(struct,key);if(!src){src={name:key,val:{},methodExt:[],propExt:[],type:"object"};struct.push(src)}if(i===ien-1){src.val=val;src.type=typeof val==="function"?"function":$.isPlainObject(val)?"object":"other"}else{struct=method?src.methodExt:src.propExt}}};_Api.registerPlural=_api_registerPlural=function(pluralName,singularName,val){_Api.register(pluralName,val);_Api.register(singularName,function(){var ret=val.apply(this,arguments);if(ret===this){return this}else if(ret instanceof _Api){return ret.length?Array.isArray(ret[0])?new _Api(ret.context,ret[0]):ret[0]:undefined}return ret})};var __table_selector=function(selector,a){if(Array.isArray(selector)){return $.map(selector,function(item){return __table_selector(item,a)})}if(typeof selector==="number"){return[a[selector]]}var nodes=$.map(a,function(el,i){return el.nTable});return $(nodes).filter(selector).map(function(i){var idx=$.inArray(this,nodes);return a[idx]}).toArray()};_api_register("tables()",function(selector){return selector!==undefined&&selector!==null?new _Api(__table_selector(selector,this.context)):this});_api_register("table()",function(selector){var tables=this.tables(selector);var ctx=tables.context;return ctx.length?new _Api(ctx[0]):tables});_api_registerPlural("tables().nodes()","table().node()",function(){return this.iterator("table",function(ctx){return ctx.nTable},1)});_api_registerPlural("tables().body()","table().body()",function(){return this.iterator("table",function(ctx){return ctx.nTBody},1)});_api_registerPlural("tables().header()","table().header()",function(){return this.iterator("table",function(ctx){return ctx.nTHead},1)});_api_registerPlural("tables().footer()","table().footer()",function(){return this.iterator("table",function(ctx){return ctx.nTFoot},1)});_api_registerPlural("tables().containers()","table().container()",function(){return this.iterator("table",function(ctx){return ctx.nTableWrapper},1)});_api_register("draw()",function(paging){return this.iterator("table",function(settings){if(paging==="page"){_fnDraw(settings)}else{if(typeof paging==="string"){paging=paging==="full-hold"?false:true}_fnReDraw(settings,paging===false)}})});_api_register("page()",function(action){if(action===undefined){return this.page.info().page}return this.iterator("table",function(settings){_fnPageChange(settings,action)})});_api_register("page.info()",function(action){if(this.context.length===0){return undefined}var settings=this.context[0],start=settings._iDisplayStart,len=settings.oFeatures.bPaginate?settings._iDisplayLength:-1,visRecords=settings.fnRecordsDisplay(),all=len===-1;return{page:all?0:Math.floor(start/len),pages:all?1:Math.ceil(visRecords/len),start:start,end:settings.fnDisplayEnd(),length:len,recordsTotal:settings.fnRecordsTotal(),recordsDisplay:visRecords,serverSide:_fnDataSource(settings)==="ssp"}});_api_register("page.len()",function(len){if(len===undefined){return this.context.length!==0?this.context[0]._iDisplayLength:undefined}return this.iterator("table",function(settings){_fnLengthChange(settings,len)})});var __reload=function(settings,holdPosition,callback){if(callback){var api=new _Api(settings);api.one("draw",function(){callback(api.ajax.json())})}if(_fnDataSource(settings)=="ssp"){_fnReDraw(settings,holdPosition)}else{_fnProcessingDisplay(settings,true);var xhr=settings.jqXHR;if(xhr&&xhr.readyState!==4){xhr.abort()}_fnBuildAjax(settings,[],function(json){_fnClearTable(settings);var data=_fnAjaxDataSrc(settings,json);for(var i=0,ien=data.length;i<ien;i++){_fnAddData(settings,data[i])}_fnReDraw(settings,holdPosition);_fnProcessingDisplay(settings,false)})}};_api_register("ajax.json()",function(){var ctx=this.context;if(ctx.length>0){return ctx[0].json}});_api_register("ajax.params()",function(){var ctx=this.context;if(ctx.length>0){return ctx[0].oAjaxData}});_api_register("ajax.reload()",function(callback,resetPaging){return this.iterator("table",function(settings){__reload(settings,resetPaging===false,callback)})});_api_register("ajax.url()",function(url){var ctx=this.context;if(url===undefined){if(ctx.length===0){return undefined}ctx=ctx[0];return ctx.ajax?$.isPlainObject(ctx.ajax)?ctx.ajax.url:ctx.ajax:ctx.sAjaxSource}return this.iterator("table",function(settings){if($.isPlainObject(settings.ajax)){settings.ajax.url=url}else{settings.ajax=url}})});_api_register("ajax.url().load()",function(callback,resetPaging){return this.iterator("table",function(ctx){__reload(ctx,resetPaging===false,callback)})});var _selector_run=function(type,selector,selectFn,settings,opts){var out=[],res,a,i,ien,j,jen,selectorType=typeof selector;if(!selector||selectorType==="string"||selectorType==="function"||selector.length===undefined){selector=[selector]}for(i=0,ien=selector.length;i<ien;i++){a=selector[i]&&selector[i].split&&!selector[i].match(/[\[\(:]/)?selector[i].split(","):[selector[i]];for(j=0,jen=a.length;j<jen;j++){res=selectFn(typeof a[j]==="string"?a[j].trim():a[j]);if(res&&res.length){out=out.concat(res)}}}var ext=_ext.selector[type];if(ext.length){for(i=0,ien=ext.length;i<ien;i++){out=ext[i](settings,opts,out)}}return _unique(out)};var _selector_opts=function(opts){if(!opts){opts={}}if(opts.filter&&opts.search===undefined){opts.search=opts.filter}return $.extend({search:"none",order:"current",page:"all"},opts)};var _selector_first=function(inst){for(var i=0,ien=inst.length;i<ien;i++){if(inst[i].length>0){inst[0]=inst[i];inst[0].length=1;inst.length=1;inst.context=[inst.context[i]];return inst}}inst.length=0;return inst};var _selector_row_indexes=function(settings,opts){var i,ien,tmp,a=[],displayFiltered=settings.aiDisplay,displayMaster=settings.aiDisplayMaster;var search=opts.search,order=opts.order,page=opts.page;if(_fnDataSource(settings)=="ssp"){return search==="removed"?[]:_range(0,displayMaster.length)}else if(page=="current"){for(i=settings._iDisplayStart,ien=settings.fnDisplayEnd();i<ien;i++){a.push(displayFiltered[i])}}else if(order=="current"||order=="applied"){if(search=="none"){a=displayMaster.slice()}else if(search=="applied"){a=displayFiltered.slice()}else if(search=="removed"){var displayFilteredMap={};for(var i=0,ien=displayFiltered.length;i<ien;i++){displayFilteredMap[displayFiltered[i]]=null}a=$.map(displayMaster,function(el){return!displayFilteredMap.hasOwnProperty(el)?el:null})}}else if(order=="index"||order=="original"){for(i=0,ien=settings.aoData.length;i<ien;i++){if(search=="none"){a.push(i)}else{tmp=$.inArray(i,displayFiltered);if(tmp===-1&&search=="removed"||tmp>=0&&search=="applied"){a.push(i)}}}}return a};var __row_selector=function(settings,selector,opts){var rows;var run=function(sel){var selInt=_intVal(sel);var i,ien;var aoData=settings.aoData;if(selInt!==null&&!opts){return[selInt]}if(!rows){rows=_selector_row_indexes(settings,opts)}if(selInt!==null&&$.inArray(selInt,rows)!==-1){return[selInt]}else if(sel===null||sel===undefined||sel===""){return rows}if(typeof sel==="function"){return $.map(rows,function(idx){var row=aoData[idx];return sel(idx,row._aData,row.nTr)?idx:null})}if(sel.nodeName){var rowIdx=sel._DT_RowIndex;var cellIdx=sel._DT_CellIndex;if(rowIdx!==undefined){return aoData[rowIdx]&&aoData[rowIdx].nTr===sel?[rowIdx]:[]}else if(cellIdx){return aoData[cellIdx.row]&&aoData[cellIdx.row].nTr===sel.parentNode?[cellIdx.row]:[]}else{var host=$(sel).closest("*[data-dt-row]");return host.length?[host.data("dt-row")]:[]}}if(typeof sel==="string"&&sel.charAt(0)==="#"){var rowObj=settings.aIds[sel.replace(/^#/,"")];if(rowObj!==undefined){return[rowObj.idx]}}var nodes=_removeEmpty(_pluck_order(settings.aoData,rows,"nTr"));return $(nodes).filter(sel).map(function(){return this._DT_RowIndex}).toArray()};return _selector_run("row",selector,run,settings,opts)};_api_register("rows()",function(selector,opts){if(selector===undefined){selector=""}else if($.isPlainObject(selector)){opts=selector;selector=""}opts=_selector_opts(opts);var inst=this.iterator("table",function(settings){return __row_selector(settings,selector,opts)},1);inst.selector.rows=selector;inst.selector.opts=opts;return inst});_api_register("rows().nodes()",function(){return this.iterator("row",function(settings,row){return settings.aoData[row].nTr||undefined},1)});_api_register("rows().data()",function(){return this.iterator(true,"rows",function(settings,rows){return _pluck_order(settings.aoData,rows,"_aData")},1)});_api_registerPlural("rows().cache()","row().cache()",function(type){return this.iterator("row",function(settings,row){var r=settings.aoData[row];return type==="search"?r._aFilterData:r._aSortData},1)});_api_registerPlural("rows().invalidate()","row().invalidate()",function(src){return this.iterator("row",function(settings,row){_fnInvalidate(settings,row,src)})});_api_registerPlural("rows().indexes()","row().index()",function(){return this.iterator("row",function(settings,row){return row},1)});_api_registerPlural("rows().ids()","row().id()",function(hash){var a=[];var context=this.context;for(var i=0,ien=context.length;i<ien;i++){for(var j=0,jen=this[i].length;j<jen;j++){var id=context[i].rowIdFn(context[i].aoData[this[i][j]]._aData);a.push((hash===true?"#":"")+id)}}return new _Api(context,a)});_api_registerPlural("rows().remove()","row().remove()",function(){var that=this;this.iterator("row",function(settings,row,thatIdx){var data=settings.aoData;var rowData=data[row];var i,ien,j,jen;var loopRow,loopCells;data.splice(row,1);for(i=0,ien=data.length;i<ien;i++){loopRow=data[i];loopCells=loopRow.anCells;if(loopRow.nTr!==null){loopRow.nTr._DT_RowIndex=i}if(loopCells!==null){for(j=0,jen=loopCells.length;j<jen;j++){loopCells[j]._DT_CellIndex.row=i}}}_fnDeleteIndex(settings.aiDisplayMaster,row);_fnDeleteIndex(settings.aiDisplay,row);_fnDeleteIndex(that[thatIdx],row,false);if(settings._iRecordsDisplay>0){settings._iRecordsDisplay--}_fnLengthOverflow(settings);var id=settings.rowIdFn(rowData._aData);if(id!==undefined){delete settings.aIds[id]}});this.iterator("table",function(settings){for(var i=0,ien=settings.aoData.length;i<ien;i++){settings.aoData[i].idx=i}});return this});_api_register("rows.add()",function(rows){var newRows=this.iterator("table",function(settings){var row,i,ien;var out=[];for(i=0,ien=rows.length;i<ien;i++){row=rows[i];if(row.nodeName&&row.nodeName.toUpperCase()==="TR"){out.push(_fnAddTr(settings,row)[0])}else{out.push(_fnAddData(settings,row))}}return out},1);var modRows=this.rows(-1);modRows.pop();$.merge(modRows,newRows);return modRows});_api_register("row()",function(selector,opts){return _selector_first(this.rows(selector,opts))});_api_register("row().data()",function(data){var ctx=this.context;if(data===undefined){return ctx.length&&this.length?ctx[0].aoData[this[0]]._aData:undefined}var row=ctx[0].aoData[this[0]];row._aData=data;if(Array.isArray(data)&&row.nTr&&row.nTr.id){_fnSetObjectDataFn(ctx[0].rowId)(data,row.nTr.id)}_fnInvalidate(ctx[0],this[0],"data");return this});_api_register("row().node()",function(){var ctx=this.context;return ctx.length&&this.length?ctx[0].aoData[this[0]].nTr||null:null});_api_register("row.add()",function(row){if(row instanceof $&&row.length){row=row[0]}var rows=this.iterator("table",function(settings){if(row.nodeName&&row.nodeName.toUpperCase()==="TR"){return _fnAddTr(settings,row)[0]}return _fnAddData(settings,row)});return this.row(rows[0])});$(document).on("plugin-init.dt",function(e,context){var api=new _Api(context);var namespace="on-plugin-init";var stateSaveParamsEvent="stateSaveParams."+namespace;var destroyEvent="destroy. "+namespace;api.on(stateSaveParamsEvent,function(e,settings,d){var idFn=settings.rowIdFn;var data=settings.aoData;var ids=[];for(var i=0;i<data.length;i++){if(data[i]._detailsShow){ids.push("#"+idFn(data[i]._aData))}}d.childRows=ids});api.on(destroyEvent,function(){api.off(stateSaveParamsEvent+" "+destroyEvent)});var loaded=api.state.loaded();if(loaded&&loaded.childRows){api.rows($.map(loaded.childRows,function(id){return id.replace(/:/g,"\\:")})).every(function(){_fnCallbackFire(context,null,"requestChild",[this])})}});var __details_add=function(ctx,row,data,klass){var rows=[];var addRow=function(r,k){if(Array.isArray(r)||r instanceof $){for(var i=0,ien=r.length;i<ien;i++){addRow(r[i],k)}return}if(r.nodeName&&r.nodeName.toLowerCase()==="tr"){rows.push(r)}else{var created=$("<tr><td></td></tr>").addClass(k);$("td",created).addClass(k).html(r)[0].colSpan=_fnVisbleColumns(ctx);rows.push(created[0])}};addRow(data,klass);if(row._details){row._details.detach()}row._details=$(rows);if(row._detailsShow){row._details.insertAfter(row.nTr)}};var __details_state=DataTable.util.throttle(function(ctx){_fnSaveState(ctx[0])},500);var __details_remove=function(api,idx){var ctx=api.context;if(ctx.length){var row=ctx[0].aoData[idx!==undefined?idx:api[0]];if(row&&row._details){row._details.remove();row._detailsShow=undefined;row._details=undefined;$(row.nTr).removeClass("dt-hasChild");__details_state(ctx)}}};var __details_display=function(api,show){var ctx=api.context;if(ctx.length&&api.length){var row=ctx[0].aoData[api[0]];if(row._details){row._detailsShow=show;if(show){row._details.insertAfter(row.nTr);$(row.nTr).addClass("dt-hasChild")}else{row._details.detach();$(row.nTr).removeClass("dt-hasChild")}_fnCallbackFire(ctx[0],null,"childRow",[show,api.row(api[0])]);__details_events(ctx[0]);__details_state(ctx)}}};var __details_events=function(settings){var api=new _Api(settings);var namespace=".dt.DT_details";var drawEvent="draw"+namespace;var colvisEvent="column-sizing"+namespace;var destroyEvent="destroy"+namespace;var data=settings.aoData;api.off(drawEvent+" "+colvisEvent+" "+destroyEvent);if(_pluck(data,"_details").length>0){api.on(drawEvent,function(e,ctx){if(settings!==ctx){return}api.rows({page:"current"}).eq(0).each(function(idx){var row=data[idx];if(row._detailsShow){row._details.insertAfter(row.nTr)}})});api.on(colvisEvent,function(e,ctx,idx,vis){if(settings!==ctx){return}var row,visible=_fnVisbleColumns(ctx);for(var i=0,ien=data.length;i<ien;i++){row=data[i];if(row._details){row._details.children("td[colspan]").attr("colspan",visible)}}});api.on(destroyEvent,function(e,ctx){if(settings!==ctx){return}for(var i=0,ien=data.length;i<ien;i++){if(data[i]._details){__details_remove(api,i)}}})}};var _emp="";var _child_obj=_emp+"row().child";var _child_mth=_child_obj+"()";_api_register(_child_mth,function(data,klass){var ctx=this.context;if(data===undefined){return ctx.length&&this.length?ctx[0].aoData[this[0]]._details:undefined}else if(data===true){this.child.show()}else if(data===false){__details_remove(this)}else if(ctx.length&&this.length){__details_add(ctx[0],ctx[0].aoData[this[0]],data,klass)}return this});_api_register([_child_obj+".show()",_child_mth+".show()"],function(show){__details_display(this,true);return this});_api_register([_child_obj+".hide()",_child_mth+".hide()"],function(){__details_display(this,false);return this});_api_register([_child_obj+".remove()",_child_mth+".remove()"],function(){__details_remove(this);return this});_api_register(_child_obj+".isShown()",function(){var ctx=this.context;if(ctx.length&&this.length){return ctx[0].aoData[this[0]]._detailsShow||false}return false});var __re_column_selector=/^([^:]+):(name|visIdx|visible)$/;var __columnData=function(settings,column,r1,r2,rows){var a=[];for(var row=0,ien=rows.length;row<ien;row++){a.push(_fnGetCellData(settings,rows[row],column))}return a};var __column_selector=function(settings,selector,opts){var columns=settings.aoColumns,names=_pluck(columns,"sName"),nodes=_pluck(columns,"nTh");var run=function(s){var selInt=_intVal(s);if(s===""){return _range(columns.length)}if(selInt!==null){return[selInt>=0?selInt:columns.length+selInt]}if(typeof s==="function"){var rows=_selector_row_indexes(settings,opts);return $.map(columns,function(col,idx){return s(idx,__columnData(settings,idx,0,0,rows),nodes[idx])?idx:null})}var match=typeof s==="string"?s.match(__re_column_selector):"";if(match){switch(match[2]){case"visIdx":case"visible":var idx=parseInt(match[1],10);if(idx<0){var visColumns=$.map(columns,function(col,i){return col.bVisible?i:null});return[visColumns[visColumns.length+idx]]}return[_fnVisibleToColumnIndex(settings,idx)];case"name":return $.map(names,function(name,i){return name===match[1]?i:null});default:return[]}}if(s.nodeName&&s._DT_CellIndex){return[s._DT_CellIndex.column]}var jqResult=$(nodes).filter(s).map(function(){return $.inArray(this,nodes)}).toArray();if(jqResult.length||!s.nodeName){return jqResult}var host=$(s).closest("*[data-dt-column]");return host.length?[host.data("dt-column")]:[]};return _selector_run("column",selector,run,settings,opts)};var __setColumnVis=function(settings,column,vis){var cols=settings.aoColumns,col=cols[column],data=settings.aoData,row,cells,i,ien,tr;if(vis===undefined){return col.bVisible}if(col.bVisible===vis){return}if(vis){var insertBefore=$.inArray(true,_pluck(cols,"bVisible"),column+1);for(i=0,ien=data.length;i<ien;i++){tr=data[i].nTr;cells=data[i].anCells;if(tr){tr.insertBefore(cells[column],cells[insertBefore]||null)}}}else{$(_pluck(settings.aoData,"anCells",column)).detach()}col.bVisible=vis};_api_register("columns()",function(selector,opts){if(selector===undefined){selector=""}else if($.isPlainObject(selector)){opts=selector;selector=""}opts=_selector_opts(opts);var inst=this.iterator("table",function(settings){return __column_selector(settings,selector,opts)},1);inst.selector.cols=selector;inst.selector.opts=opts;return inst});_api_registerPlural("columns().header()","column().header()",function(selector,opts){return this.iterator("column",function(settings,column){return settings.aoColumns[column].nTh},1)});_api_registerPlural("columns().footer()","column().footer()",function(selector,opts){return this.iterator("column",function(settings,column){return settings.aoColumns[column].nTf},1)});_api_registerPlural("columns().data()","column().data()",function(){return this.iterator("column-rows",__columnData,1)});_api_registerPlural("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(settings,column){return settings.aoColumns[column].mData},1)});_api_registerPlural("columns().cache()","column().cache()",function(type){return this.iterator("column-rows",function(settings,column,i,j,rows){return _pluck_order(settings.aoData,rows,type==="search"?"_aFilterData":"_aSortData",column)},1)});_api_registerPlural("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(settings,column,i,j,rows){return _pluck_order(settings.aoData,rows,"anCells",column)},1)});_api_registerPlural("columns().visible()","column().visible()",function(vis,calc){var that=this;var ret=this.iterator("column",function(settings,column){if(vis===undefined){return settings.aoColumns[column].bVisible}__setColumnVis(settings,column,vis)});if(vis!==undefined){this.iterator("table",function(settings){_fnDrawHead(settings,settings.aoHeader);_fnDrawHead(settings,settings.aoFooter);if(!settings.aiDisplay.length){$(settings.nTBody).find("td[colspan]").attr("colspan",_fnVisbleColumns(settings))}_fnSaveState(settings);that.iterator("column",function(settings,column){_fnCallbackFire(settings,null,"column-visibility",[settings,column,vis,calc])});if(calc===undefined||calc){that.columns.adjust()}})}return ret});_api_registerPlural("columns().indexes()","column().index()",function(type){return this.iterator("column",function(settings,column){return type==="visible"?_fnColumnIndexToVisible(settings,column):column},1)});_api_register("columns.adjust()",function(){return this.iterator("table",function(settings){_fnAdjustColumnSizing(settings)},1)});_api_register("column.index()",function(type,idx){if(this.context.length!==0){var ctx=this.context[0];if(type==="fromVisible"||type==="toData"){return _fnVisibleToColumnIndex(ctx,idx)}else if(type==="fromData"||type==="toVisible"){return _fnColumnIndexToVisible(ctx,idx)}}});_api_register("column()",function(selector,opts){return _selector_first(this.columns(selector,opts))});var __cell_selector=function(settings,selector,opts){var data=settings.aoData;var rows=_selector_row_indexes(settings,opts);var cells=_removeEmpty(_pluck_order(data,rows,"anCells"));var allCells=$(_flatten([],cells));var row;var columns=settings.aoColumns.length;var a,i,ien,j,o,host;var run=function(s){var fnSelector=typeof s==="function";if(s===null||s===undefined||fnSelector){a=[];for(i=0,ien=rows.length;i<ien;i++){row=rows[i];for(j=0;j<columns;j++){o={row:row,column:j};if(fnSelector){host=data[row];if(s(o,_fnGetCellData(settings,row,j),host.anCells?host.anCells[j]:null)){a.push(o)}}else{a.push(o)}}}return a}if($.isPlainObject(s)){return s.column!==undefined&&s.row!==undefined&&$.inArray(s.row,rows)!==-1?[s]:[]}var jqResult=allCells.filter(s).map(function(i,el){return{row:el._DT_CellIndex.row,column:el._DT_CellIndex.column}}).toArray();if(jqResult.length||!s.nodeName){return jqResult}host=$(s).closest("*[data-dt-row]");return host.length?[{row:host.data("dt-row"),column:host.data("dt-column")}]:[]};return _selector_run("cell",selector,run,settings,opts)};_api_register("cells()",function(rowSelector,columnSelector,opts){if($.isPlainObject(rowSelector)){if(rowSelector.row===undefined){opts=rowSelector;rowSelector=null}else{opts=columnSelector;columnSelector=null}}if($.isPlainObject(columnSelector)){opts=columnSelector;columnSelector=null}if(columnSelector===null||columnSelector===undefined){return this.iterator("table",function(settings){return __cell_selector(settings,rowSelector,_selector_opts(opts))})}var internalOpts=opts?{page:opts.page,order:opts.order,search:opts.search}:{};var columns=this.columns(columnSelector,internalOpts);var rows=this.rows(rowSelector,internalOpts);var i,ien,j,jen;var cellsNoOpts=this.iterator("table",function(settings,idx){var a=[];for(i=0,ien=rows[idx].length;i<ien;i++){for(j=0,jen=columns[idx].length;j<jen;j++){a.push({row:rows[idx][i],column:columns[idx][j]})}}return a},1);var cells=opts&&opts.selected?this.cells(cellsNoOpts,opts):cellsNoOpts;$.extend(cells.selector,{cols:columnSelector,rows:rowSelector,opts:opts});return cells});_api_registerPlural("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(settings,row,column){var data=settings.aoData[row];return data&&data.anCells?data.anCells[column]:undefined},1)});_api_register("cells().data()",function(){return this.iterator("cell",function(settings,row,column){return _fnGetCellData(settings,row,column)},1)});_api_registerPlural("cells().cache()","cell().cache()",function(type){type=type==="search"?"_aFilterData":"_aSortData";return this.iterator("cell",function(settings,row,column){return settings.aoData[row][type][column]},1)});_api_registerPlural("cells().render()","cell().render()",function(type){return this.iterator("cell",function(settings,row,column){return _fnGetCellData(settings,row,column,type)},1)});_api_registerPlural("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(settings,row,column){return{row:row,column:column,columnVisible:_fnColumnIndexToVisible(settings,column)}},1)});_api_registerPlural("cells().invalidate()","cell().invalidate()",function(src){return this.iterator("cell",function(settings,row,column){_fnInvalidate(settings,row,src,column)})});_api_register("cell()",function(rowSelector,columnSelector,opts){return _selector_first(this.cells(rowSelector,columnSelector,opts))});_api_register("cell().data()",function(data){var ctx=this.context;var cell=this[0];if(data===undefined){return ctx.length&&cell.length?_fnGetCellData(ctx[0],cell[0].row,cell[0].column):undefined}_fnSetCellData(ctx[0],cell[0].row,cell[0].column,data);_fnInvalidate(ctx[0],cell[0].row,"data",cell[0].column);return this});_api_register("order()",function(order,dir){var ctx=this.context;if(order===undefined){return ctx.length!==0?ctx[0].aaSorting:undefined}if(typeof order==="number"){order=[[order,dir]]}else if(order.length&&!Array.isArray(order[0])){order=Array.prototype.slice.call(arguments)}return this.iterator("table",function(settings){settings.aaSorting=order.slice()})});_api_register("order.listener()",function(node,column,callback){return this.iterator("table",function(settings){_fnSortAttachListener(settings,node,column,callback)})});_api_register("order.fixed()",function(set){if(!set){var ctx=this.context;var fixed=ctx.length?ctx[0].aaSortingFixed:undefined;return Array.isArray(fixed)?{pre:fixed}:fixed}return this.iterator("table",function(settings){settings.aaSortingFixed=$.extend(true,{},set)})});_api_register(["columns().order()","column().order()"],function(dir){var that=this;return this.iterator("table",function(settings,i){var sort=[];$.each(that[i],function(j,col){sort.push([col,dir])});settings.aaSorting=sort})});_api_register("search()",function(input,regex,smart,caseInsen){var ctx=this.context;if(input===undefined){return ctx.length!==0?ctx[0].oPreviousSearch.sSearch:undefined}return this.iterator("table",function(settings){if(!settings.oFeatures.bFilter){return}_fnFilterComplete(settings,$.extend({},settings.oPreviousSearch,{sSearch:input+"",bRegex:regex===null?false:regex,bSmart:smart===null?true:smart,bCaseInsensitive:caseInsen===null?true:caseInsen}),1)})});_api_registerPlural("columns().search()","column().search()",function(input,regex,smart,caseInsen){return this.iterator("column",function(settings,column){var preSearch=settings.aoPreSearchCols;if(input===undefined){return preSearch[column].sSearch}if(!settings.oFeatures.bFilter){return}$.extend(preSearch[column],{sSearch:input+"",bRegex:regex===null?false:regex,bSmart:smart===null?true:smart,bCaseInsensitive:caseInsen===null?true:caseInsen});_fnFilterComplete(settings,settings.oPreviousSearch,1)})});_api_register("state()",function(){return this.context.length?this.context[0].oSavedState:null});_api_register("state.clear()",function(){return this.iterator("table",function(settings){settings.fnStateSaveCallback.call(settings.oInstance,settings,{})})});_api_register("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});_api_register("state.save()",function(){return this.iterator("table",function(settings){_fnSaveState(settings)})});DataTable.use=function(module,type){if(type==="lib"||module.fn){$=module}else if(type=="win"||module.document){window=module;document=module.document}};DataTable.factory=function(root,jq){var is=false;if(root&&root.document){window=root;document=root.document}if(jq&&jq.fn&&jq.fn.jquery){$=jq;is=true}return is};DataTable.versionCheck=DataTable.fnVersionCheck=function(version){var aThis=DataTable.version.split(".");var aThat=version.split(".");var iThis,iThat;for(var i=0,iLen=aThat.length;i<iLen;i++){iThis=parseInt(aThis[i],10)||0;iThat=parseInt(aThat[i],10)||0;if(iThis===iThat){continue}return iThis>iThat}return true};DataTable.isDataTable=DataTable.fnIsDataTable=function(table){var t=$(table).get(0);var is=false;if(table instanceof DataTable.Api){return true}$.each(DataTable.settings,function(i,o){var head=o.nScrollHead?$("table",o.nScrollHead)[0]:null;var foot=o.nScrollFoot?$("table",o.nScrollFoot)[0]:null;if(o.nTable===t||head===t||foot===t){is=true}});return is};DataTable.tables=DataTable.fnTables=function(visible){var api=false;if($.isPlainObject(visible)){api=visible.api;visible=visible.visible}var a=$.map(DataTable.settings,function(o){if(!visible||visible&&$(o.nTable).is(":visible")){return o.nTable}});return api?new _Api(a):a};DataTable.camelToHungarian=_fnCamelToHungarian;_api_register("$()",function(selector,opts){var rows=this.rows(opts).nodes(),jqRows=$(rows);return $([].concat(jqRows.filter(selector).toArray(),jqRows.find(selector).toArray()))});$.each(["on","one","off"],function(i,key){_api_register(key+"()",function(){var args=Array.prototype.slice.call(arguments);args[0]=$.map(args[0].split(/\s/),function(e){return!e.match(/\.dt\b/)?e+".dt":e}).join(" ");var inst=$(this.tables().nodes());inst[key].apply(inst,args);return this})});_api_register("clear()",function(){return this.iterator("table",function(settings){_fnClearTable(settings)})});_api_register("settings()",function(){return new _Api(this.context,this.context)});_api_register("init()",function(){var ctx=this.context;return ctx.length?ctx[0].oInit:null});_api_register("data()",function(){return this.iterator("table",function(settings){return _pluck(settings.aoData,"_aData")}).flatten()});_api_register("destroy()",function(remove){remove=remove||false;return this.iterator("table",function(settings){var classes=settings.oClasses;var table=settings.nTable;var tbody=settings.nTBody;var thead=settings.nTHead;var tfoot=settings.nTFoot;var jqTable=$(table);var jqTbody=$(tbody);var jqWrapper=$(settings.nTableWrapper);var rows=$.map(settings.aoData,function(r){return r.nTr});var i,ien;settings.bDestroying=true;_fnCallbackFire(settings,"aoDestroyCallback","destroy",[settings]);if(!remove){new _Api(settings).columns().visible(true)}jqWrapper.off(".DT").find(":not(tbody *)").off(".DT");$(window).off(".DT-"+settings.sInstance);if(table!=thead.parentNode){jqTable.children("thead").detach();jqTable.append(thead)}if(tfoot&&table!=tfoot.parentNode){jqTable.children("tfoot").detach();jqTable.append(tfoot)}settings.aaSorting=[];settings.aaSortingFixed=[];_fnSortingClasses(settings);$(rows).removeClass(settings.asStripeClasses.join(" "));$("th, td",thead).removeClass(classes.sSortable+" "+classes.sSortableAsc+" "+classes.sSortableDesc+" "+classes.sSortableNone);jqTbody.children().detach();jqTbody.append(rows);var orig=settings.nTableWrapper.parentNode;var removedMethod=remove?"remove":"detach";jqTable[removedMethod]();jqWrapper[removedMethod]();if(!remove&&orig){orig.insertBefore(table,settings.nTableReinsertBefore);jqTable.css("width",settings.sDestroyWidth).removeClass(classes.sTable);ien=settings.asDestroyStripes.length;if(ien){jqTbody.children().each(function(i){$(this).addClass(settings.asDestroyStripes[i%ien])})}}var idx=$.inArray(settings,DataTable.settings);if(idx!==-1){DataTable.settings.splice(idx,1)}})});$.each(["column","row","cell"],function(i,type){_api_register(type+"s().every()",function(fn){var opts=this.selector.opts;var api=this;return this.iterator(type,function(settings,arg1,arg2,arg3,arg4){fn.call(api[type](arg1,type==="cell"?arg2:opts,type==="cell"?opts:undefined),arg1,arg2,arg3,arg4)})})});_api_register("i18n()",function(token,def,plural){var ctx=this.context[0];var resolved=_fnGetObjectDataFn(token)(ctx.oLanguage);if(resolved===undefined){resolved=def}if(plural!==undefined&&$.isPlainObject(resolved)){resolved=resolved[plural]!==undefined?resolved[plural]:resolved._}return resolved.replace("%d",plural)});DataTable.version="1.13.4";DataTable.settings=[];DataTable.models={};DataTable.models.oSearch={bCaseInsensitive:true,sSearch:"",bRegex:false,bSmart:true,return:false};DataTable.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};DataTable.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:false,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:true,bDeferRender:false,bDestroy:false,bFilter:true,bInfo:true,bLengthChange:true,bPaginate:true,bProcessing:false,bRetrieve:false,bScrollCollapse:false,bServerSide:false,bSort:true,bSortMulti:true,bSortCellsTop:false,bSortClasses:true,bStateSave:false,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(toFormat){return toFormat.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(settings){try{return JSON.parse((settings.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+settings.sInstance+"_"+location.pathname))}catch(e){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(settings,data){try{(settings.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+settings.sInstance+"_"+location.pathname,JSON.stringify(data))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$.extend({},DataTable.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};_fnHungarianMap(DataTable.defaults);DataTable.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:true,bSortable:true,bVisible:true,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};_fnHungarianMap(DataTable.defaults.column);DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:false,bScrollbarLeft:false,bBounding:false,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:false,bInitialised:false,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:undefined,oAjaxData:undefined,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:false,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:false,bSorted:false,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return _fnDataSource(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return _fnDataSource(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var len=this._iDisplayLength,start=this._iDisplayStart,calc=start+len,records=this.aiDisplay.length,features=this.oFeatures,paginate=features.bPaginate;if(features.bServerSide){return paginate===false||len===-1?start+records:Math.min(start+len,this._iRecordsDisplay)}else{return!paginate||calc>records||len===-1?records:calc}},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};DataTable.ext=_ext={buttons:{},classes:{},build:"dt/dt-1.13.4/b-2.3.6/sb-1.4.2",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:DataTable.version};$.extend(_ext,{afnFiltering:_ext.search,aTypes:_ext.type.detect,ofnSearch:_ext.type.search,oSort:_ext.type.order,afnSortData:_ext.order,aoFeatures:_ext.feature,oApi:_ext.internal,oStdClasses:_ext.classes,oPagination:_ext.pager});$.extend(DataTable.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var extPagination=DataTable.ext.pager;function _numbers(page,pages){var numbers=[],buttons=extPagination.numbers_length,half=Math.floor(buttons/2),i=1;if(pages<=buttons){numbers=_range(0,pages)}else if(page<=half){numbers=_range(0,buttons-2);numbers.push("ellipsis");numbers.push(pages-1)}else if(page>=pages-1-half){numbers=_range(pages-(buttons-2),pages);numbers.splice(0,0,"ellipsis");numbers.splice(0,0,0)}else{numbers=_range(page-half+2,page+half-1);numbers.push("ellipsis");numbers.push(pages-1);numbers.splice(0,0,"ellipsis");numbers.splice(0,0,0)}numbers.DT_el="span";return numbers}$.extend(extPagination,{simple:function(page,pages){return["previous","next"]},full:function(page,pages){return["first","previous","next","last"]},numbers:function(page,pages){return[_numbers(page,pages)]},simple_numbers:function(page,pages){return["previous",_numbers(page,pages),"next"]},full_numbers:function(page,pages){return["first","previous",_numbers(page,pages),"next","last"]},first_last_numbers:function(page,pages){return["first",_numbers(page,pages),"last"]},_numbers:_numbers,numbers_length:7});$.extend(true,DataTable.ext.renderer,{pageButton:{_:function(settings,host,idx,buttons,page,pages){var classes=settings.oClasses;var lang=settings.oLanguage.oPaginate;var aria=settings.oLanguage.oAria.paginate||{};var btnDisplay,btnClass;var attach=function(container,buttons){var i,ien,node,button,tabIndex;var disabledClass=classes.sPageButtonDisabled;var clickHandler=function(e){_fnPageChange(settings,e.data.action,true)};for(i=0,ien=buttons.length;i<ien;i++){button=buttons[i];if(Array.isArray(button)){var inner=$("<"+(button.DT_el||"div")+"/>").appendTo(container);attach(inner,button)}else{btnDisplay=null;btnClass=button;tabIndex=settings.iTabIndex;switch(button){case"ellipsis":container.append('<span class="ellipsis">&#x2026;</span>');break;case"first":btnDisplay=lang.sFirst;if(page===0){tabIndex=-1;btnClass+=" "+disabledClass}break;case"previous":btnDisplay=lang.sPrevious;if(page===0){tabIndex=-1;btnClass+=" "+disabledClass}break;case"next":btnDisplay=lang.sNext;if(pages===0||page===pages-1){tabIndex=-1;btnClass+=" "+disabledClass}break;case"last":btnDisplay=lang.sLast;if(pages===0||page===pages-1){tabIndex=-1;btnClass+=" "+disabledClass}break;default:btnDisplay=settings.fnFormatNumber(button+1);btnClass=page===button?classes.sPageButtonActive:"";break}if(btnDisplay!==null){var tag=settings.oInit.pagingTag||"a";var disabled=btnClass.indexOf(disabledClass)!==-1;node=$("<"+tag+">",{class:classes.sPageButton+" "+btnClass,"aria-controls":settings.sTableId,"aria-disabled":disabled?"true":null,"aria-label":aria[button],"aria-role":"link","aria-current":btnClass===classes.sPageButtonActive?"page":null,"data-dt-idx":button,tabindex:tabIndex,id:idx===0&&typeof button==="string"?settings.sTableId+"_"+button:null}).html(btnDisplay).appendTo(container);_fnBindAction(node,{action:button},clickHandler)}}}};var activeEl;try{activeEl=$(host).find(document.activeElement).data("dt-idx")}catch(e){}attach($(host).empty(),buttons);if(activeEl!==undefined){$(host).find("[data-dt-idx="+activeEl+"]").trigger("focus")}}}});$.extend(DataTable.ext.type.detect,[function(d,settings){var decimal=settings.oLanguage.sDecimal;return _isNumber(d,decimal)?"num"+decimal:null},function(d,settings){if(d&&!(d instanceof Date)&&!_re_date.test(d)){return null}var parsed=Date.parse(d);return parsed!==null&&!isNaN(parsed)||_empty(d)?"date":null},function(d,settings){var decimal=settings.oLanguage.sDecimal;return _isNumber(d,decimal,true)?"num-fmt"+decimal:null},function(d,settings){var decimal=settings.oLanguage.sDecimal;return _htmlNumeric(d,decimal)?"html-num"+decimal:null},function(d,settings){var decimal=settings.oLanguage.sDecimal;return _htmlNumeric(d,decimal,true)?"html-num-fmt"+decimal:null},function(d,settings){return _empty(d)||typeof d==="string"&&d.indexOf("<")!==-1?"html":null}]);$.extend(DataTable.ext.type.search,{html:function(data){return _empty(data)?data:typeof data==="string"?data.replace(_re_new_lines," ").replace(_re_html,""):""},string:function(data){return _empty(data)?data:typeof data==="string"?data.replace(_re_new_lines," "):data}});var __numericReplace=function(d,decimalPlace,re1,re2){if(d!==0&&(!d||d==="-")){return-Infinity}let type=typeof d;if(type==="number"||type==="bigint"){return d}if(decimalPlace){d=_numToDecimal(d,decimalPlace)}if(d.replace){if(re1){d=d.replace(re1,"")}if(re2){d=d.replace(re2,"")}}return d*1};function _addNumericSort(decimalPlace){$.each({num:function(d){return __numericReplace(d,decimalPlace)},"num-fmt":function(d){return __numericReplace(d,decimalPlace,_re_formatted_numeric)},"html-num":function(d){return __numericReplace(d,decimalPlace,_re_html)},"html-num-fmt":function(d){return __numericReplace(d,decimalPlace,_re_html,_re_formatted_numeric)}},function(key,fn){_ext.type.order[key+decimalPlace+"-pre"]=fn;if(key.match(/^html\-/)){_ext.type.search[key+decimalPlace]=_ext.type.search.html}})}$.extend(_ext.type.order,{"date-pre":function(d){var ts=Date.parse(d);return isNaN(ts)?-Infinity:ts},"html-pre":function(a){return _empty(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return _empty(a)?"":typeof a==="string"?a.toLowerCase():!a.toString?"":a.toString()},"string-asc":function(x,y){return x<y?-1:x>y?1:0},"string-desc":function(x,y){return x<y?1:x>y?-1:0}});_addNumericSort("");$.extend(true,DataTable.ext.renderer,{header:{_:function(settings,cell,column,classes){$(settings.nTable).on("order.dt.DT",function(e,ctx,sorting,columns){if(settings!==ctx){return}var colIdx=column.idx;cell.removeClass(classes.sSortAsc+" "+classes.sSortDesc).addClass(columns[colIdx]=="asc"?classes.sSortAsc:columns[colIdx]=="desc"?classes.sSortDesc:column.sSortingClass)})},jqueryui:function(settings,cell,column,classes){$("<div/>").addClass(classes.sSortJUIWrapper).append(cell.contents()).append($("<span/>").addClass(classes.sSortIcon+" "+column.sSortingClassJUI)).appendTo(cell);$(settings.nTable).on("order.dt.DT",function(e,ctx,sorting,columns){if(settings!==ctx){return}var colIdx=column.idx;cell.removeClass(classes.sSortAsc+" "+classes.sSortDesc).addClass(columns[colIdx]=="asc"?classes.sSortAsc:columns[colIdx]=="desc"?classes.sSortDesc:column.sSortingClass);cell.find("span."+classes.sSortIcon).removeClass(classes.sSortJUIAsc+" "+classes.sSortJUIDesc+" "+classes.sSortJUI+" "+classes.sSortJUIAscAllowed+" "+classes.sSortJUIDescAllowed).addClass(columns[colIdx]=="asc"?classes.sSortJUIAsc:columns[colIdx]=="desc"?classes.sSortJUIDesc:column.sSortingClassJUI)})}}});var __htmlEscapeEntities=function(d){if(Array.isArray(d)){d=d.join(",")}return typeof d==="string"?d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):d};function __mld(dt,momentFn,luxonFn,dateFn,arg1){if(window.moment){return dt[momentFn](arg1)}else if(window.luxon){return dt[luxonFn](arg1)}return dateFn?dt[dateFn](arg1):dt}var __mlWarning=false;function __mldObj(d,format,locale){var dt;if(window.moment){dt=window.moment.utc(d,format,locale,true);if(!dt.isValid()){return null}}else if(window.luxon){dt=format&&typeof d==="string"?window.luxon.DateTime.fromFormat(d,format):window.luxon.DateTime.fromISO(d);if(!dt.isValid){return null}dt.setLocale(locale)}else if(!format){dt=new Date(d)}else{if(!__mlWarning){alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17")}__mlWarning=true}return dt}function __mlHelper(localeString){return function(from,to,locale,def){if(arguments.length===0){locale="en";to=null;from=null}else if(arguments.length===1){locale="en";to=from;from=null}else if(arguments.length===2){locale=to;to=from;from=null}var typeName="datetime-"+to;if(!DataTable.ext.type.order[typeName]){DataTable.ext.type.detect.unshift(function(d){return d===typeName?typeName:false});DataTable.ext.type.order[typeName+"-asc"]=function(a,b){var x=a.valueOf();var y=b.valueOf();return x===y?0:x<y?-1:1};DataTable.ext.type.order[typeName+"-desc"]=function(a,b){var x=a.valueOf();var y=b.valueOf();return x===y?0:x>y?-1:1}}return function(d,type){if(d===null||d===undefined){if(def==="--now"){var local=new Date;d=new Date(Date.UTC(local.getFullYear(),local.getMonth(),local.getDate(),local.getHours(),local.getMinutes(),local.getSeconds()))}else{d=""}}if(type==="type"){return typeName}if(d===""){return type!=="sort"?"":__mldObj("0000-01-01 00:00:00",null,locale)}if(to!==null&&from===to&&type!=="sort"&&type!=="type"&&!(d instanceof Date)){return d}var dt=__mldObj(d,from,locale);if(dt===null){return d}if(type==="sort"){return dt}var formatted=to===null?__mld(dt,"toDate","toJSDate","")[localeString]():__mld(dt,"format","toFormat","toISOString",to);return type==="display"?__htmlEscapeEntities(formatted):formatted}}}var __thousands=",";var __decimal=".";if(Intl){try{var num=(new Intl.NumberFormat).formatToParts(100000.1);for(var i=0;i<num.length;i++){if(num[i].type==="group"){__thousands=num[i].value}else if(num[i].type==="decimal"){__decimal=num[i].value}}}catch(e){}}DataTable.datetime=function(format,locale){var typeName="datetime-detect-"+format;if(!locale){locale="en"}if(!DataTable.ext.type.order[typeName]){DataTable.ext.type.detect.unshift(function(d){var dt=__mldObj(d,format,locale);return d===""||dt?typeName:false});DataTable.ext.type.order[typeName+"-pre"]=function(d){return __mldObj(d,format,locale)||0}}};DataTable.render={date:__mlHelper("toLocaleDateString"),datetime:__mlHelper("toLocaleString"),time:__mlHelper("toLocaleTimeString"),number:function(thousands,decimal,precision,prefix,postfix){if(thousands===null||thousands===undefined){thousands=__thousands}if(decimal===null||decimal===undefined){decimal=__decimal}return{display:function(d){if(typeof d!=="number"&&typeof d!=="string"){return d}if(d===""||d===null){return d}var negative=d<0?"-":"";var flo=parseFloat(d);if(isNaN(flo)){return __htmlEscapeEntities(d)}flo=flo.toFixed(precision);d=Math.abs(flo);var intPart=parseInt(d,10);var floatPart=precision?decimal+(d-intPart).toFixed(precision).substring(2):"";if(intPart===0&&parseFloat(floatPart)===0){negative=""}return negative+(prefix||"")+intPart.toString().replace(/\B(?=(\d{3})+(?!\d))/g,thousands)+floatPart+(postfix||"")}}},text:function(){return{display:__htmlEscapeEntities,filter:__htmlEscapeEntities}}};function _fnExternApiFunc(fn){return function(){var args=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.internal[fn].apply(this,args)}}$.extend(DataTable.ext.internal,{_fnExternApiFunc:_fnExternApiFunc,_fnBuildAjax:_fnBuildAjax,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnAjaxDataSrc:_fnAjaxDataSrc,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnVisbleColumns:_fnVisbleColumns,_fnGetColumns:_fnGetColumns,_fnColumnTypes:_fnColumnTypes,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnHungarianMap:_fnHungarianMap,_fnCamelToHungarian:_fnCamelToHungarian,_fnLanguageCompat:_fnLanguageCompat,_fnBrowserDetect:_fnBrowserDetect,_fnAddData:_fnAddData,_fnAddTr:_fnAddTr,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnNodeToColumnIndex:_fnNodeToColumnIndex,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnSplitObjNotation:_fnSplitObjNotation,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnGetDataMaster:_fnGetDataMaster,_fnClearTable:_fnClearTable,_fnDeleteIndex:_fnDeleteIndex,_fnInvalidate:_fnInvalidate,_fnGetRowElements:_fnGetRowElements,_fnCreateTr:_fnCreateTr,_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnEscapeRegex:_fnEscapeRegex,_fnFilterData:_fnFilterData,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,_fnInfoMacros:_fnInfoMacros,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLengthChange:_fnLengthChange,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnApplyToChildren:_fnApplyToChildren,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnThrottle:_fnThrottle,_fnConvertToWidth:_fnConvertToWidth,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnSortFlatten:_fnSortFlatten,_fnSort:_fnSort,_fnSortAria:_fnSortAria,_fnSortListener:_fnSortListener,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnSortData:_fnSortData,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnImplementState:_fnImplementState,_fnSettingsFromNode:_fnSettingsFromNode,_fnLog:_fnLog,_fnMap:_fnMap,_fnBindAction:_fnBindAction,_fnCallbackReg:_fnCallbackReg,_fnCallbackFire:_fnCallbackFire,_fnLengthOverflow:_fnLengthOverflow,_fnRenderer:_fnRenderer,_fnDataSource:_fnDataSource,_fnRowAttributes:_fnRowAttributes,_fnExtend:_fnExtend,_fnCalculateEnd:function(){}});$.fn.dataTable=DataTable;DataTable.$=$;$.fn.dataTableSettings=DataTable.settings;$.fn.dataTableExt=DataTable.ext;$.fn.DataTable=function(opts){return $(this).dataTable(opts).api()};$.each(DataTable,function(prop,val){$.fn.DataTable[prop]=val});return DataTable});(function(factory){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function($){return factory($,window,document)})}else if(typeof exports==="object"){var jq=require("jquery");var cjsRequires=function(root,$){if(!$.fn.dataTable){require("datatables.net")(root,$)}};if(typeof window!=="undefined"){module.exports=function(root,$){if(!root){root=window}if(!$){$=jq(root)}cjsRequires(root,$);return factory($,root,root.document)}}else{cjsRequires(window,jq);module.exports=factory(jq,window,window.document)}}else{factory(jQuery,window,document)}})(function($,window,document,undefined){"use strict";var DataTable=$.fn.dataTable;return DataTable});(function(factory){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function($){return factory($,window,document)})}else if(typeof exports==="object"){var jq=require("jquery");var cjsRequires=function(root,$){if(!$.fn.dataTable){require("datatables.net")(root,$)}};if(typeof window!=="undefined"){module.exports=function(root,$){if(!root){root=window}if(!$){$=jq(root)}cjsRequires(root,$);return factory($,root,root.document)}}else{cjsRequires(window,jq);module.exports=factory(jq,window,window.document)}}else{factory(jQuery,window,document)}})(function($,window,document,undefined){"use strict";var DataTable=$.fn.dataTable;var _instCounter=0;var _buttonCounter=0;var _dtButtons=DataTable.ext.buttons;function _fadeIn(el,duration,fn){if($.fn.animate){el.stop().fadeIn(duration,fn)}else{el.css("display","block");if(fn){fn.call(el)}}}function _fadeOut(el,duration,fn){if($.fn.animate){el.stop().fadeOut(duration,fn)}else{el.css("display","none");if(fn){fn.call(el)}}}var Buttons=function(dt,config){if(!(this instanceof Buttons)){return function(settings){return new Buttons(settings,dt).container()}}if(typeof config==="undefined"){config={}}if(config===true){config={}}if(Array.isArray(config)){config={buttons:config}}this.c=$.extend(true,{},Buttons.defaults,config);if(config.buttons){this.c.buttons=config.buttons}this.s={dt:new DataTable.Api(dt),buttons:[],listenKeys:"",namespace:"dtb"+_instCounter++};this.dom={container:$("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)};this._constructor()};$.extend(Buttons.prototype,{action:function(node,action){var button=this._nodeToButton(node);if(action===undefined){return button.conf.action}button.conf.action=action;return this},active:function(node,flag){var button=this._nodeToButton(node);var klass=this.c.dom.button.active;var jqNode=$(button.node);if(flag===undefined){return jqNode.hasClass(klass)}jqNode.toggleClass(klass,flag===undefined?true:flag);return this},add:function(config,idx,draw){var buttons=this.s.buttons;if(typeof idx==="string"){var split=idx.split("-");var base=this.s;for(var i=0,ien=split.length-1;i<ien;i++){base=base.buttons[split[i]*1]}buttons=base.buttons;idx=split[split.length-1]*1}this._expandButton(buttons,config,config!==undefined?config.split:undefined,(config===undefined||config.split===undefined||config.split.length===0)&&base!==undefined,false,idx);if(draw===undefined||draw===true){this._draw()}return this},collectionRebuild:function(node,newButtons){var button=this._nodeToButton(node);if(newButtons!==undefined){var i;for(i=button.buttons.length-1;i>=0;i--){this.remove(button.buttons[i].node)}if(button.conf.prefixButtons){newButtons.unshift.apply(newButtons,button.conf.prefixButtons)}if(button.conf.postfixButtons){newButtons.push.apply(newButtons,button.conf.postfixButtons)}for(i=0;i<newButtons.length;i++){var newBtn=newButtons[i];this._expandButton(button.buttons,newBtn,newBtn!==undefined&&newBtn.config!==undefined&&newBtn.config.split!==undefined,true,newBtn.parentConf!==undefined&&newBtn.parentConf.split!==undefined,null,newBtn.parentConf)}}this._draw(button.collection,button.buttons)},container:function(){return this.dom.container},disable:function(node){var button=this._nodeToButton(node);$(button.node).addClass(this.c.dom.button.disabled).prop("disabled",true);return this},destroy:function(){$("body").off("keyup."+this.s.namespace);var buttons=this.s.buttons.slice();var i,ien;for(i=0,ien=buttons.length;i<ien;i++){this.remove(buttons[i].node)}this.dom.container.remove();var buttonInsts=this.s.dt.settings()[0];for(i=0,ien=buttonInsts.length;i<ien;i++){if(buttonInsts.inst===this){buttonInsts.splice(i,1);break}}return this},enable:function(node,flag){if(flag===false){return this.disable(node)}var button=this._nodeToButton(node);$(button.node).removeClass(this.c.dom.button.disabled).prop("disabled",false);return this},index:function(node,nested,buttons){if(!nested){nested="";buttons=this.s.buttons}for(var i=0,ien=buttons.length;i<ien;i++){var inner=buttons[i].buttons;if(buttons[i].node===node){return nested+i}if(inner&&inner.length){var match=this.index(node,i+"-",inner);if(match!==null){return match}}}return null},name:function(){return this.c.name},node:function(node){if(!node){return this.dom.container}var button=this._nodeToButton(node);return $(button.node)},processing:function(node,flag){var dt=this.s.dt;var button=this._nodeToButton(node);if(flag===undefined){return $(button.node).hasClass("processing")}$(button.node).toggleClass("processing",flag);$(dt.table().node()).triggerHandler("buttons-processing.dt",[flag,dt.button(node),dt,$(node),button.conf]);return this},remove:function(node){var button=this._nodeToButton(node);var host=this._nodeToHost(node);var dt=this.s.dt;if(button.buttons.length){for(var i=button.buttons.length-1;i>=0;i--){this.remove(button.buttons[i].node)}}button.conf.destroying=true;if(button.conf.destroy){button.conf.destroy.call(dt.button(node),dt,$(node),button.conf)}this._removeKey(button.conf);$(button.node).remove();var idx=$.inArray(button,host);host.splice(idx,1);return this},text:function(node,label){var button=this._nodeToButton(node);var buttonLiner=this.c.dom.collection.buttonLiner;var linerTag=button.inCollection&&buttonLiner&&buttonLiner.tag?buttonLiner.tag:this.c.dom.buttonLiner.tag;var dt=this.s.dt;var jqNode=$(button.node);var text=function(opt){return typeof opt==="function"?opt(dt,jqNode,button.conf):opt};if(label===undefined){return text(button.conf.text)}button.conf.text=label;if(linerTag){jqNode.children(linerTag).eq(0).filter(":not(.dt-down-arrow)").html(text(label))}else{jqNode.html(text(label))}return this},_constructor:function(){var that=this;var dt=this.s.dt;var dtSettings=dt.settings()[0];var buttons=this.c.buttons;if(!dtSettings._buttons){dtSettings._buttons=[]}dtSettings._buttons.push({inst:this,name:this.c.name});for(var i=0,ien=buttons.length;i<ien;i++){this.add(buttons[i])}dt.on("destroy",function(e,settings){if(settings===dtSettings){that.destroy()}});$("body").on("keyup."+this.s.namespace,function(e){if(!document.activeElement||document.activeElement===document.body){var character=String.fromCharCode(e.keyCode).toLowerCase();if(that.s.listenKeys.toLowerCase().indexOf(character)!==-1){that._keypress(character,e)}}})},_addKey:function(conf){if(conf.key){this.s.listenKeys+=$.isPlainObject(conf.key)?conf.key.key:conf.key}},_draw:function(container,buttons){if(!container){container=this.dom.container;buttons=this.s.buttons}container.children().detach();for(var i=0,ien=buttons.length;i<ien;i++){container.append(buttons[i].inserter);container.append(" ");if(buttons[i].buttons&&buttons[i].buttons.length){this._draw(buttons[i].collection,buttons[i].buttons)}}},_expandButton:function(attachTo,button,split,inCollection,inSplit,attachPoint,parentConf){var dt=this.s.dt;var buttonCounter=0;var isSplit=false;var buttons=!Array.isArray(button)?[button]:button;if(button===undefined){buttons=!Array.isArray(split)?[split]:split}if(button!==undefined&&button.split!==undefined){isSplit=true}for(var i=0,ien=buttons.length;i<ien;i++){var conf=this._resolveExtends(buttons[i]);if(!conf){continue}if(conf.config!==undefined&&conf.config.split){isSplit=true}else{isSplit=false}if(Array.isArray(conf)){this._expandButton(attachTo,conf,built!==undefined&&built.conf!==undefined?built.conf.split:undefined,inCollection,parentConf!==undefined&&parentConf.split!==undefined,attachPoint,parentConf);continue}var built=this._buildButton(conf,inCollection,conf.split!==undefined||conf.config!==undefined&&conf.config.split!==undefined,inSplit);if(!built){continue}if(attachPoint!==undefined&&attachPoint!==null){attachTo.splice(attachPoint,0,built);attachPoint++}else{attachTo.push(built)}if(built.conf.buttons||built.conf.split){built.collection=$("<"+(isSplit?this.c.dom.splitCollection.tag:this.c.dom.collection.tag)+"/>");built.conf._collection=built.collection;if(built.conf.split){for(var j=0;j<built.conf.split.length;j++){if(typeof built.conf.split[j]==="object"){built.conf.split[j].parent=parentConf;if(built.conf.split[j].collectionLayout===undefined){built.conf.split[j].collectionLayout=built.conf.collectionLayout}if(built.conf.split[j].dropup===undefined){built.conf.split[j].dropup=built.conf.dropup}if(built.conf.split[j].fade===undefined){built.conf.split[j].fade=built.conf.fade}}}}else{$(built.node).append($('<span class="dt-down-arrow">'+this.c.dom.splitDropdown.text+"</span>"))}this._expandButton(built.buttons,built.conf.buttons,built.conf.split,!isSplit,isSplit,attachPoint,built.conf)}built.conf.parent=parentConf;if(conf.init){conf.init.call(dt.button(built.node),dt,$(built.node),conf)}buttonCounter++}},_buildButton:function(config,inCollection,isSplit,inSplit){var buttonDom=this.c.dom.button;var linerDom=this.c.dom.buttonLiner;var collectionDom=this.c.dom.collection;var splitDom=this.c.dom.split;var splitCollectionDom=this.c.dom.splitCollection;var splitDropdownButton=this.c.dom.splitDropdownButton;var dt=this.s.dt;var text=function(opt){return typeof opt==="function"?opt(dt,button,config):opt};if(config.spacer){var spacer=$("<span></span>").addClass("dt-button-spacer "+config.style+" "+buttonDom.spacerClass).html(text(config.text));return{conf:config,node:spacer,inserter:spacer,buttons:[],inCollection:inCollection,isSplit:isSplit,inSplit:inSplit,collection:null}}if(!isSplit&&inSplit&&splitCollectionDom){buttonDom=splitDropdownButton}else if(!isSplit&&inCollection&&collectionDom.button){buttonDom=collectionDom.button}if(!isSplit&&inSplit&&splitCollectionDom.buttonLiner){linerDom=splitCollectionDom.buttonLiner}else if(!isSplit&&inCollection&&collectionDom.buttonLiner){linerDom=collectionDom.buttonLiner}if(config.available&&!config.available(dt,config)&&!config.hasOwnProperty("html")){return false}var button;if(!config.hasOwnProperty("html")){var action=function(e,dt,button,config){config.action.call(dt.button(button),e,dt,button,config);$(dt.table().node()).triggerHandler("buttons-action.dt",[dt.button(button),dt,button,config])};var tag=config.tag||buttonDom.tag;var clickBlurs=config.clickBlurs===undefined?true:config.clickBlurs;button=$("<"+tag+"/>").addClass(buttonDom.className).addClass(inSplit?this.c.dom.splitDropdownButton.className:"").attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(e){e.preventDefault();if(!button.hasClass(buttonDom.disabled)&&config.action){action(e,dt,button,config)}if(clickBlurs){button.trigger("blur")}}).on("keypress.dtb",function(e){if(e.keyCode===13){e.preventDefault();if(!button.hasClass(buttonDom.disabled)&&config.action){action(e,dt,button,config)}}});if(tag.toLowerCase()==="a"){button.attr("href","#")}if(tag.toLowerCase()==="button"){button.attr("type","button")}if(linerDom.tag){var liner=$("<"+linerDom.tag+"/>").html(text(config.text)).addClass(linerDom.className);if(linerDom.tag.toLowerCase()==="a"){liner.attr("href","#")}button.append(liner)}else{button.html(text(config.text))}if(config.enabled===false){button.addClass(buttonDom.disabled)}if(config.className){button.addClass(config.className)}if(config.titleAttr){button.attr("title",text(config.titleAttr))}if(config.attr){button.attr(config.attr)}if(!config.namespace){config.namespace=".dt-button-"+_buttonCounter++}if(config.config!==undefined&&config.config.split){config.split=config.config.split}}else{button=$(config.html)}var buttonContainer=this.c.dom.buttonContainer;var inserter;if(buttonContainer&&buttonContainer.tag){inserter=$("<"+buttonContainer.tag+"/>").addClass(buttonContainer.className).append(button)}else{inserter=button}this._addKey(config);if(this.c.buttonCreated){inserter=this.c.buttonCreated(config,inserter)}var splitDiv;if(isSplit){splitDiv=$("<div/>").addClass(this.c.dom.splitWrapper.className);splitDiv.append(button);var dropButtonConfig=$.extend(config,{text:this.c.dom.splitDropdown.text,className:this.c.dom.splitDropdown.className,closeButton:false,attr:{"aria-haspopup":"dialog","aria-expanded":false},align:this.c.dom.splitDropdown.align,splitAlignClass:this.c.dom.splitDropdown.splitAlignClass});this._addKey(dropButtonConfig);var splitAction=function(e,dt,button,config){_dtButtons.split.action.call(dt.button(splitDiv),e,dt,button,config);$(dt.table().node()).triggerHandler("buttons-action.dt",[dt.button(button),dt,button,config]);button.attr("aria-expanded",true)};var dropButton=$('<button class="'+this.c.dom.splitDropdown.className+' dt-button"><span class="dt-btn-split-drop-arrow">'+this.c.dom.splitDropdown.text+"</span></button>").on("click.dtb",function(e){e.preventDefault();e.stopPropagation();if(!dropButton.hasClass(buttonDom.disabled)){splitAction(e,dt,dropButton,dropButtonConfig)}if(clickBlurs){dropButton.trigger("blur")}}).on("keypress.dtb",function(e){if(e.keyCode===13){e.preventDefault();if(!dropButton.hasClass(buttonDom.disabled)){splitAction(e,dt,dropButton,dropButtonConfig)}}});if(config.split.length===0){dropButton.addClass("dtb-hide-drop")}splitDiv.append(dropButton).attr(dropButtonConfig.attr)}return{conf:config,node:isSplit?splitDiv.get(0):button.get(0),inserter:isSplit?splitDiv:inserter,buttons:[],inCollection:inCollection,isSplit:isSplit,inSplit:inSplit,collection:null}},_nodeToButton:function(node,buttons){if(!buttons){buttons=this.s.buttons}for(var i=0,ien=buttons.length;i<ien;i++){if(buttons[i].node===node){return buttons[i]}if(buttons[i].buttons.length){var ret=this._nodeToButton(node,buttons[i].buttons);if(ret){return ret}}}},_nodeToHost:function(node,buttons){if(!buttons){buttons=this.s.buttons}for(var i=0,ien=buttons.length;i<ien;i++){if(buttons[i].node===node){return buttons}if(buttons[i].buttons.length){var ret=this._nodeToHost(node,buttons[i].buttons);if(ret){return ret}}}},_keypress:function(character,e){if(e._buttonsHandled){return}var run=function(conf,node){if(!conf.key){return}if(conf.key===character){e._buttonsHandled=true;$(node).click()}else if($.isPlainObject(conf.key)){if(conf.key.key!==character){return}if(conf.key.shiftKey&&!e.shiftKey){return}if(conf.key.altKey&&!e.altKey){return}if(conf.key.ctrlKey&&!e.ctrlKey){return}if(conf.key.metaKey&&!e.metaKey){return}e._buttonsHandled=true;$(node).click()}};var recurse=function(a){for(var i=0,ien=a.length;i<ien;i++){run(a[i].conf,a[i].node);if(a[i].buttons.length){recurse(a[i].buttons)}}};recurse(this.s.buttons)},_removeKey:function(conf){if(conf.key){var character=$.isPlainObject(conf.key)?conf.key.key:conf.key;var a=this.s.listenKeys.split("");var idx=$.inArray(character,a);a.splice(idx,1);this.s.listenKeys=a.join("")}},_resolveExtends:function(conf){var that=this;var dt=this.s.dt;var i,ien;var toConfObject=function(base){var loop=0;while(!$.isPlainObject(base)&&!Array.isArray(base)){if(base===undefined){return}if(typeof base==="function"){base=base.call(that,dt,conf);if(!base){return false}}else if(typeof base==="string"){if(!_dtButtons[base]){return{html:base}}base=_dtButtons[base]}loop++;if(loop>30){throw"Buttons: Too many iterations"}}return Array.isArray(base)?base:$.extend({},base)};conf=toConfObject(conf);while(conf&&conf.extend){if(!_dtButtons[conf.extend]){throw"Cannot extend unknown button type: "+conf.extend}var objArray=toConfObject(_dtButtons[conf.extend]);if(Array.isArray(objArray)){return objArray}else if(!objArray){return false}var originalClassName=objArray.className;if(conf.config!==undefined&&objArray.config!==undefined){conf.config=$.extend({},objArray.config,conf.config)}conf=$.extend({},objArray,conf);if(originalClassName&&conf.className!==originalClassName){conf.className=originalClassName+" "+conf.className}conf.extend=objArray.extend}var postfixButtons=conf.postfixButtons;if(postfixButtons){if(!conf.buttons){conf.buttons=[]}for(i=0,ien=postfixButtons.length;i<ien;i++){conf.buttons.push(postfixButtons[i])}}var prefixButtons=conf.prefixButtons;if(prefixButtons){if(!conf.buttons){conf.buttons=[]}for(i=0,ien=prefixButtons.length;i<ien;i++){conf.buttons.splice(i,0,prefixButtons[i])}}return conf},_popover:function(content,hostButton,inOpts,e){var dt=hostButton;var buttonsSettings=this.c;var closed=false;var options=$.extend({align:"button-left",autoClose:false,background:true,backgroundClassName:"dt-button-background",closeButton:true,contentClassName:buttonsSettings.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:false,fade:400,popoverTitle:"",rightAlignClassName:"dt-button-right",tag:buttonsSettings.dom.collection.tag},inOpts);var hostNode=hostButton.node();var close=function(){closed=true;_fadeOut($(".dt-button-collection"),options.fade,function(){$(this).detach()});$(dt.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes()).attr("aria-expanded","false");$("div.dt-button-background").off("click.dtb-collection");Buttons.background(false,options.backgroundClassName,options.fade,hostNode);$(window).off("resize.resize.dtb-collection");$("body").off(".dtb-collection");dt.off("buttons-action.b-internal");dt.off("destroy")};if(content===false){close();return}var existingExpanded=$(dt.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes());if(existingExpanded.length){if(hostNode.closest("div.dt-button-collection").length){hostNode=existingExpanded.eq(0)}close()}var cnt=$(".dt-button",content).length;var mod="";if(cnt===3){mod="dtb-b3"}else if(cnt===2){mod="dtb-b2"}else if(cnt===1){mod="dtb-b1"}var display=$("<div/>").addClass("dt-button-collection").addClass(options.collectionLayout).addClass(options.splitAlignClass).addClass(mod).css("display","none").attr({"aria-modal":true,role:"dialog"});content=$(content).addClass(options.contentClassName).attr("role","menu").appendTo(display);hostNode.attr("aria-expanded","true");if(hostNode.parents("body")[0]!==document.body){hostNode=document.body.lastChild}if(options.popoverTitle){display.prepend('<div class="dt-button-collection-title">'+options.popoverTitle+"</div>")}else if(options.collectionTitle){display.prepend('<div class="dt-button-collection-title">'+options.collectionTitle+"</div>")}if(options.closeButton){display.prepend('<div class="dtb-popover-close">x</div>').addClass("dtb-collection-closeable")}_fadeIn(display.insertAfter(hostNode),options.fade);var tableContainer=$(hostButton.table().container());var position=display.css("position");if(options.span==="container"||options.align==="dt-container"){hostNode=hostNode.parent();display.css("width",tableContainer.width())}if(position==="absolute"){var offsetParent=$(hostNode[0].offsetParent);var buttonPosition=hostNode.position();var buttonOffset=hostNode.offset();var tableSizes=offsetParent.offset();var containerPosition=offsetParent.position();var computed=window.getComputedStyle(offsetParent[0]);tableSizes.height=offsetParent.outerHeight();tableSizes.width=offsetParent.width()+parseFloat(computed.paddingLeft);tableSizes.right=tableSizes.left+tableSizes.width;tableSizes.bottom=tableSizes.top+tableSizes.height;var top=buttonPosition.top+hostNode.outerHeight();var left=buttonPosition.left;display.css({top:top,left:left});computed=window.getComputedStyle(display[0]);var popoverSizes=display.offset();popoverSizes.height=display.outerHeight();popoverSizes.width=display.outerWidth();popoverSizes.right=popoverSizes.left+popoverSizes.width;popoverSizes.bottom=popoverSizes.top+popoverSizes.height;popoverSizes.marginTop=parseFloat(computed.marginTop);popoverSizes.marginBottom=parseFloat(computed.marginBottom);if(options.dropup){top=buttonPosition.top-popoverSizes.height-popoverSizes.marginTop-popoverSizes.marginBottom}if(options.align==="button-right"||display.hasClass(options.rightAlignClassName)){left=buttonPosition.left-popoverSizes.width+hostNode.outerWidth()}if(options.align==="dt-container"||options.align==="container"){if(left<buttonPosition.left){left=-buttonPosition.left}if(left+popoverSizes.width>tableSizes.width){left=tableSizes.width-popoverSizes.width}}if(containerPosition.left+left+popoverSizes.width>$(window).width()){left=$(window).width()-popoverSizes.width-containerPosition.left}if(buttonOffset.left+left<0){left=-buttonOffset.left}if(containerPosition.top+top+popoverSizes.height>$(window).height()+$(window).scrollTop()){top=buttonPosition.top-popoverSizes.height-popoverSizes.marginTop-popoverSizes.marginBottom}if(containerPosition.top+top<$(window).scrollTop()){top=buttonPosition.top+hostNode.outerHeight()}display.css({top:top,left:left})}else{var position=function(){var half=$(window).height()/2;var top=display.height()/2;if(top>half){top=half}display.css("marginTop",top*-1)};position();$(window).on("resize.dtb-collection",function(){position()})}if(options.background){Buttons.background(true,options.backgroundClassName,options.fade,options.backgroundHost||hostNode)}$("div.dt-button-background").on("click.dtb-collection",function(){});if(options.autoClose){setTimeout(function(){dt.on("buttons-action.b-internal",function(e,btn,dt,node){if(node[0]===hostNode[0]){return}close()})},0)}$(display).trigger("buttons-popover.dt");dt.on("destroy",close);setTimeout(function(){closed=false;$("body").on("click.dtb-collection",function(e){if(closed){return}var back=$.fn.addBack?"addBack":"andSelf";var parent=$(e.target).parent()[0];if(!$(e.target).parents()[back]().filter(content).length&&!$(parent).hasClass("dt-buttons")||$(e.target).hasClass("dt-button-background")){close()}}).on("keyup.dtb-collection",function(e){if(e.keyCode===27){close()}}).on("keydown.dtb-collection",function(e){var elements=$("a, button",content);var active=document.activeElement;if(e.keyCode!==9){return}if(elements.index(active)===-1){elements.first().focus();e.preventDefault()}else if(e.shiftKey){if(active===elements[0]){elements.last().focus();e.preventDefault()}}else{if(active===elements.last()[0]){elements.first().focus();e.preventDefault()}}})},0)}});Buttons.background=function(show,className,fade,insertPoint){if(fade===undefined){fade=400}if(!insertPoint){insertPoint=document.body}if(show){_fadeIn($("<div/>").addClass(className).css("display","none").insertAfter(insertPoint),fade)}else{_fadeOut($("div."+className),fade,function(){$(this).removeClass(className).remove()})}};Buttons.instanceSelector=function(group,buttons){if(group===undefined||group===null){return $.map(buttons,function(v){return v.inst})}var ret=[];var names=$.map(buttons,function(v){return v.name});var process=function(input){if(Array.isArray(input)){for(var i=0,ien=input.length;i<ien;i++){process(input[i])}return}if(typeof input==="string"){if(input.indexOf(",")!==-1){process(input.split(","))}else{var idx=$.inArray(input.trim(),names);if(idx!==-1){ret.push(buttons[idx].inst)}}}else if(typeof input==="number"){ret.push(buttons[input].inst)}else if(typeof input==="object"){ret.push(input)}};process(group);return ret};Buttons.buttonSelector=function(insts,selector){var ret=[];var nodeBuilder=function(a,buttons,baseIdx){var button;var idx;for(var i=0,ien=buttons.length;i<ien;i++){button=buttons[i];if(button){idx=baseIdx!==undefined?baseIdx+i:i+"";a.push({node:button.node,name:button.conf.name,idx:idx});if(button.buttons){nodeBuilder(a,button.buttons,idx+"-")}}}};var run=function(selector,inst){var i,ien;var buttons=[];nodeBuilder(buttons,inst.s.buttons);var nodes=$.map(buttons,function(v){return v.node});if(Array.isArray(selector)||selector instanceof $){for(i=0,ien=selector.length;i<ien;i++){run(selector[i],inst)}return}if(selector===null||selector===undefined||selector==="*"){for(i=0,ien=buttons.length;i<ien;i++){ret.push({inst:inst,node:buttons[i].node})}}else if(typeof selector==="number"){if(inst.s.buttons[selector]){ret.push({inst:inst,node:inst.s.buttons[selector].node})}}else if(typeof selector==="string"){if(selector.indexOf(",")!==-1){var a=selector.split(",");for(i=0,ien=a.length;i<ien;i++){run(a[i].trim(),inst)}}else if(selector.match(/^\d+(\-\d+)*$/)){var indexes=$.map(buttons,function(v){return v.idx});ret.push({inst:inst,node:buttons[$.inArray(selector,indexes)].node})}else if(selector.indexOf(":name")!==-1){var name=selector.replace(":name","");for(i=0,ien=buttons.length;i<ien;i++){if(buttons[i].name===name){ret.push({inst:inst,node:buttons[i].node})}}}else{$(nodes).filter(selector).each(function(){ret.push({inst:inst,node:this})})}}else if(typeof selector==="object"&&selector.nodeName){var idx=$.inArray(selector,nodes);if(idx!==-1){ret.push({inst:inst,node:nodes[idx]})}}};for(var i=0,ien=insts.length;i<ien;i++){var inst=insts[i];run(selector,inst)}return ret};Buttons.stripData=function(str,config){if(typeof str!=="string"){return str}str=str.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");str=str.replace(/<!\-\-.*?\-\->/g,"");if(!config||config.stripHtml){str=str.replace(/<[^>]*>/g,"")}if(!config||config.trim){str=str.replace(/^\s+|\s+$/g,"")}if(!config||config.stripNewlines){str=str.replace(/\n/g," ")}if(!config||config.decodeEntities){_exportTextarea.innerHTML=str;str=_exportTextarea.value}return str};Buttons.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled",spacerClass:""},buttonLiner:{tag:"span",className:""},split:{tag:"div",className:"dt-button-split"},splitWrapper:{tag:"div",className:"dt-btn-split-wrapper"},splitDropdown:{tag:"button",text:"&#x25BC;",className:"dt-btn-split-drop",align:"split-right",splitAlignClass:"dt-button-split-left"},splitDropdownButton:{tag:"button",className:"dt-btn-split-drop-button dt-button"},splitCollection:{tag:"div",className:"dt-button-split-collection"}}};Buttons.version="2.3.6";$.extend(_dtButtons,{collection:{text:function(dt){return dt.i18n("buttons.collection","Collection")},className:"buttons-collection",closeButton:false,init:function(dt,button,config){button.attr("aria-expanded",false)},action:function(e,dt,button,config){if(config._collection.parents("body").length){this.popover(false,config)}else{this.popover(config._collection,config)}if(e.type==="keypress"){$("a, button",config._collection).eq(0).focus()}},attr:{"aria-haspopup":"dialog"}},split:{text:function(dt){return dt.i18n("buttons.split","Split")},className:"buttons-split",closeButton:false,init:function(dt,button,config){return button.attr("aria-expanded",false)},action:function(e,dt,button,config){this.popover(config._collection,config)},attr:{"aria-haspopup":"dialog"}},copy:function(dt,conf){if(_dtButtons.copyHtml5){return"copyHtml5"}},csv:function(dt,conf){if(_dtButtons.csvHtml5&&_dtButtons.csvHtml5.available(dt,conf)){return"csvHtml5"}},excel:function(dt,conf){if(_dtButtons.excelHtml5&&_dtButtons.excelHtml5.available(dt,conf)){return"excelHtml5"}},pdf:function(dt,conf){if(_dtButtons.pdfHtml5&&_dtButtons.pdfHtml5.available(dt,conf)){return"pdfHtml5"}},pageLength:function(dt){var lengthMenu=dt.settings()[0].aLengthMenu;var vals=[];var lang=[];var text=function(dt){return dt.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},dt.page.len())};if(Array.isArray(lengthMenu[0])){vals=lengthMenu[0];lang=lengthMenu[1]}else{for(var i=0;i<lengthMenu.length;i++){var option=lengthMenu[i];if($.isPlainObject(option)){vals.push(option.value);lang.push(option.label)}else{vals.push(option);lang.push(option)}}}return{extend:"collection",text:text,className:"buttons-page-length",autoClose:true,buttons:$.map(vals,function(val,i){return{text:lang[i],className:"button-page-length",action:function(e,dt){dt.page.len(val).draw()},init:function(dt,node,conf){var that=this;var fn=function(){that.active(dt.page.len()===val)};dt.on("length.dt"+conf.namespace,fn);fn()},destroy:function(dt,node,conf){dt.off("length.dt"+conf.namespace)}}}),init:function(dt,node,conf){var that=this;dt.on("length.dt"+conf.namespace,function(){that.text(conf.text)})},destroy:function(dt,node,conf){dt.off("length.dt"+conf.namespace)}}},spacer:{style:"empty",spacer:true,text:function(dt){return dt.i18n("buttons.spacer","")}}});DataTable.Api.register("buttons()",function(group,selector){if(selector===undefined){selector=group;group=undefined}this.selector.buttonGroup=group;var res=this.iterator(true,"table",function(ctx){if(ctx._buttons){return Buttons.buttonSelector(Buttons.instanceSelector(group,ctx._buttons),selector)}},true);res._groupSelector=group;return res});DataTable.Api.register("button()",function(group,selector){var buttons=this.buttons(group,selector);if(buttons.length>1){buttons.splice(1,buttons.length)}return buttons});DataTable.Api.registerPlural("buttons().active()","button().active()",function(flag){if(flag===undefined){return this.map(function(set){return set.inst.active(set.node)})}return this.each(function(set){set.inst.active(set.node,flag)})});DataTable.Api.registerPlural("buttons().action()","button().action()",function(action){if(action===undefined){return this.map(function(set){return set.inst.action(set.node)})}return this.each(function(set){set.inst.action(set.node,action)})});DataTable.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",function(buttons){return this.each(function(set){for(var i=0;i<buttons.length;i++){if(typeof buttons[i]==="object"){buttons[i].parentConf=set}}set.inst.collectionRebuild(set.node,buttons)})});DataTable.Api.register(["buttons().enable()","button().enable()"],function(flag){return this.each(function(set){set.inst.enable(set.node,flag)})});DataTable.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(set){set.inst.disable(set.node)})});DataTable.Api.register("button().index()",function(){var idx=null;this.each(function(set){var res=set.inst.index(set.node);if(res!==null){idx=res}});return idx});DataTable.Api.registerPlural("buttons().nodes()","button().node()",function(){var jq=$();$(this.each(function(set){jq=jq.add(set.inst.node(set.node))}));return jq});DataTable.Api.registerPlural("buttons().processing()","button().processing()",function(flag){if(flag===undefined){return this.map(function(set){return set.inst.processing(set.node)})}return this.each(function(set){set.inst.processing(set.node,flag)})});DataTable.Api.registerPlural("buttons().text()","button().text()",function(label){if(label===undefined){return this.map(function(set){return set.inst.text(set.node)})}return this.each(function(set){set.inst.text(set.node,label)})});DataTable.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(set){set.inst.node(set.node).trigger("click")})});DataTable.Api.register("button().popover()",function(content,options){return this.map(function(set){return set.inst._popover(content,this.button(this[0].node),options)})});DataTable.Api.register("buttons().containers()",function(){var jq=$();var groupSelector=this._groupSelector;this.iterator(true,"table",function(ctx){if(ctx._buttons){var insts=Buttons.instanceSelector(groupSelector,ctx._buttons);for(var i=0,ien=insts.length;i<ien;i++){jq=jq.add(insts[i].container())}}});return jq});DataTable.Api.register("buttons().container()",function(){return this.containers().eq(0)});DataTable.Api.register("button().add()",function(idx,conf,draw){var ctx=this.context;if(ctx.length){var inst=Buttons.instanceSelector(this._groupSelector,ctx[0]._buttons);if(inst.length){inst[0].add(conf,idx,draw)}}return this.button(this._groupSelector,idx)});DataTable.Api.register("buttons().destroy()",function(){this.pluck("inst").unique().each(function(inst){inst.destroy()});return this});DataTable.Api.registerPlural("buttons().remove()","buttons().remove()",function(){this.each(function(set){set.inst.remove(set.node)});return this});var _infoTimer;DataTable.Api.register("buttons.info()",function(title,message,time){var that=this;if(title===false){this.off("destroy.btn-info");_fadeOut($("#datatables_buttons_info"),400,function(){$(this).remove()});clearTimeout(_infoTimer);_infoTimer=null;return this}if(_infoTimer){clearTimeout(_infoTimer)}if($("#datatables_buttons_info").length){$("#datatables_buttons_info").remove()}title=title?"<h2>"+title+"</h2>":"";_fadeIn($('<div id="datatables_buttons_info" class="dt-button-info"/>').html(title).append($("<div/>")[typeof message==="string"?"html":"append"](message)).css("display","none").appendTo("body"));if(time!==undefined&&time!==0){_infoTimer=setTimeout(function(){that.buttons.info(false)},time)}this.on("destroy.btn-info",function(){that.buttons.info(false)});return this});DataTable.Api.register("buttons.exportData()",function(options){if(this.context.length){return _exportData(new DataTable.Api(this.context[0]),options)}});DataTable.Api.register("buttons.exportInfo()",function(conf){if(!conf){conf={}}return{filename:_filename(conf),title:_title(conf),messageTop:_message(this,conf.message||conf.messageTop,"top"),messageBottom:_message(this,conf.messageBottom,"bottom")}});var _filename=function(config){var filename=config.filename==="*"&&config.title!=="*"&&config.title!==undefined&&config.title!==null&&config.title!==""?config.title:config.filename;if(typeof filename==="function"){filename=filename()}if(filename===undefined||filename===null){return null}if(filename.indexOf("*")!==-1){filename=filename.replace("*",$("head > title").text()).trim()}filename=filename.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var extension=_stringOrFunction(config.extension);if(!extension){extension=""}return filename+extension};var _stringOrFunction=function(option){if(option===null||option===undefined){return null}else if(typeof option==="function"){return option()}return option};var _title=function(config){var title=_stringOrFunction(config.title);return title===null?null:title.indexOf("*")!==-1?title.replace("*",$("head > title").text()||"Exported data"):title};var _message=function(dt,option,position){var message=_stringOrFunction(option);if(message===null){return null}var caption=$("caption",dt.table().container()).eq(0);if(message==="*"){var side=caption.css("caption-side");if(side!==position){return null}return caption.length?caption.text():""}return message};var _exportTextarea=$("<textarea/>")[0];var _exportData=function(dt,inOpts){var config=$.extend(true,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:true,stripNewlines:true,decodeEntities:true,trim:true,format:{header:function(d){return Buttons.stripData(d,config)},footer:function(d){return Buttons.stripData(d,config)},body:function(d){return Buttons.stripData(d,config)}},customizeData:null},inOpts);var header=dt.columns(config.columns).indexes().map(function(idx){var el=dt.column(idx).header();return config.format.header(el.innerHTML,idx,el)}).toArray();var footer=dt.table().footer()?dt.columns(config.columns).indexes().map(function(idx){var el=dt.column(idx).footer();return config.format.footer(el?el.innerHTML:"",idx,el)}).toArray():null;var modifier=$.extend({},config.modifier);if(dt.select&&typeof dt.select.info==="function"&&modifier.selected===undefined){if(dt.rows(config.rows,$.extend({selected:true},modifier)).any()){$.extend(modifier,{selected:true})}}var rowIndexes=dt.rows(config.rows,modifier).indexes().toArray();var selectedCells=dt.cells(rowIndexes,config.columns);var cells=selectedCells.render(config.orthogonal).toArray();var cellNodes=selectedCells.nodes().toArray();var columns=header.length;var rows=columns>0?cells.length/columns:0;var body=[];var cellCounter=0;for(var i=0,ien=rows;i<ien;i++){var row=[columns];for(var j=0;j<columns;j++){row[j]=config.format.body(cells[cellCounter],i,j,cellNodes[cellCounter]);cellCounter++}body[i]=row}var data={header:header,footer:footer,body:body};if(config.customizeData){config.customizeData(data)}return data};$.fn.dataTable.Buttons=Buttons;$.fn.DataTable.Buttons=Buttons;$(document).on("init.dt plugin-init.dt",function(e,settings){if(e.namespace!=="dt"){return}var opts=settings.oInit.buttons||DataTable.defaults.buttons;if(opts&&!settings._buttons){new Buttons(settings,opts).container()}});function _init(settings,options){var api=new DataTable.Api(settings);var opts=options?options:api.init().buttons||DataTable.defaults.buttons;return new Buttons(api,opts).container()}DataTable.ext.feature.push({fnInit:_init,cFeature:"B"});if(DataTable.ext.features){DataTable.ext.features.register("buttons",_init)}return DataTable});(function(factory){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net-dt","datatables.net-buttons"],function($){return factory($,window,document)})}else if(typeof exports==="object"){var jq=require("jquery");var cjsRequires=function(root,$){if(!$.fn.dataTable){require("datatables.net-dt")(root,$)}if(!$.fn.dataTable.Buttons){require("datatables.net-buttons")(root,$)}};if(typeof window!=="undefined"){module.exports=function(root,$){if(!root){root=window}if(!$){$=jq(root)}cjsRequires(root,$);return factory($,root,root.document)}}else{cjsRequires(window,jq);module.exports=factory(jq,window,window.document)}}else{factory(jQuery,window,document)}})(function($,window,document,undefined){"use strict";var DataTable=$.fn.dataTable;(function(factory){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net-dt","datatables.net-buttons"],function($){return factory($,window,document)})}else if(typeof exports==="object"){module.exports=function(root,$){if(!root){root=window}if(!$||!$.fn.dataTable){$=require("datatables.net-dt")(root,$).$}if(!$.fn.dataTable.Buttons){require("datatables.net-buttons")(root,$)}return factory($,root,root.document)}}else{factory(jQuery,window,document)}})(function($,window,document,undefined){return $.fn.dataTable});return DataTable});(function(factory){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function($){return factory($,window,document)})}else if(typeof exports==="object"){var jq=require("jquery");var cjsRequires=function(root,$){if(!$.fn.dataTable){require("datatables.net")(root,$)}};if(typeof window!=="undefined"){module.exports=function(root,$){if(!root){root=window}if(!$){$=jq(root)}cjsRequires(root,$);return factory($,root,root.document)}}else{cjsRequires(window,jq);module.exports=factory(jq,window,window.document)}}else{factory(jQuery,window,document)}})(function($,window,document,undefined){"use strict";var DataTable=$.fn.dataTable;(function(){"use strict";var $$3;var dataTable$3;function moment(){return window.moment}function luxon(){return window.luxon}function setJQuery$2(jq){$$3=jq;dataTable$3=jq.fn.dataTable}var Criteria=function(){function Criteria(table,opts,topGroup,index,depth,serverData){if(index===void 0){index=0}if(depth===void 0){depth=1}if(serverData===void 0){serverData=undefined}var _this=this;if(!dataTable$3||!dataTable$3.versionCheck||!dataTable$3.versionCheck("1.10.0")){throw new Error("SearchPane requires DataTables 1.10 or newer")}this.classes=$$3.extend(true,{},Criteria.classes);this.c=$$3.extend(true,{},Criteria.defaults,$$3.fn.dataTable.ext.searchBuilder,opts);var i18n=this.c.i18n;this.s={condition:undefined,conditions:{},data:undefined,dataIdx:-1,dataPoints:[],dateFormat:false,depth:depth,dt:table,filled:false,index:index,origData:undefined,preventRedraw:false,serverData:serverData,topGroup:topGroup,type:"",value:[]};this.dom={buttons:$$3("<div/>").addClass(this.classes.buttonContainer),condition:$$3("<select disabled/>").addClass(this.classes.condition).addClass(this.classes.dropDown).addClass(this.classes.italic).attr("autocomplete","hacking"),conditionTitle:$$3('<option value="" disabled selected hidden/>').html(this.s.dt.i18n("searchBuilder.condition",i18n.condition)),container:$$3("<div/>").addClass(this.classes.container),data:$$3("<select/>").addClass(this.classes.data).addClass(this.classes.dropDown).addClass(this.classes.italic),dataTitle:$$3('<option value="" disabled selected hidden/>').html(this.s.dt.i18n("searchBuilder.data",i18n.data)),defaultValue:$$3("<select disabled/>").addClass(this.classes.value).addClass(this.classes.dropDown).addClass(this.classes.select).addClass(this.classes.italic),delete:$$3("<button/>").html(this.s.dt.i18n("searchBuilder.delete",i18n["delete"])).addClass(this.classes["delete"]).addClass(this.classes.button).attr("title",this.s.dt.i18n("searchBuilder.deleteTitle",i18n.deleteTitle)).attr("type","button"),inputCont:$$3("<div/>").addClass(this.classes.inputCont),left:$$3("<button/>").html(this.s.dt.i18n("searchBuilder.left",i18n.left)).addClass(this.classes.left).addClass(this.classes.button).attr("title",this.s.dt.i18n("searchBuilder.leftTitle",i18n.leftTitle)).attr("type","button"),right:$$3("<button/>").html(this.s.dt.i18n("searchBuilder.right",i18n.right)).addClass(this.classes.right).addClass(this.classes.button).attr("title",this.s.dt.i18n("searchBuilder.rightTitle",i18n.rightTitle)).attr("type","button"),value:[$$3("<select disabled/>").addClass(this.classes.value).addClass(this.classes.dropDown).addClass(this.classes.italic).addClass(this.classes.select)],valueTitle:$$3('<option value="--valueTitle--" disabled selected hidden/>').html(this.s.dt.i18n("searchBuilder.value",i18n.value))};if(this.c.greyscale){this.dom.data.addClass(this.classes.greyscale);this.dom.condition.addClass(this.classes.greyscale);this.dom.defaultValue.addClass(this.classes.greyscale);for(var _i=0,_a=this.dom.value;_i<_a.length;_i++){var val=_a[_i];val.addClass(this.classes.greyscale)}}$$3(window).on("resize.dtsb",dataTable$3.util.throttle(function(){_this.s.topGroup.trigger("dtsb-redrawLogic")}));this._buildCriteria();return this}Criteria._escapeHTML=function(txt){return txt.toString().replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')};Criteria.parseNumFmt=function(val){return+val.replace(/(?!^-)[^0-9.]/g,"")};Criteria.prototype.updateArrows=function(hasSiblings){if(hasSiblings===void 0){hasSiblings=false}this.dom.container.children().detach();this.dom.container.append(this.dom.data).append(this.dom.condition).append(this.dom.inputCont);this.setListeners();if(this.dom.value[0]!==undefined){this.dom.value[0].trigger("dtsb-inserted")}for(var i=1;i<this.dom.value.length;i++){this.dom.inputCont.append(this.dom.value[i]);this.dom.value[i].trigger("dtsb-inserted")}if(this.s.depth>1){this.dom.buttons.append(this.dom.left)}if((this.c.depthLimit===false||this.s.depth<this.c.depthLimit)&&hasSiblings){this.dom.buttons.append(this.dom.right)}else{this.dom.right.remove()}this.dom.buttons.append(this.dom["delete"]);this.dom.container.append(this.dom.buttons)};Criteria.prototype.destroy=function(){this.dom.data.off(".dtsb");this.dom.condition.off(".dtsb");this.dom["delete"].off(".dtsb");for(var _i=0,_a=this.dom.value;_i<_a.length;_i++){var val=_a[_i];val.off(".dtsb")}this.dom.container.remove()};Criteria.prototype.search=function(rowData,rowIdx){var condition=this.s.conditions[this.s.condition];if(this.s.condition!==undefined&&condition!==undefined){var filter=rowData[this.s.dataIdx];if(this.s.type.includes("num")&&(this.s.dt.settings()[0].oLanguage.sDecimal!==""||this.s.dt.settings()[0].oLanguage.sThousands!=="")){var splitRD=[rowData[this.s.dataIdx]];if(this.s.dt.settings()[0].oLanguage.sDecimal!==""){splitRD=rowData[this.s.dataIdx].split(this.s.dt.settings()[0].oLanguage.sDecimal)}if(this.s.dt.settings()[0].oLanguage.sThousands!==""){for(var i=0;i<splitRD.length;i++){splitRD[i]=splitRD[i].replace(this.s.dt.settings()[0].oLanguage.sThousands,",")}}filter=splitRD.join(".")}if(this.c.orthogonal.search!=="filter"){var settings=this.s.dt.settings()[0];filter=settings.oApi._fnGetCellData(settings,rowIdx,this.s.dataIdx,typeof this.c.orthogonal==="string"?this.c.orthogonal:this.c.orthogonal.search)}if(this.s.type==="array"){if(!Array.isArray(filter)){filter=[filter]}filter.sort();for(var _i=0,filter_1=filter;_i<filter_1.length;_i++){var filt=filter_1[_i];if(filt&&typeof filt==="string"){filt=filt.replace(/[\r\n\u2028]/g," ")}}}else if(filter!==null&&typeof filter==="string"){filter=filter.replace(/[\r\n\u2028]/g," ")}if(this.s.type.includes("html")&&typeof filter==="string"){filter=filter.replace(/(<([^>]+)>)/gi,"")}if(filter===null){filter=""}return condition.search(filter,this.s.value,this)}};Criteria.prototype.getDetails=function(deFormatDates){if(deFormatDates===void 0){deFormatDates=false}if(this.s.type!==null&&this.s.type.includes("num")&&(this.s.dt.settings()[0].oLanguage.sDecimal!==""||this.s.dt.settings()[0].oLanguage.sThousands!=="")){for(var i=0;i<this.s.value.length;i++){var splitRD=[this.s.value[i].toString()];if(this.s.dt.settings()[0].oLanguage.sDecimal!==""){splitRD=this.s.value[i].split(this.s.dt.settings()[0].oLanguage.sDecimal)}if(this.s.dt.settings()[0].oLanguage.sThousands!==""){for(var j=0;j<splitRD.length;j++){splitRD[j]=splitRD[j].replace(this.s.dt.settings()[0].oLanguage.sThousands,",")}}this.s.value[i]=splitRD.join(".")}}else if(this.s.type!==null&&deFormatDates){if(this.s.type.includes("date")||this.s.type.includes("time")){for(var i=0;i<this.s.value.length;i++){if(this.s.value[i].match(/^\d{4}-([0]\d|1[0-2])-([0-2]\d|3[01])$/g)===null){this.s.value[i]=""}}}else if(this.s.type.includes("moment")){for(var i=0;i<this.s.value.length;i++){if(this.s.value[i]&&this.s.value[i].length>0&&moment()(this.s.value[i],this.s.dateFormat,true).isValid()){this.s.value[i]=moment()(this.s.value[i],this.s.dateFormat).format("YYYY-MM-DD HH:mm:ss")}}}else if(this.s.type.includes("luxon")){for(var i=0;i<this.s.value.length;i++){if(this.s.value[i]&&this.s.value[i].length>0&&luxon().DateTime.fromFormat(this.s.value[i],this.s.dateFormat).invalid===null){this.s.value[i]=luxon().DateTime.fromFormat(this.s.value[i],this.s.dateFormat).toFormat("yyyy-MM-dd HH:mm:ss")}}}}if(this.s.type.includes("num")&&this.s.dt.page.info().serverSide){for(var i=0;i<this.s.value.length;i++){this.s.value[i]=this.s.value[i].replace(/[^0-9.\-]/g,"")}}return{condition:this.s.condition,data:this.s.data,origData:this.s.origData,type:this.s.type,value:this.s.value.map(function(a){return a!==null&&a!==undefined?a.toString():a})}};Criteria.prototype.getNode=function(){return this.dom.container};Criteria.prototype.populate=function(){this._populateData();if(this.s.dataIdx!==-1){this._populateCondition();if(this.s.condition!==undefined){this._populateValue()}}};Criteria.prototype.rebuild=function(loadedCriteria){var foundData=false;var dataIdx;this._populateData();if(loadedCriteria.data!==undefined){var italic_1=this.classes.italic;var data_1=this.dom.data;this.dom.data.children("option").each(function(){if(!foundData&&($$3(this).text()===loadedCriteria.data||loadedCriteria.origData&&$$3(this).prop("origData")===loadedCriteria.origData)){$$3(this).prop("selected",true);data_1.removeClass(italic_1);foundData=true;dataIdx=$$3(this).val()}else{$$3(this).removeProp("selected")}})}if(foundData){this.s.data=loadedCriteria.data;this.s.origData=loadedCriteria.origData;this.s.dataIdx=dataIdx;this.c.orthogonal=this._getOptions().orthogonal;this.dom.dataTitle.remove();this._populateCondition();this.dom.conditionTitle.remove();var condition=void 0;var options=this.dom.condition.children("option");for(var i=0;i<options.length;i++){var option=$$3(options[i]);if(loadedCriteria.condition!==undefined&&option.val()===loadedCriteria.condition&&typeof loadedCriteria.condition==="string"){option.prop("selected",true);condition=option.val()}else{option.removeProp("selected")}}this.s.condition=condition;if(this.s.condition!==undefined){this.dom.conditionTitle.removeProp("selected");this.dom.conditionTitle.remove();this.dom.condition.removeClass(this.classes.italic);for(var i=0;i<options.length;i++){var option=$$3(options[i]);if(option.val()!==this.s.condition){option.removeProp("selected")}}this._populateValue(loadedCriteria)}else{this.dom.conditionTitle.prependTo(this.dom.condition).prop("selected",true)}}};Criteria.prototype.setListeners=function(){var _this=this;this.dom.data.unbind("change").on("change.dtsb",function(){_this.dom.dataTitle.removeProp("selected");var options=_this.dom.data.children("option."+_this.classes.option);for(var i=0;i<options.length;i++){var option=$$3(options[i]);if(option.val()===_this.dom.data.val()){_this.dom.data.removeClass(_this.classes.italic);option.prop("selected",true);_this.s.dataIdx=+option.val();_this.s.data=option.text();_this.s.origData=option.prop("origData");_this.c.orthogonal=_this._getOptions().orthogonal;_this._clearCondition();_this._clearValue();_this._populateCondition();if(_this.s.filled){_this.s.filled=false;_this.s.dt.draw();_this.setListeners()}_this.s.dt.state.save()}else{option.removeProp("selected")}}});this.dom.condition.unbind("change").on("change.dtsb",function(){_this.dom.conditionTitle.removeProp("selected");var options=_this.dom.condition.children("option."+_this.classes.option);for(var i=0;i<options.length;i++){var option=$$3(options[i]);if(option.val()===_this.dom.condition.val()){_this.dom.condition.removeClass(_this.classes.italic);option.prop("selected",true);var condDisp=option.val();for(var _i=0,_a=Object.keys(_this.s.conditions);_i<_a.length;_i++){var cond=_a[_i];if(cond===condDisp){_this.s.condition=condDisp;break}}_this._clearValue();_this._populateValue();for(var _b=0,_c=_this.dom.value;_b<_c.length;_b++){var val=_c[_b];if(_this.s.filled&&val!==undefined&&_this.dom.inputCont.has(val[0]).length!==0){_this.s.filled=false;_this.s.dt.draw();_this.setListeners()}}if(_this.dom.value.length===0||_this.dom.value.length===1&&_this.dom.value[0]===undefined){_this.s.dt.draw()}}else{option.removeProp("selected")}}})};Criteria.prototype.setupButtons=function(){if(window.innerWidth>550){this.dom.container.removeClass(this.classes.vertical);this.dom.buttons.css("left",null);this.dom.buttons.css("top",null);return}this.dom.container.addClass(this.classes.vertical);this.dom.buttons.css("left",this.dom.data.innerWidth());this.dom.buttons.css("top",this.dom.data.position().top)};Criteria.prototype._buildCriteria=function(){this.dom.data.append(this.dom.dataTitle);this.dom.condition.append(this.dom.conditionTitle);this.dom.container.append(this.dom.data).append(this.dom.condition);this.dom.inputCont.empty();for(var _i=0,_a=this.dom.value;_i<_a.length;_i++){var val=_a[_i];val.append(this.dom.valueTitle);this.dom.inputCont.append(val)}this.dom.buttons.append(this.dom["delete"]).append(this.dom.right);this.dom.container.append(this.dom.inputCont).append(this.dom.buttons);this.setListeners()};Criteria.prototype._clearCondition=function(){this.dom.condition.empty();this.dom.conditionTitle.prop("selected",true).attr("disabled","true");this.dom.condition.prepend(this.dom.conditionTitle).prop("selectedIndex",0);this.s.conditions={};this.s.condition=undefined};Criteria.prototype._clearValue=function(){if(this.s.condition!==undefined){if(this.dom.value.length>0&&this.dom.value[0]!==undefined){var _loop_1=function(val){if(val!==undefined){setTimeout(function(){val.remove()},50)}};for(var _i=0,_a=this.dom.value;_i<_a.length;_i++){var val=_a[_i];_loop_1(val)}}this.dom.value=[].concat(this.s.conditions[this.s.condition].init(this,Criteria.updateListener));if(this.dom.value.length>0&&this.dom.value[0]!==undefined){this.dom.inputCont.empty().append(this.dom.value[0]).insertAfter(this.dom.condition);this.dom.value[0].trigger("dtsb-inserted");for(var i=1;i<this.dom.value.length;i++){this.dom.inputCont.append(this.dom.value[i]);this.dom.value[i].trigger("dtsb-inserted")}}}else{var _loop_2=function(val){if(val!==undefined){setTimeout(function(){val.remove()},50)}};for(var _b=0,_c=this.dom.value;_b<_c.length;_b++){var val=_c[_b];_loop_2(val)}this.dom.valueTitle.prop("selected",true);this.dom.defaultValue.append(this.dom.valueTitle).insertAfter(this.dom.condition)}this.s.value=[];this.dom.value=[$$3("<select disabled/>").addClass(this.classes.value).addClass(this.classes.dropDown).addClass(this.classes.italic).addClass(this.classes.select).append(this.dom.valueTitle.clone())]};Criteria.prototype._getOptions=function(){var table=this.s.dt;return $$3.extend(true,{},Criteria.defaults,table.settings()[0].aoColumns[this.s.dataIdx].searchBuilder)};Criteria.prototype._populateCondition=function(){var conditionOpts=[];var conditionsLength=Object.keys(this.s.conditions).length;var colInits=this.s.dt.settings()[0].aoColumns;var column=+this.dom.data.children("option:selected").val();if(conditionsLength===0){this.s.type=this.s.dt.columns().type().toArray()[column];if(colInits!==undefined){var colInit=colInits[column];if(colInit.searchBuilderType!==undefined&&colInit.searchBuilderType!==null){this.s.type=colInit.searchBuilderType}else if(this.s.type===undefined||this.s.type===null){this.s.type=colInit.sType}}if(this.s.type===null||this.s.type===undefined){$$3.fn.dataTable.ext.oApi._fnColumnTypes(this.s.dt.settings()[0]);this.s.type=this.s.dt.columns().type().toArray()[column]}this.dom.condition.removeAttr("disabled").empty().append(this.dom.conditionTitle).addClass(this.classes.italic);this.dom.conditionTitle.prop("selected",true);var decimal=this.s.dt.settings()[0].oLanguage.sDecimal;if(decimal!==""&&this.s.type.indexOf(decimal)===this.s.type.length-decimal.length){if(this.s.type.includes("num-fmt")){this.s.type=this.s.type.replace(decimal,"")}else if(this.s.type.includes("num")){this.s.type=this.s.type.replace(decimal,"")}}var conditionObj=this.c.conditions[this.s.type]!==undefined?this.c.conditions[this.s.type]:this.s.type.includes("moment")?this.c.conditions.moment:this.s.type.includes("luxon")?this.c.conditions.luxon:this.c.conditions.string;if(this.s.type.includes("moment")){this.s.dateFormat=this.s.type.replace(/moment-/g,"")}else if(this.s.type.includes("luxon")){this.s.dateFormat=this.s.type.replace(/luxon-/g,"")}for(var _i=0,_a=Object.keys(conditionObj);_i<_a.length;_i++){var condition=_a[_i];if(conditionObj[condition]!==null){if(this.s.dt.page.info().serverSide&&conditionObj[condition].init===Criteria.initSelect){var col=colInits[column];if(this.s.serverData&&this.s.serverData[col.data]){conditionObj[condition].init=Criteria.initSelectSSP;conditionObj[condition].inputValue=Criteria.inputValueSelect;conditionObj[condition].isInputValid=Criteria.isInputValidSelect}else{conditionObj[condition].init=Criteria.initInput;conditionObj[condition].inputValue=Criteria.inputValueInput;conditionObj[condition].isInputValid=Criteria.isInputValidInput}}this.s.conditions[condition]=conditionObj[condition];var condName=conditionObj[condition].conditionName;if(typeof condName==="function"){condName=condName(this.s.dt,this.c.i18n)}conditionOpts.push($$3("<option>",{text:condName,value:condition}).addClass(this.classes.option).addClass(this.classes.notItalic))}}}else if(conditionsLength>0){this.dom.condition.empty().removeAttr("disabled").addClass(this.classes.italic);for(var _b=0,_c=Object.keys(this.s.conditions);_b<_c.length;_b++){var condition=_c[_b];var condName=this.s.conditions[condition].conditionName;if(typeof condName==="function"){condName=condName(this.s.dt,this.c.i18n)}var newOpt=$$3("<option>",{text:condName,value:condition}).addClass(this.classes.option).addClass(this.classes.notItalic);if(this.s.condition!==undefined&&this.s.condition===condName){newOpt.prop("selected",true);this.dom.condition.removeClass(this.classes.italic)}conditionOpts.push(newOpt)}}else{this.dom.condition.attr("disabled","true").addClass(this.classes.italic);return}for(var _d=0,conditionOpts_1=conditionOpts;_d<conditionOpts_1.length;_d++){var opt=conditionOpts_1[_d];this.dom.condition.append(opt)}if(colInits[column].searchBuilder&&colInits[column].searchBuilder.defaultCondition){var defaultCondition=colInits[column].searchBuilder.defaultCondition;if(typeof defaultCondition==="number"){this.dom.condition.prop("selectedIndex",defaultCondition);this.dom.condition.trigger("change")}else if(typeof defaultCondition==="string"){for(var i=0;i<conditionOpts.length;i++){for(var _e=0,_f=Object.keys(this.s.conditions);_e<_f.length;_e++){var cond=_f[_e];var condName=this.s.conditions[cond].conditionName;if((typeof condName==="string"?condName:condName(this.s.dt,this.c.i18n))===conditionOpts[i].text()&&cond===defaultCondition){this.dom.condition.prop("selectedIndex",this.dom.condition.children().toArray().indexOf(conditionOpts[i][0])).removeClass(this.classes.italic);this.dom.condition.trigger("change");i=conditionOpts.length;break}}}}}else{this.dom.condition.prop("selectedIndex",0)}};Criteria.prototype._populateData=function(){var columns=this.s.dt.settings()[0].aoColumns;var includeColumns=this.s.dt.columns(this.c.columns).indexes().toArray();this.dom.data.empty().append(this.dom.dataTitle);for(var index=0;index<columns.length;index++){if(this.c.columns===true||includeColumns.includes(index)){var col=columns[index];var opt={index:index,origData:col.data,text:(col.searchBuilderTitle||col.sTitle).replace(/(<([^>]+)>)/gi,"")};this.dom.data.append($$3("<option>",{text:opt.text,value:opt.index}).addClass(this.classes.option).addClass(this.classes.notItalic).prop("origData",col.data).prop("selected",this.s.dataIdx===opt.index?true:false));if(this.s.dataIdx===opt.index){this.dom.dataTitle.removeProp("selected")}}}};Criteria.prototype._populateValue=function(loadedCriteria){var _this=this;var prevFilled=this.s.filled;this.s.filled=false;setTimeout(function(){_this.dom.defaultValue.remove()},50);var _loop_3=function(val){setTimeout(function(){if(val!==undefined){val.remove()}},50)};for(var _i=0,_a=this.dom.value;_i<_a.length;_i++){var val=_a[_i];_loop_3(val)}var children=this.dom.inputCont.children();if(children.length>1){for(var i=0;i<children.length;i++){$$3(children[i]).remove()}}if(loadedCriteria!==undefined){this.s.dt.columns().every(function(index){if(_this.s.dt.settings()[0].aoColumns[index].sTitle===loadedCriteria.data){_this.s.dataIdx=index}})}this.dom.value=[].concat(this.s.conditions[this.s.condition].init(this,Criteria.updateListener,loadedCriteria!==undefined?loadedCriteria.value:undefined));if(loadedCriteria!==undefined&&loadedCriteria.value!==undefined){this.s.value=loadedCriteria.value}this.dom.inputCont.empty();if(this.dom.value[0]!==undefined){this.dom.value[0].appendTo(this.dom.inputCont).trigger("dtsb-inserted")}for(var i=1;i<this.dom.value.length;i++){this.dom.value[i].insertAfter(this.dom.value[i-1]).trigger("dtsb-inserted")}this.s.filled=this.s.conditions[this.s.condition].isInputValid(this.dom.value,this);this.setListeners();if(!this.s.preventRedraw&&prevFilled!==this.s.filled){if(!this.s.dt.page.info().serverSide){this.s.dt.draw()}this.setListeners()}};Criteria.prototype._throttle=function(fn,frequency){if(frequency===void 0){frequency=200}var last=null;var timer=null;var that=this;if(frequency===null){frequency=200}return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}var now=+new Date;if(last!==null&&now<last+frequency){clearTimeout(timer)}else{last=now}timer=setTimeout(function(){last=null;fn.apply(that,args)},frequency)}};Criteria.version="1.1.0";Criteria.classes={button:"dtsb-button",buttonContainer:"dtsb-buttonContainer",condition:"dtsb-condition",container:"dtsb-criteria",data:"dtsb-data",delete:"dtsb-delete",dropDown:"dtsb-dropDown",greyscale:"dtsb-greyscale",input:"dtsb-input",inputCont:"dtsb-inputCont",italic:"dtsb-italic",joiner:"dtsp-joiner",left:"dtsb-left",notItalic:"dtsb-notItalic",option:"dtsb-option",right:"dtsb-right",select:"dtsb-select",value:"dtsb-value",vertical:"dtsb-vertical"};Criteria.initSelect=function(that,fn,preDefined,array){if(preDefined===void 0){preDefined=null}if(array===void 0){array=false}var column=that.dom.data.children("option:selected").val();var indexArray=that.s.dt.rows().indexes().toArray();var settings=that.s.dt.settings()[0];that.dom.valueTitle.prop("selected",true);var el=$$3("<select/>").addClass(Criteria.classes.value).addClass(Criteria.classes.dropDown).addClass(Criteria.classes.italic).addClass(Criteria.classes.select).append(that.dom.valueTitle).on("change.dtsb",function(){$$3(this).removeClass(Criteria.classes.italic);fn(that,this)});if(that.c.greyscale){el.addClass(Criteria.classes.greyscale)}var added=[];var options=[];for(var _i=0,indexArray_1=indexArray;_i<indexArray_1.length;_i++){var index=indexArray_1[_i];var filter=settings.oApi._fnGetCellData(settings,index,column,typeof that.c.orthogonal==="string"?that.c.orthogonal:that.c.orthogonal.search);var value={filter:typeof filter==="string"?filter.replace(/[\r\n\u2028]/g," "):filter,index:index,text:settings.oApi._fnGetCellData(settings,index,column,typeof that.c.orthogonal==="string"?that.c.orthogonal:that.c.orthogonal.display)};if(that.s.type==="array"){value.filter=!Array.isArray(value.filter)?[value.filter]:value.filter;value.text=!Array.isArray(value.text)?[value.text]:value.text}var addOption=function(filt,text){if(that.s.type.includes("html")&&filt!==null&&typeof filt==="string"){filt.replace(/(<([^>]+)>)/gi,"")}var opt=$$3("<option>",{type:Array.isArray(filt)?"Array":"String",value:filt}).data("sbv",filt).addClass(that.classes.option).addClass(that.classes.notItalic).html(typeof text==="string"?text.replace(/(<([^>]+)>)/gi,""):text);var val=opt.val();if(added.indexOf(val)===-1){added.push(val);options.push(opt);if(preDefined!==null&&Array.isArray(preDefined[0])){preDefined[0]=preDefined[0].sort().join(",")}if(preDefined!==null&&opt.val()===preDefined[0]){opt.prop("selected",true);el.removeClass(Criteria.classes.italic);that.dom.valueTitle.removeProp("selected")}}};if(array){for(var i=0;i<value.filter.length;i++){addOption(value.filter[i],value.text[i])}}else{addOption(value.filter,Array.isArray(value.text)?value.text.join(", "):value.text)}}options.sort(function(a,b){if(that.s.type==="array"||that.s.type==="string"||that.s.type==="html"){if(a.val()<b.val()){return-1}else if(a.val()>b.val()){return 1}else{return 0}}else if(that.s.type==="num"||that.s.type==="html-num"){if(+a.val().replace(/(<([^>]+)>)/gi,"")<+b.val().replace(/(<([^>]+)>)/gi,"")){return-1}else if(+a.val().replace(/(<([^>]+)>)/gi,"")>+b.val().replace(/(<([^>]+)>)/gi,"")){return 1}else{return 0}}else if(that.s.type==="num-fmt"||that.s.type==="html-num-fmt"){if(+a.val().replace(/[^0-9.]/g,"")<+b.val().replace(/[^0-9.]/g,"")){return-1}else if(+a.val().replace(/[^0-9.]/g,"")>+b.val().replace(/[^0-9.]/g,"")){return 1}else{return 0}}});for(var _a=0,options_1=options;_a<options_1.length;_a++){var opt=options_1[_a];el.append(opt)}return el};Criteria.initSelectSSP=function(that,fn,preDefined){if(preDefined===void 0){preDefined=null}that.dom.valueTitle.prop("selected",true);var el=$$3("<select/>").addClass(Criteria.classes.value).addClass(Criteria.classes.dropDown).addClass(Criteria.classes.italic).addClass(Criteria.classes.select).append(that.dom.valueTitle).on("change.dtsb",function(){$$3(this).removeClass(Criteria.classes.italic);fn(that,this)});if(that.c.greyscale){el.addClass(Criteria.classes.greyscale)}var options=[];for(var _i=0,_a=that.s.serverData[that.s.origData];_i<_a.length;_i++){var option=_a[_i];var value=option.value;var label=option.label;var addOption=function(filt,text){if(that.s.type.includes("html")&&filt!==null&&typeof filt==="string"){filt.replace(/(<([^>]+)>)/gi,"")}var opt=$$3("<option>",{type:Array.isArray(filt)?"Array":"String",value:filt}).data("sbv",filt).addClass(that.classes.option).addClass(that.classes.notItalic).html(typeof text==="string"?text.replace(/(<([^>]+)>)/gi,""):text);options.push(opt);if(preDefined!==null&&opt.val()===preDefined[0]){opt.prop("selected",true);el.removeClass(Criteria.classes.italic);that.dom.valueTitle.removeProp("selected")}};addOption(value,label)}for(var _b=0,options_2=options;_b<options_2.length;_b++){var opt=options_2[_b];el.append(opt)}return el};Criteria.initSelectArray=function(that,fn,preDefined){if(preDefined===void 0){preDefined=null}return Criteria.initSelect(that,fn,preDefined,true)};Criteria.initInput=function(that,fn,preDefined){if(preDefined===void 0){preDefined=null}var searchDelay=that.s.dt.settings()[0].searchDelay;var el=$$3("<input/>").addClass(Criteria.classes.value).addClass(Criteria.classes.input).on("input.dtsb keypress.dtsb",that._throttle(function(e){var code=e.keyCode||e.which;return fn(that,this,code)},searchDelay===null?100:searchDelay));if(that.c.greyscale){el.addClass(Criteria.classes.greyscale)}if(preDefined!==null){el.val(preDefined[0])}that.s.dt.one("draw.dtsb",function(){that.s.topGroup.trigger("dtsb-redrawLogic")});return el};Criteria.init2Input=function(that,fn,preDefined){if(preDefined===void 0){preDefined=null}var searchDelay=that.s.dt.settings()[0].searchDelay;var els=[$$3("<input/>").addClass(Criteria.classes.value).addClass(Criteria.classes.input).on("input.dtsb keypress.dtsb",that._throttle(function(e){var code=e.keyCode||e.which;return fn(that,this,code)},searchDelay===null?100:searchDelay)),$$3("<span>").addClass(that.classes.joiner).html(that.s.dt.i18n("searchBuilder.valueJoiner",that.c.i18n.valueJoiner)),$$3("<input/>").addClass(Criteria.classes.value).addClass(Criteria.classes.input).on("input.dtsb keypress.dtsb",that._throttle(function(e){var code=e.keyCode||e.which;return fn(that,this,code)},searchDelay===null?100:searchDelay))];if(that.c.greyscale){els[0].addClass(Criteria.classes.greyscale);els[2].addClass(Criteria.classes.greyscale)}if(preDefined!==null){els[0].val(preDefined[0]);els[2].val(preDefined[1])}that.s.dt.one("draw.dtsb",function(){that.s.topGroup.trigger("dtsb-redrawLogic")});return els};Criteria.initDate=function(that,fn,preDefined){if(preDefined===void 0){preDefined=null}var searchDelay=that.s.dt.settings()[0].searchDelay;var el=$$3("<input/>").addClass(Criteria.classes.value).addClass(Criteria.classes.input).dtDateTime({attachTo:"input",format:that.s.dateFormat?that.s.dateFormat:undefined}).on("change.dtsb",that._throttle(function(){return fn(that,this)},searchDelay===null?100:searchDelay)).on("input.dtsb keypress.dtsb",function(e){that._throttle(function(){var code=e.keyCode||e.which;return fn(that,this,code)},searchDelay===null?100:searchDelay)});if(that.c.greyscale){el.addClass(Criteria.classes.greyscale)}if(preDefined!==null){el.val(preDefined[0])}that.s.dt.one("draw.dtsb",function(){that.s.topGroup.trigger("dtsb-redrawLogic")});return el};Criteria.initNoValue=function(that){that.s.dt.one("draw.dtsb",function(){that.s.topGroup.trigger("dtsb-redrawLogic")});return[]};Criteria.init2Date=function(that,fn,preDefined){var _this=this;if(preDefined===void 0){preDefined=null}var searchDelay=that.s.dt.settings()[0].searchDelay;var els=[$$3("<input/>").addClass(Criteria.classes.value).addClass(Criteria.classes.input).dtDateTime({attachTo:"input",format:that.s.dateFormat?that.s.dateFormat:undefined}).on("change.dtsb",searchDelay!==null?that.s.dt.settings()[0].oApi._fnThrottle(function(){return fn(that,this)},searchDelay):function(){fn(that,_this)}).on("input.dtsb keypress.dtsb",function(e){that.s.dt.settings()[0].oApi._fnThrottle(function(){var code=e.keyCode||e.which;return fn(that,this,code)},searchDelay===null?0:searchDelay)}),$$3("<span>").addClass(that.classes.joiner).html(that.s.dt.i18n("searchBuilder.valueJoiner",that.c.i18n.valueJoiner)),$$3("<input/>").addClass(Criteria.classes.value).addClass(Criteria.classes.input).dtDateTime({attachTo:"input",format:that.s.dateFormat?that.s.dateFormat:undefined}).on("change.dtsb",searchDelay!==null?that.s.dt.settings()[0].oApi._fnThrottle(function(){return fn(that,this)},searchDelay):function(){fn(that,_this)}).on("input.dtsb keypress.dtsb",!that.c.enterSearch&&!(that.s.dt.settings()[0].oInit.search!==undefined&&that.s.dt.settings()[0].oInit.search["return"])&&searchDelay!==null?that.s.dt.settings()[0].oApi._fnThrottle(function(){return fn(that,this)},searchDelay):function(e){var code=e.keyCode||e.which;fn(that,_this,code)})];if(that.c.greyscale){els[0].addClass(Criteria.classes.greyscale);els[2].addClass(Criteria.classes.greyscale)}if(preDefined!==null&&preDefined.length>0){els[0].val(preDefined[0]);els[2].val(preDefined[1])}that.s.dt.one("draw.dtsb",function(){that.s.topGroup.trigger("dtsb-redrawLogic")});return els};Criteria.isInputValidSelect=function(el){var allFilled=true;for(var _i=0,el_1=el;_i<el_1.length;_i++){var element=el_1[_i];if(element.children("option:selected").length===element.children("option").length-element.children("option."+Criteria.classes.notItalic).length&&element.children("option:selected").length===1&&element.children("option:selected")[0]===element.children("option")[0]){allFilled=false}}return allFilled};Criteria.isInputValidInput=function(el){var allFilled=true;for(var _i=0,el_2=el;_i<el_2.length;_i++){var element=el_2[_i];if(element.is("input")&&element.val().length===0){allFilled=false}}return allFilled};Criteria.inputValueSelect=function(el){var values=[];for(var _i=0,el_3=el;_i<el_3.length;_i++){var element=el_3[_i];if(element.is("select")){values.push(Criteria._escapeHTML(element.children("option:selected").data("sbv")))}}return values};Criteria.inputValueInput=function(el){var values=[];for(var _i=0,el_4=el;_i<el_4.length;_i++){var element=el_4[_i];if(element.is("input")){values.push(Criteria._escapeHTML(element.val()))}}return values};Criteria.updateListener=function(that,el,code){var condition=that.s.conditions[that.s.condition];that.s.filled=condition.isInputValid(that.dom.value,that);that.s.value=condition.inputValue(that.dom.value,that);if(!that.s.filled){if(!that.c.enterSearch&&!(that.s.dt.settings()[0].oInit.search!==undefined&&that.s.dt.settings()[0].oInit.search["return"])||code===13){that.s.dt.draw()}return}if(!Array.isArray(that.s.value)){that.s.value=[that.s.value]}for(var i=0;i<that.s.value.length;i++){if(Array.isArray(that.s.value[i])){that.s.value[i].sort()}else if(that.s.type.includes("num")&&(that.s.dt.settings()[0].oLanguage.sDecimal!==""||that.s.dt.settings()[0].oLanguage.sThousands!=="")){var splitRD=[that.s.value[i].toString()];if(that.s.dt.settings()[0].oLanguage.sDecimal!==""){splitRD=that.s.value[i].split(that.s.dt.settings()[0].oLanguage.sDecimal)}if(that.s.dt.settings()[0].oLanguage.sThousands!==""){for(var j=0;j<splitRD.length;j++){splitRD[j]=splitRD[j].replace(that.s.dt.settings()[0].oLanguage.sThousands,",")}}that.s.value[i]=splitRD.join(".")}}var idx=null;var cursorPos=null;for(var i=0;i<that.dom.value.length;i++){if(el===that.dom.value[i][0]){idx=i;if(el.selectionStart!==undefined){cursorPos=el.selectionStart}}}if(!that.c.enterSearch&&!(that.s.dt.settings()[0].oInit.search!==undefined&&that.s.dt.settings()[0].oInit.search["return"])||code===13){that.s.dt.draw()}if(idx!==null){that.dom.value[idx].removeClass(that.classes.italic);that.dom.value[idx].focus();if(cursorPos!==null){that.dom.value[idx][0].setSelectionRange(cursorPos,cursorPos)}}};Criteria.dateConditions={"=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.equals",i18n.conditions.date.equals)},init:Criteria.initDate,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){value=value.replace(/(\/|-|,)/g,"-");return value===comparison[0]}},"!=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.not",i18n.conditions.date.not)},init:Criteria.initDate,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){value=value.replace(/(\/|-|,)/g,"-");return value!==comparison[0]}},"<":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.before",i18n.conditions.date.before)},init:Criteria.initDate,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){value=value.replace(/(\/|-|,)/g,"-");return value<comparison[0]}},">":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.after",i18n.conditions.date.after)},init:Criteria.initDate,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){value=value.replace(/(\/|-|,)/g,"-");return value>comparison[0]}},between:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.between",i18n.conditions.date.between)},init:Criteria.init2Date,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){value=value.replace(/(\/|-|,)/g,"-");if(comparison[0]<comparison[1]){return comparison[0]<=value&&value<=comparison[1]}else{return comparison[1]<=value&&value<=comparison[0]}}},"!between":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.notBetween",i18n.conditions.date.notBetween)},init:Criteria.init2Date,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){value=value.replace(/(\/|-|,)/g,"-");if(comparison[0]<comparison[1]){return!(comparison[0]<=value&&value<=comparison[1])}else{return!(comparison[1]<=value&&value<=comparison[0])}}},null:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.empty",i18n.conditions.date.empty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return value===null||value===undefined||value.length===0}},"!null":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.notEmpty",i18n.conditions.date.notEmpty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return!(value===null||value===undefined||value.length===0)}}};Criteria.momentDateConditions={"=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.equals",i18n.conditions.date.equals)},init:Criteria.initDate,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison,that){return moment()(value,that.s.dateFormat).valueOf()===moment()(comparison[0],that.s.dateFormat).valueOf()}},"!=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.not",i18n.conditions.date.not)},init:Criteria.initDate,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison,that){return moment()(value,that.s.dateFormat).valueOf()!==moment()(comparison[0],that.s.dateFormat).valueOf()}},"<":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.before",i18n.conditions.date.before)},init:Criteria.initDate,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison,that){return moment()(value,that.s.dateFormat).valueOf()<moment()(comparison[0],that.s.dateFormat).valueOf()}},">":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.after",i18n.conditions.date.after)},init:Criteria.initDate,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison,that){return moment()(value,that.s.dateFormat).valueOf()>moment()(comparison[0],that.s.dateFormat).valueOf()}},between:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.between",i18n.conditions.date.between)},init:Criteria.init2Date,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison,that){var val=moment()(value,that.s.dateFormat).valueOf();var comp0=moment()(comparison[0],that.s.dateFormat).valueOf();var comp1=moment()(comparison[1],that.s.dateFormat).valueOf();if(comp0<comp1){return comp0<=val&&val<=comp1}else{return comp1<=val&&val<=comp0}}},"!between":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.notBetween",i18n.conditions.date.notBetween)},init:Criteria.init2Date,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison,that){var val=moment()(value,that.s.dateFormat).valueOf();var comp0=moment()(comparison[0],that.s.dateFormat).valueOf();var comp1=moment()(comparison[1],that.s.dateFormat).valueOf();if(comp0<comp1){return!(+comp0<=+val&&+val<=+comp1)}else{return!(+comp1<=+val&&+val<=+comp0)}}},null:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.empty",i18n.conditions.date.empty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return value===null||value===undefined||value.length===0}},"!null":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.notEmpty",i18n.conditions.date.notEmpty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return!(value===null||value===undefined||value.length===0)}}};Criteria.luxonDateConditions={"=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.equals",i18n.conditions.date.equals)},init:Criteria.initDate,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison,that){return luxon().DateTime.fromFormat(value,that.s.dateFormat).ts===luxon().DateTime.fromFormat(comparison[0],that.s.dateFormat).ts}},"!=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.not",i18n.conditions.date.not)},init:Criteria.initDate,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison,that){return luxon().DateTime.fromFormat(value,that.s.dateFormat).ts!==luxon().DateTime.fromFormat(comparison[0],that.s.dateFormat).ts}},"<":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.before",i18n.conditions.date.before)},init:Criteria.initDate,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison,that){return luxon().DateTime.fromFormat(value,that.s.dateFormat).ts<luxon().DateTime.fromFormat(comparison[0],that.s.dateFormat).ts}},">":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.after",i18n.conditions.date.after)},init:Criteria.initDate,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison,that){return luxon().DateTime.fromFormat(value,that.s.dateFormat).ts>luxon().DateTime.fromFormat(comparison[0],that.s.dateFormat).ts}},between:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.between",i18n.conditions.date.between)},init:Criteria.init2Date,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison,that){var val=luxon().DateTime.fromFormat(value,that.s.dateFormat).ts;var comp0=luxon().DateTime.fromFormat(comparison[0],that.s.dateFormat).ts;var comp1=luxon().DateTime.fromFormat(comparison[1],that.s.dateFormat).ts;if(comp0<comp1){return comp0<=val&&val<=comp1}else{return comp1<=val&&val<=comp0}}},"!between":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.notBetween",i18n.conditions.date.notBetween)},init:Criteria.init2Date,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison,that){var val=luxon().DateTime.fromFormat(value,that.s.dateFormat).ts;var comp0=luxon().DateTime.fromFormat(comparison[0],that.s.dateFormat).ts;var comp1=luxon().DateTime.fromFormat(comparison[1],that.s.dateFormat).ts;if(comp0<comp1){return!(+comp0<=+val&&+val<=+comp1)}else{return!(+comp1<=+val&&+val<=+comp0)}}},null:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.empty",i18n.conditions.date.empty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return value===null||value===undefined||value.length===0}},"!null":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.date.notEmpty",i18n.conditions.date.notEmpty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return!(value===null||value===undefined||value.length===0)}}};Criteria.numConditions={"=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.equals",i18n.conditions.number.equals)},init:Criteria.initSelect,inputValue:Criteria.inputValueSelect,isInputValid:Criteria.isInputValidSelect,search:function(value,comparison){return+value===+comparison[0]}},"!=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.not",i18n.conditions.number.not)},init:Criteria.initSelect,inputValue:Criteria.inputValueSelect,isInputValid:Criteria.isInputValidSelect,search:function(value,comparison){return+value!==+comparison[0]}},"<":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.lt",i18n.conditions.number.lt)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return+value<+comparison[0]}},"<=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.lte",i18n.conditions.number.lte)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return+value<=+comparison[0]}},">=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.gte",i18n.conditions.number.gte)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return+value>=+comparison[0]}},">":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.gt",i18n.conditions.number.gt)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return+value>+comparison[0]}},between:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.between",i18n.conditions.number.between)},init:Criteria.init2Input,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){if(+comparison[0]<+comparison[1]){return+comparison[0]<=+value&&+value<=+comparison[1]}else{return+comparison[1]<=+value&&+value<=+comparison[0]}}},"!between":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.notBetween",i18n.conditions.number.notBetween)},init:Criteria.init2Input,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){if(+comparison[0]<+comparison[1]){return!(+comparison[0]<=+value&&+value<=+comparison[1])}else{return!(+comparison[1]<=+value&&+value<=+comparison[0])}}},null:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.empty",i18n.conditions.number.empty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return value===null||value===undefined||value.length===0}},"!null":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.notEmpty",i18n.conditions.number.notEmpty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return!(value===null||value===undefined||value.length===0)}}};Criteria.numFmtConditions={"=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.equals",i18n.conditions.number.equals)},init:Criteria.initSelect,inputValue:Criteria.inputValueSelect,isInputValid:Criteria.isInputValidSelect,search:function(value,comparison){return Criteria.parseNumFmt(value)===Criteria.parseNumFmt(comparison[0])}},"!=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.not",i18n.conditions.number.not)},init:Criteria.initSelect,inputValue:Criteria.inputValueSelect,isInputValid:Criteria.isInputValidSelect,search:function(value,comparison){return Criteria.parseNumFmt(value)!==Criteria.parseNumFmt(comparison[0])}},"<":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.lt",i18n.conditions.number.lt)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return Criteria.parseNumFmt(value)<Criteria.parseNumFmt(comparison[0])}},"<=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.lte",i18n.conditions.number.lte)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return Criteria.parseNumFmt(value)<=Criteria.parseNumFmt(comparison[0])}},">=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.gte",i18n.conditions.number.gte)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return Criteria.parseNumFmt(value)>=Criteria.parseNumFmt(comparison[0])}},">":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.gt",i18n.conditions.number.gt)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return Criteria.parseNumFmt(value)>Criteria.parseNumFmt(comparison[0])}},between:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.between",i18n.conditions.number.between)},init:Criteria.init2Input,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){var val=Criteria.parseNumFmt(value);var comp0=Criteria.parseNumFmt(comparison[0]);var comp1=Criteria.parseNumFmt(comparison[1]);if(+comp0<+comp1){return+comp0<=+val&&+val<=+comp1}else{return+comp1<=+val&&+val<=+comp0}}},"!between":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.notBetween",i18n.conditions.number.notBetween)},init:Criteria.init2Input,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){var val=Criteria.parseNumFmt(value);var comp0=Criteria.parseNumFmt(comparison[0]);var comp1=Criteria.parseNumFmt(comparison[1]);if(+comp0<+comp1){return!(+comp0<=+val&&+val<=+comp1)}else{return!(+comp1<=+val&&+val<=+comp0)}}},null:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.empty",i18n.conditions.number.empty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return value===null||value===undefined||value.length===0}},"!null":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.number.notEmpty",i18n.conditions.number.notEmpty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return!(value===null||value===undefined||value.length===0)}}};Criteria.stringConditions={"=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.string.equals",i18n.conditions.string.equals)},init:Criteria.initSelect,inputValue:Criteria.inputValueSelect,isInputValid:Criteria.isInputValidSelect,search:function(value,comparison){return value===comparison[0]}},"!=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.string.not",i18n.conditions.string.not)},init:Criteria.initSelect,inputValue:Criteria.inputValueSelect,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return value!==comparison[0]}},starts:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.string.startsWith",i18n.conditions.string.startsWith)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return value.toLowerCase().indexOf(comparison[0].toLowerCase())===0}},"!starts":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.string.notStartsWith",i18n.conditions.string.notStartsWith)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return value.toLowerCase().indexOf(comparison[0].toLowerCase())!==0}},contains:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.string.contains",i18n.conditions.string.contains)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return value.toLowerCase().includes(comparison[0].toLowerCase())}},"!contains":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.string.notContains",i18n.conditions.string.notContains)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return!value.toLowerCase().includes(comparison[0].toLowerCase())}},ends:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.string.endsWith",i18n.conditions.string.endsWith)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return value.toLowerCase().endsWith(comparison[0].toLowerCase())}},"!ends":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.string.notEndsWith",i18n.conditions.string.notEndsWith)},init:Criteria.initInput,inputValue:Criteria.inputValueInput,isInputValid:Criteria.isInputValidInput,search:function(value,comparison){return!value.toLowerCase().endsWith(comparison[0].toLowerCase())}},null:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.string.empty",i18n.conditions.string.empty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return value===null||value===undefined||value.length===0}},"!null":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.string.notEmpty",i18n.conditions.string.notEmpty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return!(value===null||value===undefined||value.length===0)}}};Criteria.arrayConditions={contains:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.array.contains",i18n.conditions.array.contains)},init:Criteria.initSelectArray,inputValue:Criteria.inputValueSelect,isInputValid:Criteria.isInputValidSelect,search:function(value,comparison){return value.includes(comparison[0])}},without:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.array.without",i18n.conditions.array.without)},init:Criteria.initSelectArray,inputValue:Criteria.inputValueSelect,isInputValid:Criteria.isInputValidSelect,search:function(value,comparison){return value.indexOf(comparison[0])===-1}},"=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.array.equals",i18n.conditions.array.equals)},init:Criteria.initSelect,inputValue:Criteria.inputValueSelect,isInputValid:Criteria.isInputValidSelect,search:function(value,comparison){if(value.length===comparison[0].length){for(var i=0;i<value.length;i++){if(value[i]!==comparison[0][i]){return false}}return true}return false}},"!=":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.array.not",i18n.conditions.array.not)},init:Criteria.initSelect,inputValue:Criteria.inputValueSelect,isInputValid:Criteria.isInputValidSelect,search:function(value,comparison){if(value.length===comparison[0].length){for(var i=0;i<value.length;i++){if(value[i]!==comparison[0][i]){return true}}return false}return true}},null:{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.array.empty",i18n.conditions.array.empty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return value===null||value===undefined||value.length===0}},"!null":{conditionName:function(dt,i18n){return dt.i18n("searchBuilder.conditions.array.notEmpty",i18n.conditions.array.notEmpty)},init:Criteria.initNoValue,inputValue:function(){return},isInputValid:function(){return true},search:function(value){return value!==null&&value!==undefined&&value.length!==0}}};Criteria.defaults={columns:true,conditions:{array:Criteria.arrayConditions,date:Criteria.dateConditions,html:Criteria.stringConditions,"html-num":Criteria.numConditions,"html-num-fmt":Criteria.numFmtConditions,luxon:Criteria.luxonDateConditions,moment:Criteria.momentDateConditions,num:Criteria.numConditions,"num-fmt":Criteria.numFmtConditions,string:Criteria.stringConditions},depthLimit:false,enterSearch:false,filterChanged:undefined,greyscale:false,i18n:{add:"Add Condition",button:{0:"Search Builder",_:"Search Builder (%d)"},clearAll:"Clear All",condition:"Condition",data:"Data",delete:"&times",deleteTitle:"Delete filtering rule",left:"<",leftTitle:"Outdent criteria",logicAnd:"And",logicOr:"Or",right:">",rightTitle:"Indent criteria",title:{0:"Custom Search Builder",_:"Custom Search Builder (%d)"},value:"Value",valueJoiner:"and"},logic:"AND",orthogonal:{display:"display",search:"filter"},preDefined:false};return Criteria}();var $$2;var dataTable$2;function setJQuery$1(jq){$$2=jq;dataTable$2=jq.fn.dataTable}var Group=function(){function Group(table,opts,topGroup,index,isChild,depth,serverData){if(index===void 0){index=0}if(isChild===void 0){isChild=false}if(depth===void 0){depth=1}if(serverData===void 0){serverData=undefined}if(!dataTable$2||!dataTable$2.versionCheck||!dataTable$2.versionCheck("1.10.0")){throw new Error("SearchBuilder requires DataTables 1.10 or newer")}this.classes=$$2.extend(true,{},Group.classes);this.c=$$2.extend(true,{},Group.defaults,opts);this.s={criteria:[],depth:depth,dt:table,index:index,isChild:isChild,logic:undefined,opts:opts,preventRedraw:false,serverData:serverData,toDrop:undefined,topGroup:topGroup};this.dom={add:$$2("<button/>").addClass(this.classes.add).addClass(this.classes.button).attr("type","button"),clear:$$2("<button>&times</button>").addClass(this.classes.button).addClass(this.classes.clearGroup).attr("type","button"),container:$$2("<div/>").addClass(this.classes.group),logic:$$2("<button><div/></button>").addClass(this.classes.logic).addClass(this.classes.button).attr("type","button"),logicContainer:$$2("<div/>").addClass(this.classes.logicContainer)};if(this.s.topGroup===undefined){this.s.topGroup=this.dom.container}this._setup();return this}Group.prototype.destroy=function(){this.dom.add.off(".dtsb");this.dom.logic.off(".dtsb");this.dom.container.trigger("dtsb-destroy").remove();this.s.criteria=[]};Group.prototype.getDetails=function(deFormatDates){if(deFormatDates===void 0){deFormatDates=false}if(this.s.criteria.length===0){return{}}var details={criteria:[],logic:this.s.logic};for(var _i=0,_a=this.s.criteria;_i<_a.length;_i++){var crit=_a[_i];details.criteria.push(crit.criteria.getDetails(deFormatDates))}return details};Group.prototype.getNode=function(){return this.dom.container};Group.prototype.rebuild=function(loadedDetails){if(loadedDetails.criteria===undefined||loadedDetails.criteria===null||Array.isArray(loadedDetails.criteria)&&loadedDetails.criteria.length===0){return}this.s.logic=loadedDetails.logic;this.dom.logic.children().first().html(this.s.logic==="OR"?this.s.dt.i18n("searchBuilder.logicOr",this.c.i18n.logicOr):this.s.dt.i18n("searchBuilder.logicAnd",this.c.i18n.logicAnd));if(Array.isArray(loadedDetails.criteria)){for(var _i=0,_a=loadedDetails.criteria;_i<_a.length;_i++){var crit=_a[_i];if(crit.logic!==undefined){this._addPrevGroup(crit)}else if(crit.logic===undefined){this._addPrevCriteria(crit)}}}for(var _b=0,_c=this.s.criteria;_b<_c.length;_b++){var crit=_c[_b];if(crit.criteria instanceof Criteria){crit.criteria.updateArrows(this.s.criteria.length>1);this._setCriteriaListeners(crit.criteria)}}};Group.prototype.redrawContents=function(){if(this.s.preventRedraw){return}this.dom.container.children().detach();this.dom.container.append(this.dom.logicContainer).append(this.dom.add);this.s.criteria.sort(function(a,b){if(a.criteria.s.index<b.criteria.s.index){return-1}else if(a.criteria.s.index>b.criteria.s.index){return 1}return 0});this.setListeners();for(var i=0;i<this.s.criteria.length;i++){var crit=this.s.criteria[i].criteria;if(crit instanceof Criteria){this.s.criteria[i].index=i;this.s.criteria[i].criteria.s.index=i;this.s.criteria[i].criteria.dom.container.insertBefore(this.dom.add);this._setCriteriaListeners(crit);this.s.criteria[i].criteria.s.preventRedraw=this.s.preventRedraw;this.s.criteria[i].criteria.rebuild(this.s.criteria[i].criteria.getDetails());this.s.criteria[i].criteria.s.preventRedraw=false}else if(crit instanceof Group&&crit.s.criteria.length>0){this.s.criteria[i].index=i;this.s.criteria[i].criteria.s.index=i;this.s.criteria[i].criteria.dom.container.insertBefore(this.dom.add);crit.s.preventRedraw=this.s.preventRedraw;crit.redrawContents();crit.s.preventRedraw=false;this._setGroupListeners(crit)}else{this.s.criteria.splice(i,1);i--}}this.setupLogic()};Group.prototype.redrawLogic=function(){for(var _i=0,_a=this.s.criteria;_i<_a.length;_i++){var crit=_a[_i];if(crit.criteria instanceof Group){crit.criteria.redrawLogic()}}this.setupLogic()};Group.prototype.search=function(rowData,rowIdx){if(this.s.logic==="AND"){return this._andSearch(rowData,rowIdx)}else if(this.s.logic==="OR"){return this._orSearch(rowData,rowIdx)}return true};Group.prototype.setupLogic=function(){this.dom.logicContainer.remove();this.dom.clear.remove();if(this.s.criteria.length<1){if(!this.s.isChild){this.dom.container.trigger("dtsb-destroy");this.dom.container.css("margin-left",0)}return}this.dom.clear.height("0px");this.dom.logicContainer.append(this.dom.clear);this.dom.container.prepend(this.dom.logicContainer);for(var _i=0,_a=this.s.criteria;_i<_a.length;_i++){var crit=_a[_i];if(crit.criteria instanceof Criteria){crit.criteria.setupButtons()}}var height=this.dom.container.outerHeight()-1;this.dom.logicContainer.width(height);this._setLogicListener();this.dom.container.css("margin-left",this.dom.logicContainer.outerHeight(true));var logicOffset=this.dom.logicContainer.offset();var currentLeft=logicOffset.left;var groupLeft=this.dom.container.offset().left;var shuffleLeft=currentLeft-groupLeft;var newPos=currentLeft-shuffleLeft-this.dom.logicContainer.outerHeight(true);this.dom.logicContainer.offset({left:newPos});var firstCrit=this.dom.logicContainer.next();var currentTop=logicOffset.top;var firstTop=$$2(firstCrit).offset().top;var shuffleTop=currentTop-firstTop;var newTop=currentTop-shuffleTop;this.dom.logicContainer.offset({top:newTop});this.dom.clear.outerHeight(this.dom.logicContainer.height());this._setClearListener()};Group.prototype.setListeners=function(){var _this=this;this.dom.add.unbind("click");this.dom.add.on("click.dtsb",function(){if(!_this.s.isChild){_this.dom.container.prepend(_this.dom.logicContainer)}_this.addCriteria();_this.dom.container.trigger("dtsb-add");_this.s.dt.state.save();return false});for(var _i=0,_a=this.s.criteria;_i<_a.length;_i++){var crit=_a[_i];crit.criteria.setListeners()}this._setClearListener();this._setLogicListener()};Group.prototype.addCriteria=function(crit){if(crit===void 0){crit=null}var index=crit===null?this.s.criteria.length:crit.s.index;var criteria=new Criteria(this.s.dt,this.s.opts,this.s.topGroup,index,this.s.depth,this.s.serverData);if(crit!==null){criteria.c=crit.c;criteria.s=crit.s;criteria.s.depth=this.s.depth;criteria.classes=crit.classes}criteria.populate();var inserted=false;for(var i=0;i<this.s.criteria.length;i++){if(i===0&&this.s.criteria[i].criteria.s.index>criteria.s.index){criteria.getNode().insertBefore(this.s.criteria[i].criteria.dom.container);inserted=true}else if(i<this.s.criteria.length-1&&this.s.criteria[i].criteria.s.index<criteria.s.index&&this.s.criteria[i+1].criteria.s.index>criteria.s.index){criteria.getNode().insertAfter(this.s.criteria[i].criteria.dom.container);inserted=true}}if(!inserted){criteria.getNode().insertBefore(this.dom.add)}this.s.criteria.push({criteria:criteria,index:index});this.s.criteria=this.s.criteria.sort(function(a,b){return a.criteria.s.index-b.criteria.s.index});for(var _i=0,_a=this.s.criteria;_i<_a.length;_i++){var opt=_a[_i];if(opt.criteria instanceof Criteria){opt.criteria.updateArrows(this.s.criteria.length>1)}}this._setCriteriaListeners(criteria);criteria.setListeners();this.setupLogic()};Group.prototype.checkFilled=function(){for(var _i=0,_a=this.s.criteria;_i<_a.length;_i++){var crit=_a[_i];if(crit.criteria instanceof Criteria&&crit.criteria.s.filled||crit.criteria instanceof Group&&crit.criteria.checkFilled()){return true}}return false};Group.prototype.count=function(){var count=0;for(var _i=0,_a=this.s.criteria;_i<_a.length;_i++){var crit=_a[_i];if(crit.criteria instanceof Group){count+=crit.criteria.count()}else{count++}}return count};Group.prototype._addPrevGroup=function(loadedGroup){var idx=this.s.criteria.length;var group=new Group(this.s.dt,this.c,this.s.topGroup,idx,true,this.s.depth+1,this.s.serverData);this.s.criteria.push({criteria:group,index:idx,logic:group.s.logic});group.rebuild(loadedGroup);this.s.criteria[idx].criteria=group;this.s.topGroup.trigger("dtsb-redrawContents");this._setGroupListeners(group)};Group.prototype._addPrevCriteria=function(loadedCriteria){var idx=this.s.criteria.length;var criteria=new Criteria(this.s.dt,this.s.opts,this.s.topGroup,idx,this.s.depth,this.s.serverData);criteria.populate();this.s.criteria.push({criteria:criteria,index:idx});criteria.s.preventRedraw=this.s.preventRedraw;criteria.rebuild(loadedCriteria);criteria.s.preventRedraw=false;this.s.criteria[idx].criteria=criteria;if(!this.s.preventRedraw){this.s.topGroup.trigger("dtsb-redrawContents")}};Group.prototype._andSearch=function(rowData,rowIdx){if(this.s.criteria.length===0){return true}for(var _i=0,_a=this.s.criteria;_i<_a.length;_i++){var crit=_a[_i];if(crit.criteria instanceof Criteria&&!crit.criteria.s.filled){continue}else if(!crit.criteria.search(rowData,rowIdx)){return false}}return true};Group.prototype._orSearch=function(rowData,rowIdx){if(this.s.criteria.length===0){return true}var filledfound=false;for(var _i=0,_a=this.s.criteria;_i<_a.length;_i++){var crit=_a[_i];if(crit.criteria instanceof Criteria&&crit.criteria.s.filled){filledfound=true;if(crit.criteria.search(rowData,rowIdx)){return true}}else if(crit.criteria instanceof Group&&crit.criteria.checkFilled()){filledfound=true;if(crit.criteria.search(rowData,rowIdx)){return true}}}return!filledfound};Group.prototype._removeCriteria=function(criteria,group){if(group===void 0){group=false}if(this.s.criteria.length<=1&&this.s.isChild){this.destroy()}else{var last=void 0;for(var i=0;i<this.s.criteria.length;i++){if(this.s.criteria[i].index===criteria.s.index&&(!group||this.s.criteria[i].criteria instanceof Group)){last=i}}if(last!==undefined){this.s.criteria.splice(last,1)}for(var i=0;i<this.s.criteria.length;i++){this.s.criteria[i].index=i;this.s.criteria[i].criteria.s.index=i}}};Group.prototype._setCriteriaListeners=function(criteria){var _this=this;criteria.dom["delete"].unbind("click").on("click.dtsb",function(){_this._removeCriteria(criteria);criteria.dom.container.remove();for(var _i=0,_a=_this.s.criteria;_i<_a.length;_i++){var crit=_a[_i];if(crit.criteria instanceof Criteria){crit.criteria.updateArrows(_this.s.criteria.length>1)}}criteria.destroy();_this.s.dt.draw();_this.s.topGroup.trigger("dtsb-redrawContents");return false});criteria.dom.right.unbind("click").on("click.dtsb",function(){var idx=criteria.s.index;var group=new Group(_this.s.dt,_this.s.opts,_this.s.topGroup,criteria.s.index,true,_this.s.depth+1,_this.s.serverData);group.addCriteria(criteria);_this.s.criteria[idx].criteria=group;_this.s.criteria[idx].logic="AND";_this.s.topGroup.trigger("dtsb-redrawContents");_this._setGroupListeners(group);return false});criteria.dom.left.unbind("click").on("click.dtsb",function(){_this.s.toDrop=new Criteria(_this.s.dt,_this.s.opts,_this.s.topGroup,criteria.s.index,undefined,_this.s.serverData);_this.s.toDrop.s=criteria.s;_this.s.toDrop.c=criteria.c;_this.s.toDrop.classes=criteria.classes;_this.s.toDrop.populate();var index=_this.s.toDrop.s.index;_this.dom.container.trigger("dtsb-dropCriteria");criteria.s.index=index;_this._removeCriteria(criteria);_this.s.topGroup.trigger("dtsb-redrawContents");_this.s.dt.draw();return false})};Group.prototype._setClearListener=function(){var _this=this;this.dom.clear.unbind("click").on("click.dtsb",function(){if(!_this.s.isChild){_this.dom.container.trigger("dtsb-clearContents");return false}_this.destroy();_this.s.topGroup.trigger("dtsb-redrawContents");return false})};Group.prototype._setGroupListeners=function(group){var _this=this;group.dom.add.unbind("click").on("click.dtsb",function(){_this.setupLogic();_this.dom.container.trigger("dtsb-add");return false});group.dom.container.unbind("dtsb-add").on("dtsb-add.dtsb",function(){_this.setupLogic();_this.dom.container.trigger("dtsb-add");return false});group.dom.container.unbind("dtsb-destroy").on("dtsb-destroy.dtsb",function(){_this._removeCriteria(group,true);group.dom.container.remove();_this.setupLogic();return false});group.dom.container.unbind("dtsb-dropCriteria").on("dtsb-dropCriteria.dtsb",function(){var toDrop=group.s.toDrop;toDrop.s.index=group.s.index;toDrop.updateArrows(_this.s.criteria.length>1);_this.addCriteria(toDrop);return false});group.setListeners()};Group.prototype._setup=function(){this.setListeners();this.dom.add.html(this.s.dt.i18n("searchBuilder.add",this.c.i18n.add));this.dom.logic.children().first().html(this.c.logic==="OR"?this.s.dt.i18n("searchBuilder.logicOr",this.c.i18n.logicOr):this.s.dt.i18n("searchBuilder.logicAnd",this.c.i18n.logicAnd));this.s.logic=this.c.logic==="OR"?"OR":"AND";if(this.c.greyscale){this.dom.logic.addClass(this.classes.greyscale)}this.dom.logicContainer.append(this.dom.logic).append(this.dom.clear);if(this.s.isChild){this.dom.container.append(this.dom.logicContainer)}this.dom.container.append(this.dom.add)};Group.prototype._setLogicListener=function(){var _this=this;this.dom.logic.unbind("click").on("click.dtsb",function(){_this._toggleLogic();_this.s.dt.draw();for(var _i=0,_a=_this.s.criteria;_i<_a.length;_i++){var crit=_a[_i];crit.criteria.setListeners()}})};Group.prototype._toggleLogic=function(){if(this.s.logic==="OR"){this.s.logic="AND";this.dom.logic.children().first().html(this.s.dt.i18n("searchBuilder.logicAnd",this.c.i18n.logicAnd))}else if(this.s.logic==="AND"){this.s.logic="OR";this.dom.logic.children().first().html(this.s.dt.i18n("searchBuilder.logicOr",this.c.i18n.logicOr))}};Group.version="1.1.0";Group.classes={add:"dtsb-add",button:"dtsb-button",clearGroup:"dtsb-clearGroup",greyscale:"dtsb-greyscale",group:"dtsb-group",inputButton:"dtsb-iptbtn",logic:"dtsb-logic",logicContainer:"dtsb-logicContainer"};Group.defaults={columns:true,conditions:{date:Criteria.dateConditions,html:Criteria.stringConditions,"html-num":Criteria.numConditions,"html-num-fmt":Criteria.numFmtConditions,luxon:Criteria.luxonDateConditions,moment:Criteria.momentDateConditions,num:Criteria.numConditions,"num-fmt":Criteria.numFmtConditions,string:Criteria.stringConditions},depthLimit:false,enterSearch:false,filterChanged:undefined,greyscale:false,i18n:{add:"Add Condition",button:{0:"Search Builder",_:"Search Builder (%d)"},clearAll:"Clear All",condition:"Condition",data:"Data",delete:"&times",deleteTitle:"Delete filtering rule",left:"<",leftTitle:"Outdent criteria",logicAnd:"And",logicOr:"Or",right:">",rightTitle:"Indent criteria",title:{0:"Custom Search Builder",_:"Custom Search Builder (%d)"},value:"Value",valueJoiner:"and"},logic:"AND",orthogonal:{display:"display",search:"filter"},preDefined:false};return Group}();var $$1;var dataTable$1;function setJQuery(jq){$$1=jq;dataTable$1=jq.fn.DataTable}var SearchBuilder=function(){function SearchBuilder(builderSettings,opts){var _this=this;if(!dataTable$1||!dataTable$1.versionCheck||!dataTable$1.versionCheck("1.10.0")){throw new Error("SearchBuilder requires DataTables 1.10 or newer")}var table=new dataTable$1.Api(builderSettings);this.classes=$$1.extend(true,{},SearchBuilder.classes);this.c=$$1.extend(true,{},SearchBuilder.defaults,opts);this.dom={clearAll:$$1('<button type="button">'+table.i18n("searchBuilder.clearAll",this.c.i18n.clearAll)+"</button>").addClass(this.classes.clearAll).addClass(this.classes.button).attr("type","button"),container:$$1("<div/>").addClass(this.classes.container),title:$$1("<div/>").addClass(this.classes.title),titleRow:$$1("<div/>").addClass(this.classes.titleRow),topGroup:undefined};this.s={dt:table,opts:opts,search:undefined,serverData:undefined,topGroup:undefined};if(table.settings()[0]._searchBuilder!==undefined){return}table.settings()[0]._searchBuilder=this;if(this.s.dt.page.info().serverSide){this.s.dt.on("preXhr.dtsb",function(e,settings,data){var loadedState=_this.s.dt.state.loaded();if(loadedState&&loadedState.searchBuilder){data.searchBuilder=_this._collapseArray(loadedState.searchBuilder)}});this.s.dt.on("xhr.dtsb",function(e,settings,json){if(json&&json.searchBuilder&&json.searchBuilder.options){_this.s.serverData=json.searchBuilder.options}})}if(this.s.dt.settings()[0]._bInitComplete){this._setUp()}else{table.one("init.dt",function(){_this._setUp()})}return this}SearchBuilder.prototype.getDetails=function(deFormatDates){if(deFormatDates===void 0){deFormatDates=false}return this.s.topGroup.getDetails(deFormatDates)};SearchBuilder.prototype.getNode=function(){return this.dom.container};SearchBuilder.prototype.rebuild=function(details){this.dom.clearAll.click();if(details===undefined||details===null){return this}this.s.topGroup.s.preventRedraw=true;this.s.topGroup.rebuild(details);this.s.topGroup.s.preventRedraw=false;this._checkClear();this._updateTitle(this.s.topGroup.count());this.s.topGroup.redrawContents();this.s.dt.draw(false);this.s.topGroup.setListeners();return this};SearchBuilder.prototype._applyPreDefDefaults=function(preDef){var _this=this;if(preDef.criteria!==undefined&&preDef.logic===undefined){preDef.logic="AND"}var _loop_1=function(crit){if(crit.criteria!==undefined){crit=this_1._applyPreDefDefaults(crit)}else{this_1.s.dt.columns().every(function(index){if(_this.s.dt.settings()[0].aoColumns[index].sTitle===crit.data){crit.dataIdx=index}})}};var this_1=this;for(var _i=0,_a=preDef.criteria;_i<_a.length;_i++){var crit=_a[_i];_loop_1(crit)}return preDef};SearchBuilder.prototype._setUp=function(loadState){var _this=this;if(loadState===void 0){loadState=true}$$1.fn.DataTable.Api.registerPlural("columns().type()","column().type()",function(){return this.iterator("column",function(settings,column){return settings.aoColumns[column].sType},1)});if(!dataTable$1.DateTime){var types=this.s.dt.columns().type().toArray();if(types===undefined||types.includes(undefined)||types.includes(null)){types=[];for(var _i=0,_a=this.s.dt.settings()[0].aoColumns;_i<_a.length;_i++){var colInit=_a[_i];types.push(colInit.searchBuilderType!==undefined?colInit.searchBuilderType:colInit.sType)}}var columnIdxs=this.s.dt.columns().toArray();if(types===undefined||types.includes(undefined)||types.includes(null)){$$1.fn.dataTable.ext.oApi._fnColumnTypes(this.s.dt.settings()[0]);types=this.s.dt.columns().type().toArray()}for(var i=0;i<columnIdxs[0].length;i++){var column=columnIdxs[0][i];var type=types[column];if((this.c.columns===true||Array.isArray(this.c.columns)&&this.c.columns.includes(i))&&(type.includes("date")||type.includes("moment")||type.includes("luxon"))){alert("SearchBuilder Requires DateTime when used with dates.");throw new Error("SearchBuilder requires DateTime")}}}this.s.topGroup=new Group(this.s.dt,this.c,undefined,undefined,undefined,undefined,this.s.serverData);this._setClearListener();this.s.dt.on("stateSaveParams.dtsb",function(e,settings,data){data.searchBuilder=_this.getDetails();if(!data.scroller){data.page=_this.s.dt.page()}else{data.start=_this.s.dt.state().start}});this.s.dt.on("stateLoadParams.dtsb",function(e,settings,data){_this.rebuild(data.searchBuilder)});this._build();this.s.dt.on("preXhr.dtsb",function(e,settings,data){if(_this.s.dt.page.info().serverSide){data.searchBuilder=_this._collapseArray(_this.getDetails(true))}});this.s.dt.on("column-reorder",function(){_this.rebuild(_this.getDetails())});if(loadState){var loadedState=this.s.dt.state.loaded();if(loadedState!==null&&loadedState.searchBuilder!==undefined){this.s.topGroup.rebuild(loadedState.searchBuilder);this.s.topGroup.dom.container.trigger("dtsb-redrawContents");if(!this.s.dt.page.info().serverSide){if(loadedState.page){this.s.dt.page(loadedState.page).draw("page")}else if(this.s.dt.scroller&&loadedState.scroller){this.s.dt.scroller().scrollToRow(loadedState.scroller.topRow)}}this.s.topGroup.setListeners()}else if(this.c.preDefined!==false){this.c.preDefined=this._applyPreDefDefaults(this.c.preDefined);this.rebuild(this.c.preDefined)}}this._setEmptyListener();this.s.dt.state.save()};SearchBuilder.prototype._collapseArray=function(criteria){if(criteria.logic===undefined){if(criteria.value!==undefined){criteria.value.sort(function(a,b){if(!isNaN(+a)){a=+a;b=+b}if(a<b){return-1}else if(b<a){return 1}else{return 0}});criteria.value1=criteria.value[0];criteria.value2=criteria.value[1]}}else{for(var i=0;i<criteria.criteria.length;i++){criteria.criteria[i]=this._collapseArray(criteria.criteria[i])}}return criteria};SearchBuilder.prototype._updateTitle=function(count){this.dom.title.html(this.s.dt.i18n("searchBuilder.title",this.c.i18n.title,count))};SearchBuilder.prototype._build=function(){var _this=this;this.dom.clearAll.remove();this.dom.container.empty();var count=this.s.topGroup.count();this._updateTitle(count);this.dom.titleRow.append(this.dom.title);this.dom.container.append(this.dom.titleRow);this.dom.topGroup=this.s.topGroup.getNode();this.dom.container.append(this.dom.topGroup);this._setRedrawListener();var tableNode=this.s.dt.table(0).node();if(!$$1.fn.dataTable.ext.search.includes(this.s.search)){this.s.search=function(settings,searchData,dataIndex){if(settings.nTable!==tableNode){return true}return _this.s.topGroup.search(searchData,dataIndex)};$$1.fn.dataTable.ext.search.push(this.s.search)}this.s.dt.on("destroy.dtsb",function(){_this.dom.container.remove();_this.dom.clearAll.remove();var searchIdx=$$1.fn.dataTable.ext.search.indexOf(_this.s.search);while(searchIdx!==-1){$$1.fn.dataTable.ext.search.splice(searchIdx,1);searchIdx=$$1.fn.dataTable.ext.search.indexOf(_this.s.search)}_this.s.dt.off(".dtsb");$$1(_this.s.dt.table().node()).off(".dtsb")})};SearchBuilder.prototype._checkClear=function(){if(this.s.topGroup.s.criteria.length>0){this.dom.clearAll.insertAfter(this.dom.title);this._setClearListener()}else{this.dom.clearAll.remove()}};SearchBuilder.prototype._filterChanged=function(count){var fn=this.c.filterChanged;if(typeof fn==="function"){fn(count,this.s.dt.i18n("searchBuilder.button",this.c.i18n.button,count))}};SearchBuilder.prototype._setClearListener=function(){var _this=this;this.dom.clearAll.unbind("click");this.dom.clearAll.on("click.dtsb",function(){_this.s.topGroup=new Group(_this.s.dt,_this.c,undefined,undefined,undefined,undefined,_this.s.serverData);_this._build();_this.s.dt.draw();_this.s.topGroup.setListeners();_this.dom.clearAll.remove();_this._setEmptyListener();_this._filterChanged(0);return false})};SearchBuilder.prototype._setRedrawListener=function(){var _this=this;this.s.topGroup.dom.container.unbind("dtsb-redrawContents");this.s.topGroup.dom.container.on("dtsb-redrawContents.dtsb",function(){_this._checkClear();_this.s.topGroup.redrawContents();_this.s.topGroup.setupLogic();_this._setEmptyListener();var count=_this.s.topGroup.count();_this._updateTitle(count);_this._filterChanged(count);if(!_this.s.dt.page.info().serverSide){_this.s.dt.draw()}_this.s.dt.state.save()});this.s.topGroup.dom.container.unbind("dtsb-redrawContents-noDraw");this.s.topGroup.dom.container.on("dtsb-redrawContents-noDraw.dtsb",function(){_this._checkClear();_this.s.topGroup.s.preventRedraw=true;_this.s.topGroup.redrawContents();_this.s.topGroup.s.preventRedraw=false;_this.s.topGroup.setupLogic();_this._setEmptyListener();var count=_this.s.topGroup.count();_this._updateTitle(count);_this._filterChanged(count)});this.s.topGroup.dom.container.unbind("dtsb-redrawLogic");this.s.topGroup.dom.container.on("dtsb-redrawLogic.dtsb",function(){_this.s.topGroup.redrawLogic();var count=_this.s.topGroup.count();_this._updateTitle(count);_this._filterChanged(count)});this.s.topGroup.dom.container.unbind("dtsb-add");this.s.topGroup.dom.container.on("dtsb-add.dtsb",function(){var count=_this.s.topGroup.count();_this._updateTitle(count);_this._filterChanged(count)});this.s.dt.on("postEdit.dtsb postCreate.dtsb postRemove.dtsb",function(){_this.s.topGroup.redrawContents()});this.s.topGroup.dom.container.unbind("dtsb-clearContents");this.s.topGroup.dom.container.on("dtsb-clearContents.dtsb",function(){_this._setUp(false);_this._filterChanged(0);_this.s.dt.draw()})};SearchBuilder.prototype._setEmptyListener=function(){var _this=this;this.s.topGroup.dom.add.on("click.dtsb",function(){_this._checkClear()});this.s.topGroup.dom.container.on("dtsb-destroy.dtsb",function(){_this.dom.clearAll.remove()})};SearchBuilder.version="1.4.2";SearchBuilder.classes={button:"dtsb-button",clearAll:"dtsb-clearAll",container:"dtsb-searchBuilder",inputButton:"dtsb-iptbtn",title:"dtsb-title",titleRow:"dtsb-titleRow"};SearchBuilder.defaults={columns:true,conditions:{date:Criteria.dateConditions,html:Criteria.stringConditions,"html-num":Criteria.numConditions,"html-num-fmt":Criteria.numFmtConditions,luxon:Criteria.luxonDateConditions,moment:Criteria.momentDateConditions,num:Criteria.numConditions,"num-fmt":Criteria.numFmtConditions,string:Criteria.stringConditions},depthLimit:false,enterSearch:false,filterChanged:undefined,greyscale:false,i18n:{add:"Add Condition",button:{0:"Search Builder",_:"Search Builder (%d)"},clearAll:"Clear All",condition:"Condition",conditions:{array:{contains:"Contains",empty:"Empty",equals:"Equals",not:"Not",notEmpty:"Not Empty",without:"Without"},date:{after:"After",before:"Before",between:"Between",empty:"Empty",equals:"Equals",not:"Not",notBetween:"Not Between",notEmpty:"Not Empty"},number:{between:"Between",empty:"Empty",equals:"Equals",gt:"Greater Than",gte:"Greater Than Equal To",lt:"Less Than",lte:"Less Than Equal To",not:"Not",notBetween:"Not Between",notEmpty:"Not Empty"},string:{contains:"Contains",empty:"Empty",endsWith:"Ends With",equals:"Equals",not:"Not",notContains:"Does Not Contain",notEmpty:"Not Empty",notEndsWith:"Does Not End With",notStartsWith:"Does Not Start With",startsWith:"Starts With"}},data:"Data",delete:"&times",deleteTitle:"Delete filtering rule",left:"<",leftTitle:"Outdent criteria",logicAnd:"And",logicOr:"Or",right:">",rightTitle:"Indent criteria",title:{0:"Custom Search Builder",_:"Custom Search Builder (%d)"},value:"Value",valueJoiner:"and"},logic:"AND",orthogonal:{display:"display",search:"filter"},preDefined:false};return SearchBuilder}();setJQuery($);setJQuery$1($);setJQuery$2($);var dataTable=$.fn.dataTable;DataTable.SearchBuilder=SearchBuilder;dataTable.SearchBuilder=SearchBuilder;DataTable.Group=Group;dataTable.Group=Group;DataTable.Criteria=Criteria;dataTable.Criteria=Criteria;var apiRegister=DataTable.Api.register;DataTable.ext.searchBuilder={conditions:{}};DataTable.ext.buttons.searchBuilder={action:function(e,dt,node,config){this.popover(config._searchBuilder.getNode(),{align:"container",span:"container"});var topGroup=config._searchBuilder.s.topGroup;if(topGroup!==undefined){topGroup.dom.container.trigger("dtsb-redrawContents-noDraw")}if(topGroup.s.criteria.length===0){$("."+$.fn.dataTable.Group.classes.add.replace(/ /g,".")).click()}},config:{},init:function(dt,node,config){var sb=new DataTable.SearchBuilder(dt,$.extend({filterChanged:function(count,text){dt.button(node).text(text)}},config.config));dt.button(node).text(config.text||dt.i18n("searchBuilder.button",sb.c.i18n.button,0));config._searchBuilder=sb},text:null};apiRegister("searchBuilder.getDetails()",function(deFormatDates){if(deFormatDates===void 0){deFormatDates=false}var ctx=this.context[0];return ctx._searchBuilder?ctx._searchBuilder.getDetails(deFormatDates):null});apiRegister("searchBuilder.rebuild()",function(details){var ctx=this.context[0];if(ctx._searchBuilder===undefined){return null}ctx._searchBuilder.rebuild(details);return this});apiRegister("searchBuilder.container()",function(){var ctx=this.context[0];return ctx._searchBuilder?ctx._searchBuilder.getNode():null});function _init(settings,options){var api=new DataTable.Api(settings);var opts=options?options:api.init().searchBuilder||DataTable.defaults.searchBuilder;var searchBuilder=new SearchBuilder(api,opts);var node=searchBuilder.getNode();return node}$(document).on("preInit.dt.dtsp",function(e,settings){if(e.namespace!=="dt"){return}if(settings.oInit.searchBuilder||DataTable.defaults.searchBuilder){if(!settings._searchBuilder){_init(settings)}}});DataTable.ext.feature.push({cFeature:"Q",fnInit:_init});if(DataTable.ext.features){DataTable.ext.features.register("searchBuilder",_init)}})();return DataTable});(function(factory){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net-dt","datatables.net-searchbuilder"],function($){return factory($,window,document)})}else if(typeof exports==="object"){var jq=require("jquery");var cjsRequires=function(root,$){if(!$.fn.dataTable){require("datatables.net-dt")(root,$)}if(!$.fn.dataTable.SearchBuilder){require("datatables.net-searchbuilder")(root,$)}};if(typeof window!=="undefined"){module.exports=function(root,$){if(!root){root=window}if(!$){$=jq(root)}cjsRequires(root,$);return factory($,root,root.document)}}else{cjsRequires(window,jq);module.exports=factory(jq,window,window.document)}}else{factory(jQuery,window,document)}})(function($,window,document,undefined){"use strict";var DataTable=$.fn.dataTable;return DataTable});